/*!
 * OpenUI5
 * (c) Copyright 2009-2020 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/f/cards/BaseContent","sap/f/cards/BindingResolver","sap/ui/model/Filter","sap/ui/model/FilterOperator","sap/base/Log"],function(B,a,F,b,L){"use strict";var c=B.extend("sap.f.cards.BaseListContent",{renderer:{}});c.prototype.setConfiguration=function(C,t){if(!C){return this;}var l=this.getInnerList(),m=C.maxItems;if(l&&m){l.setGrowing(true);l.setGrowingThreshold(parseInt(m));l.addStyleClass("sapFCardMaxItems");}return B.prototype.setConfiguration.apply(this,arguments);};c.prototype.getInnerList=function(){return null;};c.prototype._filterHiddenNavigationItems=function(i,o){if(!i.actions){return;}var A=i.actions[0];if(!(A&&A.service&&A.type==="Navigation")){return;}var f=new F("_card_item_hidden",b.EQ,false);this._awaitEvent("_filterNavItemsReady");o.filters=[f];};c.prototype._checkHiddenNavigationItems=function(i){if(!i.actions){return;}var m=this.getModel(),p=this.getBindingContext().getPath(),I=m.getProperty(p),A=i.actions[0],s=p.trim().replace(/\/$/,""),P=[],d;if(!(A&&A.service&&A.type==="Navigation")){return;}if(A.service==="object"){d=A.service.name;}else{d=A.service;}I.forEach(function(o,e){var f=a.resolveValue(A.parameters,this.getModel(),s+"/"+e);if(o._card_item_hidden!==undefined){return;}o._card_item_hidden=false;P.push(this._oServiceManager.getService(d).then(function(n){var m=this.getModel();if(!n.hidden){return Promise.resolve();}return n.hidden({parameters:f}).then(function(h){o._card_item_hidden=h;m.checkUpdate(true);});}.bind(this)).catch(function(M){L.error(M);}));}.bind(this));m.checkUpdate(true);Promise.all(P).then(function(){this.fireEvent("_filterNavItemsReady");}.bind(this));};return c;});
