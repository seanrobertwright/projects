/*!
 * OpenUI5
 * (c) Copyright 2009-2020 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/f/library","sap/f/cards/BaseContent","sap/ui/core/HTML","sap/f/cards/BindingResolver"],function(l,B,H,a){"use strict";var A=l.cards.AreaType;var b=B.extend("sap.f.cards.AnalyticsCloudContent",{renderer:{}});b.prototype.init=function(){B.prototype.init.apply(this,arguments);var i=this.getId()+"-highchartContainer";this._oHighchartContainer=new H(i,{content:"<div id="+i+" style='height:100%; width:100%'></div>"});this.setAggregation("_content",this._oHighchartContainer);this.fireEvent("_actionContentReady");};b.prototype.exit=function(){B.prototype.exit.apply(this,arguments);if(this._oHighchart){this._oHighchart.destroy();this._oHighchart=null;}if(this._oHighchartContainer){this._oHighchartContainer.destroy();this._oHighchartContainer=null;}};b.prototype.setConfiguration=function(c){B.prototype.setConfiguration.apply(this,arguments);this._oActions.setAreaType(A.Content);this._oActions.attach(c,this);};b.prototype.onAfterRendering=function(){this._createHighchart();};b.prototype._createHighchart=function(){var c=this.getParent(),C=this.getConfiguration(),o=this.getBindingContext(),p,d;if(!c.isReady()){c.attachEventOnce("_ready",this._createHighchart,this);return;}if(!window.Highcharts){this._handleError("Highcharts library is not available. Could not initialize AnalyticsCloud card content.");return;}if(o){p=o.getPath();}d=a.resolveValue(C.options,this.getModel(),p);this._oHighchart=new window.Highcharts.Chart(this._oHighchartContainer.getId(),d);};return b;});
