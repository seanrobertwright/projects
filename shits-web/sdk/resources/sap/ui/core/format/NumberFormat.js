/*!
 * OpenUI5
 * (c) Copyright 2009-2020 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(['sap/ui/base/Object','sap/ui/core/Locale','sap/ui/core/LocaleData','sap/base/Log','sap/base/assert','sap/ui/thirdparty/jquery'],function(B,L,a,b,c,q){"use strict";var N=B.extend("sap.ui.core.format.NumberFormat",{constructor:function(F){throw new Error();}});var r=/0+(\.0+)?/;var n={INTEGER:"integer",FLOAT:"float",CURRENCY:"currency",UNIT:"unit",PERCENT:"percent"};var R={FLOOR:"floor",CEILING:"ceiling",TOWARDS_ZERO:"towards_zero",AWAY_FROM_ZERO:"away_from_zero",HALF_FLOOR:"half_floor",HALF_CEILING:"half_ceiling",HALF_TOWARDS_ZERO:"half_towards_zero",HALF_AWAY_FROM_ZERO:"half_away_from_zero"};var m={};m[R.FLOOR]=Math.floor;m[R.CEILING]=Math.ceil;m[R.TOWARDS_ZERO]=function(i){return i>0?Math.floor(i):Math.ceil(i);};m[R.AWAY_FROM_ZERO]=function(i){return i>0?Math.ceil(i):Math.floor(i);};m[R.HALF_TOWARDS_ZERO]=function(i){return i>0?Math.ceil(i-0.5):Math.floor(i+0.5);};m[R.HALF_AWAY_FROM_ZERO]=function(i){return i>0?Math.floor(i+0.5):Math.ceil(i-0.5);};m[R.HALF_FLOOR]=function(i){return Math.ceil(i-0.5);};m[R.HALF_CEILING]=Math.round;N.RoundingMode=R;N.oDefaultIntegerFormat={minIntegerDigits:1,maxIntegerDigits:99,minFractionDigits:0,maxFractionDigits:0,groupingEnabled:false,groupingSize:3,groupingSeparator:",",decimalSeparator:".",plusSign:"+",minusSign:"-",isInteger:true,type:n.INTEGER,showMeasure:false,style:"standard",parseAsString:false,roundingMode:N.RoundingMode.TOWARDS_ZERO,emptyString:NaN,showScale:true};N.oDefaultFloatFormat={minIntegerDigits:1,maxIntegerDigits:99,minFractionDigits:0,maxFractionDigits:99,groupingEnabled:true,groupingSize:3,groupingSeparator:",",decimalSeparator:".",plusSign:"+",minusSign:"-",isInteger:false,type:n.FLOAT,showMeasure:false,style:"standard",parseAsString:false,roundingMode:N.RoundingMode.HALF_AWAY_FROM_ZERO,emptyString:NaN,showScale:true};N.oDefaultPercentFormat={minIntegerDigits:1,maxIntegerDigits:99,minFractionDigits:0,maxFractionDigits:99,groupingEnabled:true,groupingSize:3,groupingSeparator:",",decimalSeparator:".",plusSign:"+",minusSign:"-",percentSign:"%",isInteger:false,type:n.PERCENT,showMeasure:false,style:"standard",parseAsString:false,roundingMode:N.RoundingMode.HALF_AWAY_FROM_ZERO,emptyString:NaN,showScale:true};N.oDefaultCurrencyFormat={minIntegerDigits:1,maxIntegerDigits:99,groupingEnabled:true,groupingSize:3,groupingSeparator:",",decimalSeparator:".",plusSign:"+",minusSign:"-",isInteger:false,type:n.CURRENCY,showMeasure:true,currencyCode:true,currencyContext:'standard',style:"standard",customCurrencies:undefined,parseAsString:false,roundingMode:N.RoundingMode.HALF_AWAY_FROM_ZERO,emptyString:NaN,showScale:true,ignorePrecision:true};N.oDefaultUnitFormat={minIntegerDigits:1,maxIntegerDigits:99,groupingEnabled:true,groupingSize:3,groupingSeparator:",",decimalSeparator:".",plusSign:"+",minusSign:"-",isInteger:false,type:n.UNIT,showMeasure:true,style:"standard",customUnits:undefined,allowedUnits:undefined,parseAsString:false,roundingMode:N.RoundingMode.HALF_AWAY_FROM_ZERO,emptyString:NaN,showScale:true};N.getInstance=function(F,o){return this.getFloatInstance(F,o);};N.getFloatInstance=function(F,o){var i=this.createInstance(F,o),t=this.getLocaleFormatOptions(i.oLocaleData,n.FLOAT);i.oFormatOptions=q.extend(false,{},this.oDefaultFloatFormat,t,F);return i;};N.getIntegerInstance=function(F,o){var i=this.createInstance(F,o),t=this.getLocaleFormatOptions(i.oLocaleData,n.INTEGER);i.oFormatOptions=q.extend(false,{},this.oDefaultIntegerFormat,t,F);return i;};N.getCurrencyInstance=function(F,o){var i=this.createInstance(F,o);var C=F&&F.currencyContext;var S=s(F);if(S){C=C||this.oDefaultCurrencyFormat.style;C="sap-"+C;}var t=this.getLocaleFormatOptions(i.oLocaleData,n.CURRENCY,C);i.oFormatOptions=q.extend(false,{},this.oDefaultCurrencyFormat,t,F);i.oFormatOptions.trailingCurrencyCode=S;i._defineCustomCurrencySymbols();return i;};N.getUnitInstance=function(F,o){var i=this.createInstance(F,o),t=this.getLocaleFormatOptions(i.oLocaleData,n.UNIT);i.oFormatOptions=q.extend(false,{},this.oDefaultUnitFormat,t,F);return i;};N.getPercentInstance=function(F,o){var i=this.createInstance(F,o),t=this.getLocaleFormatOptions(i.oLocaleData,n.PERCENT);i.oFormatOptions=q.extend(false,{},this.oDefaultPercentFormat,t,F);return i;};N.createInstance=function(F,o){var i=Object.create(this.prototype),P;if(F instanceof L){o=F;F=undefined;}if(!o){o=sap.ui.getCore().getConfiguration().getFormatSettings().getFormatLocale();}i.oLocale=o;i.oLocaleData=a.getInstance(o);i.oOriginalFormatOptions=F;if(F){if(F.pattern){P=this.parseNumberPattern(F.pattern);q.each(P,function(t,O){F[t]=O;});}if(F.emptyString!==undefined){c(F.emptyString===""||F.emptyString===0||F.emptyString===null||F.emptyString!==F.emptyString,"The format option 'emptyString' must be either 0, null or NaN");}}return i;};N.getDefaultUnitPattern=function(S){return"{0} "+S;};N.getLocaleFormatOptions=function(o,t,C){var i,u;switch(t){case n.PERCENT:u=o.getPercentPattern();break;case n.CURRENCY:u=o.getCurrencyPattern(C);break;case n.UNIT:u=o.getDecimalPattern();break;default:u=o.getDecimalPattern();}i=this.parseNumberPattern(u);i.plusSign=o.getNumberSymbol("plusSign");i.minusSign=o.getNumberSymbol("minusSign");i.decimalSeparator=o.getNumberSymbol("decimal");i.groupingSeparator=o.getNumberSymbol("group");i.percentSign=o.getNumberSymbol("percentSign");i.pattern=u;switch(t){case n.UNIT:case n.FLOAT:case n.PERCENT:i.minFractionDigits=0;i.maxFractionDigits=99;break;case n.INTEGER:i.minFractionDigits=0;i.maxFractionDigits=0;i.groupingEnabled=false;break;case n.CURRENCY:i.minFractionDigits=undefined;i.maxFractionDigits=undefined;break;}return i;};N.parseNumberPattern=function(F){var M=0,o=0,t=0,G=false,u=0,v=0,S=F.indexOf(";"),w={Integer:0,Fraction:1},x=w.Integer;if(S!==-1){F=F.substring(0,S);}for(var i=0;i<F.length;i++){var C=F[i];switch(C){case",":if(G){u=v;v=0;}G=true;break;case".":x=w.Fraction;break;case"0":if(x===w.Integer){M++;if(G){v++;}}else{o++;t++;}break;case"#":if(x===w.Integer){if(G){v++;}}else{t++;}break;}}if(!u){u=v;v=0;}return{minIntegerDigits:M,minFractionDigits:o,maxFractionDigits:t,groupingEnabled:G,groupingSize:u,groupingBaseSize:v};};N.prototype._defineCustomCurrencySymbols=function(){var o=this.oFormatOptions;var C=this.oLocaleData.getCurrencySymbols();var F=function(S,i){var u=[];var t;for(var K in S){t=S[K];if(u.indexOf(t)===-1){u.push(t);}else if(t!==undefined){i[t]=true;b.error("Symbol '"+t+"' is defined multiple times in custom currencies.",undefined,"NumberFormat");}}};if(o.customCurrencies&&typeof o.customCurrencies==="object"){this.mKnownCurrencySymbols={};this.mKnownCurrencyCodes={};Object.keys(o.customCurrencies).forEach(function(K){if(o.customCurrencies[K].symbol){this.mKnownCurrencySymbols[K]=o.customCurrencies[K].symbol;}else{var i=o.customCurrencies[K].isoCode;if(i){this.mKnownCurrencySymbols[K]=C[i];}}this.mKnownCurrencyCodes[K]=K;}.bind(this));}else{this.mKnownCurrencySymbols=C;this.mKnownCurrencyCodes=this.oLocaleData.getCustomCurrencyCodes();}this.mDuplicatedSymbols={};F(this.mKnownCurrencySymbols,this.mDuplicatedSymbols);};N.prototype.format=function(v,M){if(Array.isArray(v)){M=v[1];v=v[0];}var i="",F="",G="",o="",t="",P="",u=0,w=0,x=0,y=0,z=v<0,D=-1,O=q.extend({},this.oFormatOptions),A=this.oOriginalFormatOptions,I=O.type===n.CURRENCY&&M==="INR"&&this.oLocale.getLanguage()==="en"&&this.oLocale.getRegion()==="IN",C,S,E,H,U,J;if(v===O.emptyString||(isNaN(v)&&isNaN(O.emptyString))){return"";}if(M&&O.customCurrencies&&!O.customCurrencies[M]){b.error("Currency '"+M+"' is unknown.");return"";}if(O.type===n.UNIT){if(O.customUnits&&typeof O.customUnits==="object"){U=O.customUnits[M];}else{J=this.oLocaleData.getUnitFromMapping(M)||M;U=this.oLocaleData.getUnitFormat(J);}O.decimals=(U&&(typeof U.decimals==="number"&&U.decimals>=0))?U.decimals:O.decimals;O.precision=(U&&(typeof U.precision==="number"&&U.precision>=0))?U.precision:O.precision;}if(O.type==n.CURRENCY){if(O.customCurrencies&&O.customCurrencies[M]){O.decimals=O.customCurrencies[M].decimals!==undefined?O.customCurrencies[M].decimals:O.decimals;}}if(O.decimals!==undefined){O.minFractionDigits=O.decimals;O.maxFractionDigits=O.decimals;}if(O.shortLimit===undefined||Math.abs(v)>=O.shortLimit){E=O.shortRefNumber===undefined?v:O.shortRefNumber;S=g(E,O,this.oLocaleData,I);if(S&&S.formatString!="0"){v=v/S.magnitude;if(O.shortDecimals!==undefined){O.minFractionDigits=O.shortDecimals;O.maxFractionDigits=O.shortDecimals;}else{if(A.minFractionDigits===undefined&&A.maxFractionDigits===undefined&&A.decimals===undefined&&A.precision===undefined&&A.pattern===undefined){O.precision=2;O.minFractionDigits=0;O.maxFractionDigits=99;}if(A.maxFractionDigits===undefined&&A.decimals===undefined){O.maxFractionDigits=99;}}O.roundingMode=N.RoundingMode.HALF_AWAY_FROM_ZERO;}}if((S||!O.ignorePrecision)&&O.precision!==undefined){O.maxFractionDigits=Math.min(O.maxFractionDigits,j(v,O.precision));O.minFractionDigits=Math.min(O.minFractionDigits,O.maxFractionDigits);}if(O.type==n.PERCENT){v=N._shiftDecimalPoint(v,2);}if(O.type==n.CURRENCY){var K=this.oLocaleData.getCurrencyDigits(M);if(O.customCurrencies&&O.customCurrencies[M]&&O.customCurrencies[M].decimals!==undefined){K=O.customCurrencies[M].decimals;}if(O.maxFractionDigits===undefined){O.maxFractionDigits=K;}if(O.minFractionDigits===undefined){O.minFractionDigits=K;}}if(typeof v==="number"){v=f(v,O.maxFractionDigits,O.roundingMode);}if(v==0){z=false;}t=this.convertToDecimal(v);if(t=="NaN"){return t;}if(z){t=t.substr(1);}D=t.indexOf(".");if(D>-1){i=t.substr(0,D);F=t.substr(D+1);}else{i=t;}if(i.length<O.minIntegerDigits){i=i.padStart(O.minIntegerDigits,"0");}else if(i.length>O.maxIntegerDigits){i="".padStart(O.maxIntegerDigits,"?");}if(F.length<O.minFractionDigits){F=F.padEnd(O.minFractionDigits,"0");}else if(F.length>O.maxFractionDigits){F=F.substr(0,O.maxFractionDigits);}w=i.length;if(O.groupingEnabled){if(I){var Q=[3,2,2],T,V=0;u=i.length;while(u>0){T=Q[V%3];u-=T;if(V>0){G=O.groupingSeparator+G;}if(u<0){T+=u;u=0;}G=i.substr(u,T)+G;V++;}}else{x=O.groupingSize;y=O.groupingBaseSize||x;u=Math.max(w-y,0)%x||x;G=i.substr(0,u);while(w-u>=y){G+=O.groupingSeparator;G+=i.substr(u,x);u+=x;}G+=i.substr(u);}}else{G=i;}if(z){o=O.minusSign;}o+=G;if(F){o+=O.decimalSeparator+F;}if(S&&S.formatString&&O.showScale&&O.type!==n.CURRENCY){H=this.oLocaleData.getPluralCategory(i+"."+F);S.formatString=this.oLocaleData.getDecimalFormat(O.style,S.key,H);o=S.formatString.replace(S.valueSubString,o);o=o.replace(/'.'/g,".");}if(O.type===n.CURRENCY){P=O.pattern;if(S&&S.formatString&&O.showScale){var W;if(O.trailingCurrencyCode){W="sap-short";}else{W="short";}H=this.oLocaleData.getPluralCategory(i+"."+F);if(I){P=e(W,S.key,H);}else{P=this.oLocaleData.getCurrencyFormat(W,S.key,H);}P=P.replace(/'.'/g,".");}C=P.split(";");if(C.length===2){P=z?C[1]:C[0];if(z){o=o.substring(1);}}if(!O.currencyCode){var X;if(O.customCurrencies&&typeof O.customCurrencies==="object"){X=this.mKnownCurrencySymbols[M];}else{X=this.oLocaleData.getCurrencySymbol(M);}if(X&&X!==M){M=X;}}o=this._composeCurrencyResult(P,o,M,{showMeasure:O.showMeasure,negative:z,minusSign:O.minusSign});}if(O.type===n.PERCENT){P=O.pattern;o=P.replace(/[0#.,]+/,o);o=o.replace(/%/,O.percentSign);}if(O.showMeasure&&O.type===n.UNIT){H=this.oLocaleData.getPluralCategory(i+"."+F);c(H,"Cannot find plural category for "+(i+"."+F));var Y=!O.allowedUnits||O.allowedUnits.indexOf(M)>=0;if(!Y){c(Y,"The given unit '"+M+"' is not part of the allowed unit types: ["+O.allowedUnits.join(",")+"].");return"";}if(U){P=U["unitPattern-count-"+H];if(!P){P=U["unitPattern-count-other"];}c(P,"Cannot find pattern 'unitPattern-count-"+H+"' in '"+M+"'");if(!P){return"";}o=P.replace("{0}",o);}else if(!O.unitOptional){c(U,"Unit '"+M+"' is unknown");return"";}}if(sap.ui.getCore().getConfiguration().getOriginInfo()){o=new String(o);o.originInfo={source:"Common Locale Data Repository",locale:this.oLocale.toString()};}return o;};N.prototype._composeCurrencyResult=function(P,F,M,o){var i=o.minusSign;P=P.replace(/[0#.,]+/,F);if(o.showMeasure&&M){var t="\u00a4",u={"[:digit:]":/\d/,"[:^S:]":/[^\$\xA2-\xA5\u058F\u060B\u09F2\u09F3\u09FB\u0AF1\u0BF9\u0E3F\u17DB\u20A0-\u20BD\uA838\uFDFC\uFE69\uFF04\uFFE0\uFFE1\uFFE5\uFFE6]/},v=P.indexOf(t),w=v<P.length/2?"after":"before",S=this.oLocaleData.getCurrencySpacing(w),C=(w==="after"?M.charAt(M.length-1):M.charAt(0)),x,y=u[S.currencyMatch],z=u[S.surroundingMatch],I;P=P.replace(t,M);x=(w==="after"?P.charAt(v+M.length):P.charAt(v-1));if(y&&y.test(C)&&z&&z.test(x)){if(w==="after"){I=v+M.length;}else{I=v;}P=P.slice(0,I)+S.insertBetween+P.slice(I);}else if(o.negative&&w==="after"){i="\ufeff"+o.minusSign;}}else{P=P.replace(/\s*\u00a4\s*/,"");}if(o.negative){P=P.replace(/-/,i);}return P;};N.prototype.parse=function(v){var o=this.oFormatOptions,P=o.plusSign+this.oLocaleData.getLenientNumberSymbols("plusSign"),M=o.minusSign+this.oLocaleData.getLenientNumberSymbols("minusSign"),t=h(P+M),G=h(o.groupingSeparator),D=h(o.decimalSeparator),u="^\\s*(["+t+"]?(?:[0-9"+G+"]+|[0-9"+G+"]*"+D+"[0-9]*)(?:[eE][+-][0-9]+)?)\\s*$",w="^\\s*(["+t+"]?[0-9"+G+"]+)\\s*$",x=new RegExp(G,"g"),y=new RegExp(D,"g"),z=this.oLocaleData.getNumberSymbol("percentSign"),I=o.type===n.CURRENCY&&this.oLocale.getLanguage()==="en"&&this.oLocale.getRegion()==="IN",A,C,E,F,H=0,S,J;if(v===""){J=o.emptyString;if(o.parseAsString&&(o.emptyString===0||isNaN(o.emptyString))){J=o.emptyString+"";}if(o.type===n.CURRENCY||o.type===n.UNIT){return[J,undefined];}else{return J;}}F=o.type===n.PERCENT?o.pattern:this.oLocaleData.getPercentPattern();if(F.charAt(0)==="%"){u=u.slice(0,1)+"%?"+u.slice(1);}else if(F.charAt(F.length-1)==="%"){u=u.slice(0,u.length-1)+"%?"+u.slice(u.length-1);}var U;if(o.type===n.UNIT){var K;if(o.customUnits&&typeof o.customUnits==="object"){K=o.customUnits;}else{K=this.oLocaleData.getUnitFormats();}c(K,"Unit patterns cannot be loaded");if(o.allowedUnits){var O={};for(var i=0;i<o.allowedUnits.length;i++){var Q=o.allowedUnits[i];O[Q]=K[Q];}K=O;}var T=p(K,v);var V=false;U=T.cldrCode;if(U.length===1){E=U[0];}else if(U.length===0){if((o.unitOptional||!o.showMeasure)&&typeof v==="string"){T.numberValue=v;}else{c(U.length===1,"Cannot find unit for input: '"+(v)+"'");return null;}}else{c(U.length===1,"Ambiguous unit ["+U.join(", ")+"] for input: '"+(v)+"'");E=undefined;V=true;}if(o.strictParsing){if((E&&!o.showMeasure)||V){return null;}}v=T.numberValue||v;}var W;if(o.type===n.CURRENCY){W=l({value:v,currencySymbols:this.mKnownCurrencySymbols,customCurrencyCodes:this.mKnownCurrencyCodes,duplicatedSymbols:this.mDuplicatedSymbols,customCurrenciesAvailable:!!o.customCurrencies});if(!W){return null;}if(o.strictParsing){if((o.showMeasure&&!W.currencyCode)||W.duplicatedSymbolFound){return null;}}v=W.numberValue;E=W.currencyCode;if((o.customCurrencies&&E===null)||(!o.showMeasure&&E)){return null;}}if(typeof v==="string"||v instanceof String){v=v.replace(/[\u202a\u200e\u202c\u202b\u200f]/g,"");v=v.replace(/\s/g,"");}S=d(v,this.oLocaleData,I);if(S){v=S.number;}if(o.isInteger&&!S){A=new RegExp(w);}else{A=new RegExp(u);}if(!A.test(v)){return o.type===n.CURRENCY||o.type===n.UNIT?null:NaN;}v=v.replace(x,"");var X=v.length;for(var Y=0;Y<X;Y++){var Z=v[Y];if(P.includes(Z)){v=v.replace(Z,"+");break;}else if(M.includes(Z)){v=v.replace(Z,"-");break;}}v=v.replace(/^\+/,"");if(S){v=v.replace(y,".");v=N._shiftDecimalPoint(v,Math.round(Math.log(S.factor)/Math.LN10));}if(o.isInteger){H=o.parseAsString?v:parseInt(v);}else{v=v.replace(y,".");if(v.indexOf(z)!==-1){C=true;v=v.replace(z,"");}H=o.parseAsString?v:parseFloat(v);if(C){H=N._shiftDecimalPoint(H,-2);}}if(o.parseAsString){H=N._shiftDecimalPoint(v,0);}if(o.type===n.CURRENCY||o.type===n.UNIT){return[H,E];}return H;};N.prototype.convertToDecimal=function(v){var V=""+v,o,t,D,F,E,P;if(V.indexOf("e")==-1&&V.indexOf("E")==-1){return V;}var u=V.match(/^([+-]?)((\d+)(?:\.(\d+))?)[eE]([+-]?\d+)$/);o=u[1]=="-";t=u[2].replace(/\./g,"");D=u[3]?u[3].length:0;F=u[4]?u[4].length:0;E=parseInt(u[5]);if(E>0){if(E<F){P=D+E;V=t.substr(0,P)+"."+t.substr(P);}else{V=t;E-=F;for(var i=0;i<E;i++){V+="0";}}}else{if(-E<D){P=D+E;V=t.substr(0,P)+"."+t.substr(P);}else{V=t;E+=D;for(var i=0;i>E;i--){V="0"+V;}V="0."+V;}}if(o){V="-"+V;}return V;};N.prototype.getScale=function(){if((this.oFormatOptions.style!=="short"&&this.oFormatOptions.style!=="long")||this.oFormatOptions.shortRefNumber===undefined){return;}var S=g(this.oFormatOptions.shortRefNumber,this.oFormatOptions,this.oLocaleData),i;if(S&&S.formatString){i=S.formatString.replace(r,"").replace(/'.'/g,".").trim();if(i){return i;}}};N._shiftDecimalPoint=function(v,S){if(typeof S!=="number"){return NaN;}var M="";var E=v.toString().toLowerCase().split("e");if(typeof v==="number"){S=E[1]?(+E[1]+S):S;return+(E[0]+"e"+S);}else if(typeof v==="string"){if(parseFloat(v)===0&&S>=0){return v;}var F=E[0].charAt(0);M=F==="-"?F:"";if(M){E[0]=E[0].slice(1);}v=E[0];var D=v.indexOf("."),A,i,o;if(D===-1){v=v+".";D=v.length-1;}if(E[1]){D+=(+E[1]);}A=D+S;if(A<=0){v=v.padStart(v.length-A+1,'0');A=1;}else if(A>=v.length-1){v=v.padEnd(A+1,'0');A=v.length-1;}v=v.replace(".","");i=v.substring(0,A);o=v.substring(A);i=i.replace(/^(-?)0+(\d)/,"$1$2");return M+i+(o?("."+o):"");}else{return null;}};function g(v,o,t,I){var S,K,u,C,w=o.style,P=o.precision!==undefined?o.precision:2;if(w!="short"&&w!="long"){return undefined;}for(var i=0;i<15;i++){K=Math.pow(10,i);if(f(Math.abs(v)/K,P-1)<10){break;}}u=K.toString();if(o.type===n.CURRENCY){if(o.trailingCurrencyCode){w="sap-short";}if(I){C=e(w,u,"other",true);}else{C=t.getCurrencyFormat(w,u,"other");}}else{C=t.getDecimalFormat(w,u,"other");}if(!C||C=="0"){return undefined;}else{S={};S.key=u;S.formatString=C;var x=C.match(r);if(x){S.valueSubString=x[0];var y=S.valueSubString.indexOf(".");if(y==-1){S.decimals=0;S.magnitude=K*Math.pow(10,1-S.valueSubString.length);}else{S.decimals=S.valueSubString.length-y-1;S.magnitude=K*Math.pow(10,1-y);}}else{return undefined;}}return S;}function d(v,o,I){var t,F=1,K=10,P=o.getPluralCategories(),C,u={number:undefined,factor:F},G=function(x,K,S,y){if(y){C=e(S,K.toString(),x,true);}else{C=o.getDecimalFormat(S,K.toString(),x);}if(C){C=C.replace(/[\s\u00a0\u200F]/g,"");C=C.replace(/'.'/g,".");var z=C.match(r);if(z){var V=z[0];var U=C.replace(V,"");if(!U){return;}var A=v.indexOf(U);if(A>=0){t=v.replace(U,"");t=t.replace(/\u200F/g,"");F=K;F*=Math.pow(10,1-V.length);if(u.number===undefined||t.length<u.number.length){u.number=t;u.factor=F;}}}}};["long","short"].forEach(function(S){K=10;while(K<1e15){for(var i=0;i<P.length;i++){var w=P[i];G(w,K,S);}K=K*10;}});if(I&&!t){K=10;while(K<1e15){for(var i=0;i<P.length;i++){var w=P[i];G(w,K,"short",true);}K=K*10;}}if(!t){return;}return u;}function s(F){var S=sap.ui.getCore().getConfiguration().getFormatSettings().getTrailingCurrencyCode();if(F){if(F.trailingCurrencyCode!==undefined){S=F.trailingCurrencyCode;}if(F.pattern){S=false;}if(F.currencyCode===false){S=false;}}return S;}function e(S,K,P,D){var F,C={"short":{"1000-one":"¤0000","1000-other":"¤0000","10000-one":"¤00000","10000-other":"¤00000","100000-one":"¤0 Lk","100000-other":"¤0 Lk","1000000-one":"¤00 Lk","1000000-other":"¤00 Lk","10000000-one":"¤0 Cr","10000000-other":"¤0 Cr","100000000-one":"¤00 Cr","100000000-other":"¤00 Cr","1000000000-one":"¤000 Cr","1000000000-other":"¤000 Cr","10000000000-one":"¤0000 Cr","10000000000-other":"¤0000 Cr","100000000000-one":"¤00000 Cr","100000000000-other":"¤00000 Cr","1000000000000-one":"¤0 Lk Cr","1000000000000-other":"¤0 Lk Cr","10000000000000-one":"¤00 Lk Cr","10000000000000-other":"¤00 Lk Cr","100000000000000-one":"¤0 Cr Cr","100000000000000-other":"¤0 Cr Cr"},"sap-short":{"1000-one":"0000 ¤","1000-other":"0000 ¤","10000-one":"00000 ¤","10000-other":"00000 ¤","100000-one":"0 Lk ¤","100000-other":"0 Lk ¤","1000000-one":"00 Lk ¤","1000000-other":"00 Lk ¤","10000000-one":"0 Cr ¤","10000000-other":"0 Cr ¤","100000000-one":"00 Cr ¤","100000000-other":"00 Cr ¤","1000000000-one":"000 Cr ¤","1000000000-other":"000 Cr ¤","10000000000-one":"0000 Cr ¤","10000000000-other":"0000 Cr ¤","100000000000-one":"00000 Cr ¤","100000000000-other":"00000 Cr ¤","1000000000000-one":"0 Lk Cr ¤","1000000000000-other":"0 Lk Cr ¤","10000000000000-one":"00 Lk Cr ¤","10000000000000-other":"00 Lk Cr ¤","100000000000000-one":"0 Cr Cr ¤","100000000000000-other":"0 Cr Cr ¤"}},o={"short":{"1000-one":"0000","1000-other":"0000","10000-one":"00000","10000-other":"00000","100000-one":"0 Lk","100000-other":"0 Lk","1000000-one":"00 Lk","1000000-other":"00 Lk","10000000-one":"0 Cr","10000000-other":"0 Cr","100000000-one":"00 Cr","100000000-other":"00 Cr","1000000000-one":"000 Cr","1000000000-other":"000 Cr","10000000000-one":"0000 Cr","10000000000-other":"0000 Cr","100000000000-one":"00000 Cr","100000000000-other":"00000 Cr","1000000000000-one":"0 Lk Cr","1000000000000-other":"0 Lk Cr","10000000000000-one":"00 Lk Cr","10000000000000-other":"00 Lk Cr","100000000000000-one":"0 Cr Cr","100000000000000-other":"0 Cr Cr"}};o["sap-short"]=o["short"];var t=D?o:C;var i=t[S];if(!i){i=t["short"];}if(P!=="one"){P="other";}F=i[K+"-"+P];return F;}function f(v,M,i){if(typeof v!=="number"){return NaN;}i=i||N.RoundingMode.HALF_AWAY_FROM_ZERO;M=parseInt(M);if(typeof i==="function"){v=i(v,M);}else{if(!M){return m[i](v);}v=N._shiftDecimalPoint(m[i](N._shiftDecimalPoint(v,M)),-M);}return v;}function h(i){return i.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1");}function j(v,P){var i=Math.floor(Math.log(Math.abs(v))/Math.LN10);return Math.max(0,P-i-1);}function p(u,v){var o={numberValue:undefined,cldrCode:[]};if(typeof v!=="string"){return o;}var i=Number.POSITIVE_INFINITY;var U,K;for(U in u){for(K in u[U]){if(K.indexOf("unitPattern")===0){var t=u[U][K];var w=t.indexOf("{0}");var C=w>-1;if(C){var P=t.substring(0,w);var x=t.substring(w+"{0}".length);var M=v.startsWith(P)&&v.endsWith(x);var y=M&&v.substring(P.length,v.length-x.length);if(y){if(y.length<i){i=y.length;o.numberValue=y;o.cldrCode=[U];}else if(y.length===i&&o.cldrCode.indexOf(U)===-1){o.cldrCode.push(U);}}}else if(t===v){o.cldrCode=[U];var z;if(K.endsWith("-zero")){z="0";}else if(K.endsWith("-one")){z="1";}else if(K.endsWith("-two")){z="2";}o.numberValue=z;return o;}}}}return o;}function k(v,C){var S="",i,o;for(var t in C){o=C[t];if(v.indexOf(o)>=0&&S.length<o.length){S=o;i=t;}}return{symbol:S,code:i};}function l(C){var v=C.value;var M=k(v,C.currencySymbols);if(!M.code){M=k(v,C.customCurrencyCodes);if(!M.code&&!C.customCurrenciesAvailable){var i=v.match(/(^[A-Z]{3}|[A-Z]{3}$)/);M.code=i&&i[0];}}if(M.code){var o=M.code.length-1;var t=M.code.charAt(o);var D;var u=/[\-\s]+/;if(/\d$/.test(t)){if(v.startsWith(M.code)){D=o+1;if(!u.test(v.charAt(D))){return undefined;}}}else if(/^\d/.test(M.code)){if(v.endsWith(M.code)){D=v.indexOf(M.code)-1;if(!u.test(v.charAt(D))){return undefined;}}}v=v.replace(M.symbol||M.code,"");}var w=false;if(C.duplicatedSymbols&&C.duplicatedSymbols[M.symbol]){M.code=undefined;w=true;b.error("The parsed currency symbol '"+M.symbol+"' is defined multiple "+"times in custom currencies.Therefore the result is not distinct.");}return{numberValue:v,currencyCode:M.code||undefined,duplicatedSymbolFound:w};}return N;});
