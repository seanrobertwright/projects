/*!
 * OpenUI5
 * (c) Copyright 2009-2020 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
(function(){"use strict";var U={SEARCH_INDEX:"../../../../../../../searchindex.json",SEARCH_LIB:"../../thirdparty/elasticlunr.js",PROMISE_POLYFIL_LIB:"../../../../../../sap/ui/thirdparty/es6-promise.js"};if(!self.Promise){importScripts(U.PROMISE_POLYFIL_LIB);}importScripts(U.SEARCH_LIB);var W={COMMANDS:{INIT:"fetch",SEARCH:"search"},RESPONSE_FIELDS:{DONE:"bDone",SEARCH_RESULT:"oSearchResult"}},M=["properties","aggregations","associations","events","methods","specialSettings","annotations"],I=M.concat(["title","contents","paramTypes"]),A=["get","set","add","insert","remove","destroy","indexOf","attach","detach"],a=new RegExp("[a-zA-Z]+"),O=" ",o={},b=false;self.addEventListener('message',function(E){var D=E.data,C=D&&D.cmd;if(C===W.COMMANDS.INIT){b=E.data.bIsMsieBrowser;f().then(function(){var r={};r[W.RESPONSE_FIELDS.DONE]=true;self.postMessage(r);});}else if(C===W.COMMANDS.SEARCH){s(E.data.sQuery).then(function(i){var r={};r[W.RESPONSE_FIELDS.SEARCH_RESULT]=i;self.postMessage(r);});}},false);function f(){return new Promise(function(r,i){var j=o["index"],k;if(j){r(j);return;}var l=new XMLHttpRequest(),m=function(E){k=E.target.response||E.target.responseText;if(typeof k!=='object'){k=JSON.parse(k);}k=d(k);c();j=lunr.Index.load(k.lunr);o["index"]=j;o["docs"]=k.docs;r(j);};if(!b){l.responseType='json';}l.addEventListener("load",m,false);l.open("get",U.SEARCH_INDEX);l.send();});}function s(q){q=p(q);return new Promise(function(r,i){f().then(function(j){var k,l=new S();function m(F,n,R){var t=j.search(n,e(F));l.add(t,n,F,R);}m("title",q);M.forEach(function(F){lunr.tokenizer(q).forEach(function(n){m(F,n,true);});});m("paramTypes",q);m("contents",q);k=l.getAll();r({success:!!(k.length),totalHits:k.length,matches:k});});});}function p(q){var j;for(var i=0;i<A.length;i++){var P=A[i];if(q.indexOf(P)===0){j=q.substring(P.length);}}if(j&&a.test(j)){q+=O+j;}return q;}function c(){var i=lunr.tokenizer;var r=/[-./#_,;\(\)=><|]/g;lunr.tokenizer=function(j){return i.call(lunr,j).reduce(function(k,t){if(r.test(t)){t=t.replace(r," ");k.push.apply(k,t.toLowerCase().split(/ +/));}else{k.push(t.toLowerCase());}return k;},[]);};Object.keys(i).forEach(function(k){lunr.tokenizer[k]=i[k];});}function d(j){function k(F){var i=j.lunr.index[F].tfValues;i[0]=NaN;j.lunr.index[F].tfValues=undefined;function m(C){var D=[];C.split(",").forEach(function(r){var P=r.split(":"),K=parseInt(P[0]),u=P[1];while(u.length>0){D.push(u.slice(0,K));u=u.slice(K);}});return D;}function n(N){var D=N.docs,C=0;if(D===undefined){N.docs={};}else{Object.keys(D).forEach(function(r){if(typeof D[r]==='number'){D[r]={tf:i[D[r]]};}if(r.indexOf(':')>=0){var u=m(r);u.forEach(function(v){D[v]=D[r];C++;});D[r]=undefined;}else{C++;}});}if(N.df===undefined){N.df=C;}}function q(N){n(N);Object.keys(N).forEach(function(K){if(K!=='docs'&&K!=='df'){var v=N[K];var L=K.length;if(L>1){while(--L>0){var T={};T[K.charAt(L)]=v;v=T;}N[K.charAt(0)]=v;N[K]=undefined;}q(v);}});}q(j.lunr.index[F].root);}function t(n,P){for(var i in n){P.apply(n,[i,n[i]]);if(n[i]!==null&&typeof(n[i])=="object"){t(n[i],P);}}}function l(K,v){if(v===undefined){delete this[K];}}I.forEach(function(F){k(F);});t(j,l);return j;}var S=function(){var D=o["docs"];if(!D){throw new Error("docs are required");}this._oDocs=D;this._oCollectedResults={};};S.prototype.add=function(r,q,m,R){r.forEach(function(i){this._mergeResultWithDocInfo(i,q,m,R);this._oCollectedResults[this._getResultId(i)]=i;}.bind(this));return this;};S.prototype.getAll=function(){return h(this._oCollectedResults);};S.prototype._mergeResultWithDocInfo=function(r,q,D,R){var i=this._oDocs[r.ref];r.doc=i;r.matchedDocField=D;if(R){r.matchedDocWord=g(i[D],q);}};S.prototype._getResultId=function(r){var D=r.ref,i=r.matchedDocWord||"";return D+"/"+i;};function g(w,t){if(w){var i=function(k){return k.toLowerCase().indexOf(t.toLowerCase())===0;};var m=w.split(" ");var j=m.filter(i);if(j.length){return j[0];}}return null;}function e(F){var C={fields:{},expand:true};C.fields[F]={};return C;}function h(i){var k=Object.keys(i),v=[];k.forEach(function(K){v.push(i[K]);});return v;}})();
