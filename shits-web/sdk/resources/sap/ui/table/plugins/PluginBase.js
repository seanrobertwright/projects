/*
 * OpenUI5
 * (c) Copyright 2009-2020 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["../utils/TableUtils","sap/ui/core/Element"],function(T,E){"use strict";var H=T.Hook.Keys;var h={hooks:{}};var P=E.extend("sap.ui.table.plugins.PluginBase",{metadata:{"abstract":true,library:"sap.ui.table"}});P.prototype.init=function(){E.prototype.init.apply(this,arguments);this._bIsActive=false;};P.prototype.exit=function(){E.prototype.exit.apply(this,arguments);this._deactivate(this.getTable());};P.prototype.onActivate=function(t){T.Hook.install(t,h,this);var o=t.getBinding("rows");if(o){this.onTableRowsBound(o);}this._bIsActive=true;};P.prototype.onDeactivate=function(t){T.Hook.uninstall(t,h,this);this._bIsActive=false;};P.prototype.isActive=function(){return this._bIsActive;};P.prototype.isApplicable=function(t){return T.isA(t,"sap.ui.table.Table");};P.prototype.setParent=function(p){var o=this.getTable();E.prototype.setParent.apply(this,arguments);var n=this.getTable();if(n){if(!this.isApplicable(n)){throw new Error(this+" is not applicable to "+n);}this._activate(n);}else if(o){this._deactivate(o);}return this;};P.prototype.onTableRowsBound=function(b){};h.hooks[H.Table.RowsBound]=function(b){this.onTableRowsBound(b);};P.prototype.onTableUnbindRows=function(){};h.hooks[H.Table.UnbindRows]=function(){this.onTableUnbindRows();};P.prototype.getTable=function(){var p=this.getParent();return T.isA(p,"sap.ui.table.Table")?p:null;};P.prototype.getTableBinding=function(){var t=this.getTable();var b=t?t.getBinding("rows"):null;return b?b:null;};P.prototype._activate=function(t){if(!this.isActive()){this.onActivate(t);}};P.prototype._deactivate=function(t){if(this.isActive()){this.onDeactivate(t);}};return P;});
