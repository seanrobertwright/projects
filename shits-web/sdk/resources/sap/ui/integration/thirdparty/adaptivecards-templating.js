(function webpackUniversalModuleDefinition(r,f){if(typeof exports==='object'&&typeof module==='object')module.exports=f();else if(typeof sap.ui.define==='function')sap.ui.define([],f);else if(typeof exports==='object')exports["ACData"]=f();else r["ACData"]=f();})(window,function(){return(function(m){var i={};function _(a){if(i[a]){return i[a].exports;}var b=i[a]={i:a,l:false,exports:{}};m[a].call(b.exports,b,b.exports,_);b.l=true;return b.exports;}_.m=m;_.c=i;_.d=function(e,n,g){if(!_.o(e,n)){Object.defineProperty(e,n,{enumerable:true,get:g});}};_.r=function(e){if(typeof Symbol!=='undefined'&&Symbol.toStringTag){Object.defineProperty(e,Symbol.toStringTag,{value:'Module'});}Object.defineProperty(e,'__esModule',{value:true});};_.t=function(v,a){if(a&1)v=_(v);if(a&8)return v;if((a&4)&&typeof v==='object'&&v&&v.__esModule)return v;var n=Object.create(null);_.r(n);Object.defineProperty(n,'default',{enumerable:true,value:v});if(a&2&&typeof v!='string')for(var k in v)_.d(n,k,function(k){return v[k];}.bind(null,k));return n;};_.n=function(a){var g=a&&a.__esModule?function getDefault(){return a['default'];}:function getModuleExports(){return a;};_.d(g,'a',g);return g;};_.o=function(o,p){return Object.prototype.hasOwnProperty.call(o,p);};_.p="";return _(_.s="./src/adaptivecards-templating.ts");})({"./src/adaptivecards-templating.ts":(function(a,e,_){"use strict";function b(m){for(var p in m)if(!e.hasOwnProperty(p))e[p]=m[p];}Object.defineProperty(e,"__esModule",{value:true});
// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
b(_("./src/expression-parser.ts"));b(_("./src/template-engine.ts"));}),"./src/expression-parser.ts":(function(m,a,_){"use strict";var c=(this&&this.__extends)||(function(){var e=function(d,b){e=Object.setPrototypeOf||({__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b;})||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p];};return e(d,b);};return function(d,b){e(d,b);function i(){this.constructor=d;}d.prototype=b===null?Object.create(b):(i.prototype=b.prototype,new i());};})();Object.defineProperty(a,"__esModule",{value:true});var o=["/","*","-","+","==","!=","<","<=",">",">="];var l=["identifier","string","number","boolean"];var T=(function(){function T(){}T.init=function(){T.rules.push({tokenType:undefined,regEx:/^\s/},{tokenType:"{",regEx:/^{/},{tokenType:"?#",regEx:/^\?#/},{tokenType:"}",regEx:/^}/},{tokenType:"[",regEx:/^\[/},{tokenType:"]",regEx:/^\]/},{tokenType:"(",regEx:/^\(/},{tokenType:")",regEx:/^\)/},{tokenType:"boolean",regEx:/^true|^false/},{tokenType:"identifier",regEx:/^[$a-z_]+/i},{tokenType:".",regEx:/^\./},{tokenType:",",regEx:/^,/},{tokenType:"+",regEx:/^\+/},{tokenType:"-",regEx:/^-/},{tokenType:"*",regEx:/^\*/},{tokenType:"/",regEx:/^\//},{tokenType:"==",regEx:/^==/},{tokenType:"!=",regEx:/^!=/},{tokenType:"<=",regEx:/^<=/},{tokenType:"<",regEx:/^</},{tokenType:">=",regEx:/^>=/},{tokenType:">",regEx:/^>/},{tokenType:"string",regEx:/^"([^"]*)"/},{tokenType:"string",regEx:/^'([^']*)'/},{tokenType:"number",regEx:/^\d*\.?\d+/});};T.parse=function(e){var r=[];var i=0;while(i<e.length){var s=e.substring(i);var b=false;for(var d=0,n=T.rules;d<n.length;d++){var p=n[d];var q=p.regEx.exec(s);if(q){if(q.length>2){throw new Error("A tokenizer rule matched more than one group.");}if(p.tokenType!=undefined){r.push({type:p.tokenType,value:q[q.length==1?0:1],originalPosition:i});}i+=q[0].length;b=true;break;}}if(!b){throw new Error("Unexpected character "+s[0]+" at position "+i);}}return r;};T.rules=[];return T;}());T.init();function f(v){if(typeof v==="number"||typeof v==="string"||typeof v==="boolean"){return v;}throw new Error("Invalid value type: "+typeof v);}var E=(function(){function E(){this._functions={};this._stateStack=[];}E.init=function(){E._builtInFunctions["substr"]=function(s,i,b){if(typeof s==="string"&&typeof i==="number"&&typeof b==="number"){return(s.substr(i,b));}else{return"";}};E._builtInFunctions["JSON.parse"]=function(i){return JSON.parse(i);};E._builtInFunctions["if"]=function(b,i,d){return b?i:d;};E._builtInFunctions["toUpper"]=function(i){return typeof i==="string"?i.toUpperCase():i;};E._builtInFunctions["toLower"]=function(i){return typeof i==="string"?i.toLowerCase():i;};E._builtInFunctions["Date.format"]=function(i,b){var d=["long","short","compact"];var e;if(typeof i==="string"){e=Date.parse(i);}else if(typeof i==="number"){e=i;}else{return i;}var n=new Date(e);var p="compact";if(typeof b==="string"){p=b.toLowerCase();if(d.indexOf(p)<0){p="compact";}}return p==="compact"?n.toLocaleDateString():n.toLocaleDateString(undefined,{day:"numeric",weekday:p,month:p,year:"numeric"});};E._builtInFunctions["Time.format"]=function(i){var b;if(typeof i==="string"){b=Date.parse(i);}else if(typeof i==="number"){b=i;}else{return i;}var d=new Date(b);return d.toLocaleTimeString(undefined,{hour:'numeric',minute:'2-digit'});};};E.prototype.registerFunction=function(n,b){this._functions[n]=b;};E.prototype.unregisterFunction=function(n){delete this._functions[n];};E.prototype.getFunction=function(n){var r=this._functions[n];if(r==undefined){r=E._builtInFunctions[n];}return r;};E.prototype.isReservedField=function(n){return E._reservedFields.indexOf(n)>=0;};E.prototype.saveState=function(){this._stateStack.push({$data:this.$data,$index:this.$index});};E.prototype.restoreLastState=function(){if(this._stateStack.length==0){throw new Error("There is no evaluation context state to restore.");}var s=this._stateStack.pop();this.$data=s.$data;this.$index=s.$index;};Object.defineProperty(E.prototype,"currentDataContext",{get:function(){return this.$data!=undefined?this.$data:this.$root;},enumerable:true,configurable:true});E._reservedFields=["$data","$root","$index"];E._builtInFunctions={};return E;}());a.EvaluationContext=E;E.init();var g=(function(){function g(){}return g;}());var h=(function(b){c(h,b);function h(){var d=b!==null&&b.apply(this,arguments)||this;d.nodes=[];d.allowNull=true;return d;}h.prototype.evaluate=function(d){var e=[["/","*"],["-","+"],["==","!=","<","<=",">",">="]];var n=this.nodes;for(var p=0,q=e;p<q.length;p++){var r=q[p];var i=0;while(i<n.length){var s=n[i];if(s instanceof O&&r.indexOf(s.operator)>=0){var t=f(n[i-1].evaluate(d));var u=f(n[i+1].evaluate(d));if(typeof t!==typeof u){throw new Error("Incompatible operands "+t+" and "+u+" for operator "+s.operator);}var v=void 0;if(typeof t==="number"&&typeof u==="number"){switch(s.operator){case"/":v=t/u;break;case"*":v=t*u;break;case"-":v=t-u;break;case"+":v=t+u;break;}}if(typeof t==="string"&&typeof u==="string"){switch(s.operator){case"+":v=t+u;break;}}switch(s.operator){case"==":v=t==u;break;case"!=":v=t!=u;break;case"<":v=t<u;break;case"<=":v=t<=u;break;case">":v=t>u;break;case">=":v=t>=u;break;default:}n.splice(i-1,3,new L(v));i--;}i++;}}return n[0].evaluate(d);};return h;}(g));var I=(function(b){c(I,b);function I(){return b!==null&&b.apply(this,arguments)||this;}I.prototype.evaluate=function(d){return this.identifier;};return I;}(g));var j=(function(b){c(j,b);function j(){return b!==null&&b.apply(this,arguments)||this;}j.prototype.evaluate=function(d){return this.index.evaluate(d);};return j;}(g));var F=(function(b){c(F,b);function F(){var d=b!==null&&b.apply(this,arguments)||this;d.functionName=null;d.parameters=[];return d;}F.prototype.evaluate=function(d){var e=d.getFunction(this.functionName);if(e!=undefined){var i=[];for(var n=0,p=this.parameters;n<p.length;n++){var q=p[n];i.push(q.evaluate(d));}return e.apply(void 0,i);}throw new Error("Undefined function: "+this.functionName);};return F;}(g));var L=(function(b){c(L,b);function L(v){var d=b.call(this)||this;d.value=v;return d;}L.prototype.evaluate=function(d){return this.value;};return L;}(g));var O=(function(b){c(O,b);function O(d){var e=b.call(this)||this;e.operator=d;return e;}O.prototype.evaluate=function(d){throw new Error("An operator cannot be evaluated on its own.");};return O;}(g));var P=(function(b){c(P,b);function P(){var d=b!==null&&b.apply(this,arguments)||this;d.parts=[];return d;}P.prototype.evaluate=function(d){var r=undefined;var i=0;while(i<this.parts.length){var p=this.parts[i];try{if(p instanceof I&&i==0){switch(p.identifier){case"$root":r=d.$root;break;case"$data":r=d.currentDataContext;break;case"$index":r=d.$index;break;default:r=d.currentDataContext[p.identifier];break;}}else{var n=p.evaluate(d);if(i==0){r=n;}else{r=typeof n!=="boolean"?r[n]:r[n.toString()];}}}catch(e){return undefined;}i++;}return r;};return P;}(g));var k=(function(){function k(t){this._index=0;this._tokens=t;}k.prototype.unexpectedToken=function(){throw new Error("Unexpected token "+this.current.value+" at position "+this.current.originalPosition+".");};k.prototype.unexpectedEoe=function(){throw new Error("Unexpected end of expression.");};k.prototype.moveNext=function(){this._index++;};k.prototype.parseToken=function(){var e=[];for(var b=0;b<arguments.length;b++){e[b]=arguments[b];}if(this.eoe){this.unexpectedEoe();}var d=this.current;if(e.indexOf(this.current.type)<0){this.unexpectedToken();}this.moveNext();return d;};k.prototype.parseOptionalToken=function(){var e=[];for(var b=0;b<arguments.length;b++){e[b]=arguments[b];}if(this.eoe){this.unexpectedEoe();}else if(e.indexOf(this.current.type)<0){return false;}else{this.moveNext();return true;}};k.prototype.parseFunctionCall=function(b){var r=new F();r.functionName=b;this.parseToken("(");var d=this.parseExpression();var e=false;if(d){r.parameters.push(d);do{e=this.parseOptionalToken(",");if(e){var p=this.parseExpression();r.parameters.push(p);}}while(e);}this.parseToken(")");return r;};k.prototype.parseIdentifier=function(){var r=new I();r.identifier=this.current.value;this.moveNext();return r;};k.prototype.parseIndexer=function(){var r=new j();this.parseToken("[");r.index=this.parseExpression();this.parseToken("]");return r;};k.prototype.parsePath=function(){var r=new P();var e=["identifier","("];while(!this.eoe){if(e.indexOf(this.current.type)<0){return r;}switch(this.current.type){case"(":if(r.parts.length==0){this.moveNext();r.parts.push(this.parseExpression());this.parseToken(")");}else{var b="";for(var d=0,i=r.parts;d<i.length;d++){var p=i[d];if(!(p instanceof I)){this.unexpectedToken();}if(b!=""){b+=".";}b+=p.identifier;}r.parts=[];r.parts.push(this.parseFunctionCall(b));}e=[".","["];break;case"[":r.parts.push(this.parseIndexer());e=[".","(","["];break;case"identifier":r.parts.push(this.parseIdentifier());e=[".","(","["];break;case".":this.moveNext();e=["identifier"];break;default:e=[];break;}}};k.prototype.parseExpression=function(){var r=new h();var e=l.concat("(","+","-");while(!this.eoe){if(e.indexOf(this.current.type)<0){if(r.nodes.length==0){this.unexpectedToken();}return r;}switch(this.current.type){case"(":case"identifier":r.nodes.push(this.parsePath());e=o;break;case"string":case"number":case"boolean":if(this.current.type=="string"){r.nodes.push(new L(this.current.value));}else if(this.current.type=="number"){r.nodes.push(new L(parseFloat(this.current.value)));}else{r.nodes.push(new L(this.current.value==="true"));}this.moveNext();e=o;break;case"-":if(r.nodes.length==0){r.nodes.push(new L(-1));r.nodes.push(new O("*"));e=["identifier","number","("];}else{r.nodes.push(new O(this.current.type));e=l.concat("(");}this.moveNext();break;case"+":if(r.nodes.length==0){e=l.concat("(");}else{r.nodes.push(new O(this.current.type));e=l.concat("(");}this.moveNext();break;case"*":case"/":case"==":case"!=":case"<":case"<=":case">":case">=":r.nodes.push(new O(this.current.type));this.moveNext();e=l.concat("(");break;default:e=[];break;}}};Object.defineProperty(k.prototype,"eoe",{get:function(){return this._index>=this._tokens.length;},enumerable:true,configurable:true});Object.defineProperty(k.prototype,"current",{get:function(){return this._tokens[this._index];},enumerable:true,configurable:true});k.parseBinding=function(b){var p=new k(T.parse(b));p.parseToken("{");var d=!p.parseOptionalToken("?#");var e=p.parseExpression();p.parseToken("}");return new B(e,d);};return k;}());a.ExpressionParser=k;var B=(function(){function B(e,b){if(b===void 0){b=true;}this.expression=e;this.allowNull=b;}B.prototype.evaluate=function(b){return this.expression.evaluate(b);};return B;}());a.Binding=B;}),"./src/template-engine.ts":(function(m,a,_){"use strict";Object.defineProperty(a,"__esModule",{value:true});
// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
var b=_("./src/expression-parser.ts");var T=(function(){function T(){this._parts=[];this._shouldDropOwner=false;}T.parse=function(s){var r=new T();var i=0;do{var d=false;var f=i;var l=void 0;do{l=false;f=s.indexOf("{",f);if(f>=0){if(f+1<s.length&&s[f+1]=="{"){f+=2;l=true;}}}while(l);if(f>=0){var g=s.indexOf("}",f);if(g>=0){d=true;if(f>i){r._parts.push(s.substring(i,f));}var h=s.substring(f,g+1);var p=void 0;try{p=b.ExpressionParser.parseBinding(h);}catch(e){p=h;}r._parts.push(p);i=g+1;}}if(!d){r._parts.push(s.substr(i));break;}}while(i<s.length);if(r._parts.length==1&&typeof r._parts[0]==="string"){return r._parts[0];}else{return r;}};T.prototype.evalExpression=function(d,e){var r=d.evaluate(e);if(r==undefined){this._shouldDropOwner=this._shouldDropOwner||!d.allowNull;}return r;};T.prototype.internalEvaluate=function(d){if(this._parts.length==0){return undefined;}else if(this._parts.length==1){if(typeof this._parts[0]==="string"){return this._parts[0];}else{return this.evalExpression(this._parts[0],d);}}else{var s="";for(var e=0,f=this._parts;e<f.length;e++){var p=f[e];if(typeof p==="string"){s+=p;}else{s+=this.evalExpression(p,d);}}return s;}};T.prototype.evaluate=function(d){this._shouldDropOwner=false;return this.internalEvaluate(d);};Object.defineProperty(T.prototype,"shouldDropOwner",{get:function(){return this._shouldDropOwner;},enumerable:true,configurable:true});return T;}());var c=(function(){function c(p){this.preparedPayload=c.prepare(p);}c.prepare=function(n){if(typeof n==="string"){return T.parse(n);}else if(typeof n==="object"&&n!=null){if(Array.isArray(n)){var r=[];for(var d=0,e=n;d<e.length;d++){var i=e[d];r.push(c.prepare(i));}return r;}else{var k=Object.keys(n);var r={};for(var f=0,g=k;f<g.length;f++){var h=g[f];r[h]=c.prepare(n[h]);}return r;}}else{return n;}};c.prototype.expandSingleObject=function(n){var r={};var k=Object.keys(n);for(var d=0,e=k;d<e.length;d++){var f=e[d];if(!this._context.isReservedField(f)){var v=this.internalExpand(n[f]);if(v!=undefined){r[f]=v;}}}return r;};c.prototype.internalExpand=function(n){var r;this._context.saveState();if(Array.isArray(n)){var d=[];for(var e=0,f=n;e<f.length;e++){var g=f[e];var h=this.internalExpand(g);if(h!=null){if(Array.isArray(h)){d=d.concat(h);}else{d.push(h);}}}r=d;}else if(n instanceof T){r=n.evaluate(this._context);if(n.shouldDropOwner){r=null;}}else if(typeof n==="object"&&n!=null){var j=false;var w=n["$when"];if(w instanceof T){var k=w.evaluate(this._context);if(typeof k==="boolean"){j=!k;}}if(!j){var l=n["$data"];if(l!=undefined){if(l instanceof T){l=l.evaluate(this._context);}if(Array.isArray(l)){r=[];for(var i=0;i<l.length;i++){this._context.$data=l[i];this._context.$index=i;var o=this.expandSingleObject(n);if(o!=null){r.push(o);}}}else{this._context.$data=l;r=this.expandSingleObject(n);}}else{r=this.expandSingleObject(n);}}else{r=null;}}else{r=n;}this._context.restoreLastState();return r;};c.prototype.expand=function(d){this._context=d;return this.internalExpand(this.preparedPayload);};return c;}());a.Template=c;})});});
