<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-us" dir="ltr"><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Developing OpenUI5</title><link rel="icon" href="themes/sap-default/img/favicon.ico" type="image/x-icon"><link rel="shortcut icon" href="themes/sap-default/img/favicon.ico"><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="abstract" content="This section provides information for the initial setup, development workflow, and how tests are executed."><meta name="description" content="This section provides information for the initial setup, development workflow, and how tests are executed."><meta name="content category" content="development"><script type="text/javascript">var d4p = {"relativePath":'',"dev":false,"debug":false,"draft":false,"nextTopicHref":"293eb945f0e945aaa776812481b4c533.html","previousTopicHref":"3a16c7a2f1e944deb000db49e5ece6be.html"}</script><link rel="stylesheet" type="text/css" media="screen, projection" href="themes/sap-default/css/style.css"><script type="text/javascript">
      
        d4p.cssGridPath = d4p.dev ? 'html5-themes/modules/960-Responsive-Grid/css/' : 'themes/dita-d4p-classic/css/';
        var ADAPT_CONFIG = {
          // Where is your CSS?
          path: d4p.relativePath + d4p.cssGridPath,

          // false = Only run once, when page first loads.
          // true = Change on window resize and page tilt.
          dynamic: true,

          // Optional callback... myCallback(i, width)
          callback: doc_resize,

          // First range entry is the minimum.
          // Last range entry is the maximum.
          // Separate ranges by "to" keyword.
          range: [
             // small (size-0)
            '0px    to 760px  =',
             // medium (size-1, size-2)
            '760px  to 980px  = ',
            '980px  to 1270px = ',
             // large (size-3, size-5)
            '1270px to 1600px = ',
            '1600px to 1940px = ',
             // extra large (size-6)
            '1940px to 2540px = ',
            '2540px           = '
          ]
        };

        function doc_resize(i, width)
        {
          d4p.setBodyClassfunction(i, width);
        }


        
      </script><script type="text/javascript" src="toc-info.js"></script><script type="text/javascript" src="themes/sap-default/js/script.js"></script>
		<!--[if lt IE 9]>
			<script>
			  var e = ("abbr,article,aside,audio,canvas,datalist,details," +
			    "figure,footer,header,hgroup,mark,menu,meter,nav,output," +
			    "progress,section,time,video").split(',');
			  for (var i = 0; i < e.length; i++) {
			    document.createElement(e[i]);
			  }
			</script>
		<![endif]-->
        
    <script>
      function addLoadEvent(func) {
        var oldonload = window.onload;
        if (typeof window.onload != 'function') {
          window.onload = func;
        } else {
          window.onload = function() {
            if (oldonload) {
              oldonload();
        }
        func();
       }
     }
     }
      
    addLoadEvent(function() { prettyPrint();
if ($('#local-navigation').length) {
        $('#local-navigation').navigation();
    }


});
      
    </script>
     <script type="text/javascript" src="js/prettify.js"> </script><script id="search-processing" type="text/javascript" src="js/search-processing.js"> </script><script>function handleAreaClick(oArea) {window.parent.location.href = oArea.href;}</script><link type="text/css" rel="stylesheet" href="css/overrides.css"></head><body class="en-us sap-default centered navigation-default toc-injection enumeration-disabled" style="font-family: &apos;72&apos;, Arial, Helvetica, sans-serif;"><div id="d4h5-main-container" class="container_12" role="application"><ul id="page-links" class="hidden"><li><a id="skip-to-content" href="#d4h5-main-content">Skip to content</a></li><li><a id="skip-to-localnav" href="#local-navigation">Skip to navigation</a></li><li><a id="skip-to-footer" href="#footer-container">Skip to footer</a></li></ul><div id="d4h5-section-container" class="grid_12" style="padding-top: 0;"><div id="d4h5-main-content" class="grid_8 alpha omega" style="margin: 0 0.5em;"><section><div id="content-toolbar" class="toolbar hide-for-small"></div><div class="page concept  - topic-topic concept-concept " id="loioee8726adfdb34d748ed199f0275472f8"><h1 class="title topictitle1" hidden>Developing OpenUI5</h1><div class="body conbody"><p class="shortdesc" hidden>This section provides information for the initial setup, development workflow, and how
tests are executed.</p>
<div class="section"><section class="section" type="Setting Up the OpenUI5 Development Environment"><h2 class="section_title" style="font-size: 1.15em;">Setting Up the <span class="ph pname">OpenUI5</span> Development Environment</h2><p class="p"><span class="ph pname">OpenUI5</span> content is developed
in an environment based on Node.js. UI5 Tooling is used as development server and
build tool.</p><div class="sectiondiv subsection">
<p class="p subsectiontitle">Basic Setup</p>
<p class="p">The basic setup allows you to start a server for the <span class="ph pname">OpenUI5</span> project in an
easy way:</p>
<ol class="ol" id="loioee8726adfdb34d748ed199f0275472f8__ol_fhh_14q_yfb">
<li class="li">
<p class="p">Install Node.js. This also includes npm, the node package manager.</p>
</li>
<li class="li">
<p class="p">Clone the OpenUI5 Git repository. You can download and install Git from
<a class="extlink" href="http://help.sap.com/disclaimer?site=http://git-scm.com/download" target="_blank" alt="http://git-scm.com/download" title="http://git-scm.com/download">http://git-scm.com/download<img src="themes/sap-default/img/3rd_link.png" class="link-external" alt="Information published on non-SAP site" title="Information published on non-SAP site" border="0"></a>:</p>
<pre class="pre codeblock prettyprint">git clone https://github.com/SAP/openui5.git</pre>
</li>
<li class="li">
<p class="p">Install all npm dependencies. Optionally, you can also use Yarn for this.
This is described in the Advanced Setup section.</p>
<pre class="pre codeblock prettyprint">cd openui5
npm install</pre>
</li>
<li class="li">
<p class="p">Start the server and open the TestSuite:</p>
<pre class="pre codeblock prettyprint">npm run testsuite</pre>
<div class="p">To just start the server, enter: <pre class="pre codeblock prettyprint">npm start</pre></div>
</li>
<li class="li">
<p class="p">Your default browser should open automatically and show the TestSuite:
You&apos;re done!</p>
</li>
</ol>
</div><div class="sectiondiv subsection">
<p class="p subsectiontitle">Configuring the TestSuite Server</p>
<p class="p">The OpenUI5 TestSuite server can be configured using environment variables. For
example, to allow remote access to the server, that is, from an interface other
than your computer&apos;s loopback/localhost, you can configure the server as
follows:</p>
<pre class="pre codeblock prettyprint">OPENUI5_SRV_ACC_RMT_CON=true npm start</pre>
<p class="p">The following server configuration is available:</p>
<ul class="ul" id="loioee8726adfdb34d748ed199f0275472f8__ul_ejd_y1r_yfb">
<li class="li">
<p class="p"><samp class="ph codeph">OPENUI5_SRV_OPEN=index.html</samp></p>
</li>
<li class="li">
<p class="p"><samp class="ph codeph">OPENUI5_SRV_ACC_RMT_CON=true</samp></p>
</li>
<li class="li">
<p class="p"><samp class="ph codeph">OPENUI5_SRV_PORT=9090</samp></p>
</li>
</ul>
</div><div class="sectiondiv subsection">
<p class="p subsectiontitle">Advanced Setup</p>
<p class="p">The basic setup described above uses a custom setup focused on starting the UI5
server for the OpenUI5 TestSuite project in an easy way.</p>
<p class="p">The advanced setup allows you to use the UI5 CLI and all of its features. The use
of Yarn is required in this setup, as npm cannot handle workspaces yet.</p>
<p class="p">Use the advanced setup if you plan to do any of the following:</p>
<ul class="ul" id="loioee8726adfdb34d748ed199f0275472f8__ul_ws2_mbr_yfb">
<li class="li">
<p class="p">Build an OpenUI5 project.</p>
</li>
<li class="li">
<p class="p">Serve a project with HTTPS or HTTP/2.</p>
</li>
<li class="li">
<p class="p">Use any of the other UI5 CLI features and parameters.</p>
</li>
</ul>
<p class="p">For the advanced setup, proceed as follows:</p>
<ol class="ol" id="loioee8726adfdb34d748ed199f0275472f8__ol_kyq_tbr_yfb">
<li class="li">
<p class="p">Install the UI5 Tooling CLI globally, see<a class="extlink" href="http://help.sap.com/disclaimer?site=https://github.com/SAP/ui5-tooling#installing-the-ui5-cli" target="_blank" alt="https://github.com/SAP/ui5-tooling#installing-the-ui5-cli" title="https://github.com/SAP/ui5-tooling#installing-the-ui5-cli">UI5 Tooling: Installing the UI5 CLI<img src="themes/sap-default/img/3rd_link.png" class="link-external" alt="Information published on non-SAP site" title="Information published on non-SAP site" border="0"></a>.</p>
</li>
<li class="li">
<p class="p">Install Yarn. See <a class="extlink" href="http://help.sap.com/disclaimer?site=https://github.com/SAP/ui5-tooling#whats-the-thing-with-yarn" target="_blank" alt="https://github.com/SAP/ui5-tooling#whats-the-thing-with-yarn" title="https://github.com/SAP/ui5-tooling#whats-the-thing-with-yarn">FAQ: What&apos;s the thing with Yarn? <img src="themes/sap-default/img/3rd_link.png" class="link-external" alt="Information published on non-SAP site" title="Information published on non-SAP site" border="0"></a>.</p>
</li>
<li class="li">
<p class="p">In the OpenUI5 repository root directory, install all dependencies using
Yarn. This also links all OpenUI5 libraries between each other.</p>
<pre class="pre codeblock prettyprint">yarn</pre>
</li>
<li class="li">
<p class="p">Navigate into the TestSuite project and start the UI5 server:</p>
<pre class="pre codeblock prettyprint">cd src/testsuite
ui5 serve --open index.html</pre>
</li>
</ol>
<p class="p">You can now use the UI5 CLI in any of your local OpenUI5 libraries. Whenever you
make changes to your <span class="ph pname">OpenUI5</span> repository&apos;s
<samp class="ph codeph">node_modules</samp> directory (e.g. by executing <samp class="ph codeph">npm
install</samp>), you may need to recreate the links between the <span class="ph pname">OpenUI5</span> libraries. You
can always do this by executing <samp class="ph codeph">yarn</samp> in the <span class="ph pname">OpenUI5</span> root
directory.</p>
</div><div class="sectiondiv subsection">
<p class="p subsectiontitle">Legacy Setup</p>
<p class="p">You can continue to use the legacy Grunt-based setup. However, the setups
described above are recommended for working with the <span class="ph pname">OpenUI5</span> repository.</p>
<p class="p">To use the legacy setup, execute <samp class="ph codeph">npm run start-grunt</samp>. Note that
in the past this was the default <samp class="ph codeph">npm start</samp> behavior.</p>
<p class="p">The legacy setup has the following differences to the standard setups as
described above:</p>
<ul class="ul" id="loioee8726adfdb34d748ed199f0275472f8__ul_hhh_bdr_yfb">
<li class="li">
<p class="p"><samp class="ph codeph">testsuite</samp> path prefix:</p>
<p class="p">Standard setup:
<samp class="ph codeph">http://localhost:8080/test-resources/testsuite/testframe.html</samp></p>
<p class="p">Legacy setup:
<samp class="ph codeph">http://localhost:8080/testsuite/test-resources/testsuite/testframe.html</samp></p>
</li>
<li class="li">SDK documentation generated by <samp class="ph codeph">grunt docs</samp> can only be
served using the legacy setup.</li>
</ul>
</div></section></div>
<div class="section" id="loioee8726adfdb34d748ed199f0275472f8__section_stp_zzq_yfb"><section class="section" type="The Development Process"><h2 class="section_title" style="font-size: 1.15em;">The Development Process</h2><p class="p">For a regular
development, no build is required. Just modify any source file and reload your
browser. Now that&apos;s simple, isn&apos;t it?</p><p class="p">This build-free development process does
not feature optimized runtime performance. For example, there are many small
requests, which would not be acceptable for remote connections. But it is the most
convenient way to modify the OpenUI5 sources. Under the hood there are mainly two
mechanisms applied that adapt the sources:</p><ul class="ul" id="loioee8726adfdb34d748ed199f0275472f8__ul_nkm_xdr_yfb">
<li class="li">
<p class="p">The Git repository path contains a folder named like the respective control
library (e.g. &quot;sap.m&quot;), which is omitted at runtime. The UI5 CLI server is
mapping the locations.</p>
</li>
<li class="li">
<p class="p">The CSS files are transformed (server-side) by the LESS pre-processor during
the first request after a CSS file has been modified. This includes
mirroring for right-to-left support.</p>
</li>
</ul><p class="p">When you work on <span class="ph pname">OpenUI5</span> applications or libraries that already make use of the <span class="ph pname">OpenUI5</span> npm packages, such as
the <span class="ph pname">OpenUI5</span> sample app,
you can link your local <span class="ph pname">OpenUI5</span> repository into that
project. This allows you to make changes to the project itself as well as to the
<span class="ph pname">OpenUI5</span> libraries
simultaneously and test them immediately.</p><p class="p">For a detailed step-by-step guide on
how to achieve such a setup with the <span class="ph pname">OpenUI5</span> sample app, see <a class="extlink" href="http://help.sap.com/disclaimer?site=https://github.com/SAP/openui5-sample-app#working-with-local-dependencies" target="_blank" alt="https://github.com/SAP/openui5-sample-app#working-with-local-dependencies" title="https://github.com/SAP/openui5-sample-app#working-with-local-dependencies">Working With Local Dependencies<img src="themes/sap-default/img/3rd_link.png" class="link-external" alt="Information published on non-SAP site" title="Information published on non-SAP site" border="0"></a>.</p><div class="sectiondiv subsection">
<p class="p subsectiontitle">Building <span class="ph pname">OpenUI5</span></p>
<p class="p">The UI5 Tooling is used to build a production-ready version of <span class="ph pname">OpenUI5</span>. Every library
needs to be built individually.</p>
<p class="p">Usage:</p>
<pre class="pre codeblock prettyprint">ui5 build</pre>
<p class="p">The build is responsible for the following tasks:</p>
<ul class="ul" id="loioee8726adfdb34d748ed199f0275472f8__ul_ycy_k2r_yfb">
<li class="li">
<p class="p">Creation of the bundled <samp class="ph codeph">library.css</samp> and
<samp class="ph codeph">library-RTL.css</samp> file for all available themes</p>
</li>
<li class="li">
<p class="p">Minification of CSS</p>
</li>
<li class="li">
<p class="p">Minification of JavaScript</p>
</li>
<li class="li">
<p class="p">Bundling the JavaScript modules of the libraries into a single
<samp class="ph codeph">library-preload.js</samp> file</p>
</li>
<li class="li">
<p class="p">Bundling of the most important <span class="ph pname">OpenUI5</span> Core
modules into <samp class="ph codeph">sap-ui-core.js</samp></p>
</li>
</ul>
<p class="p">If you encounter errors like the one below, execute <samp class="ph codeph">yarn</samp> in the
<span class="ph pname">OpenUI5</span> root
directory. There may be new build tools required which need to be downloaded
first.</p>
<pre class="pre codeblock prettyprint">Error: Cannot find module &apos;xyz&apos;</pre>
</div><div class="sectiondiv subsection">
<p class="p subsectiontitle">Testing <span class="ph pname">OpenUI5</span></p>
</div><p class="p">All <span class="ph pname">OpenUI5</span> code must conform to a certain ruleset which is checked with
ESLint.</p><p class="p">To run an ESLint check, navigate to the root directory of the
repository and execute:</p><pre class="pre codeblock prettyprint">npm run lint</pre></section></div>
<div class="section" id="loioee8726adfdb34d748ed199f0275472f8__section_vqb_p1w_jjb"><section class="section" type="Running Tests"><h2 class="section_title" style="font-size: 1.15em;">Running Tests</h2><p class="p">Tests can be executed
automatically with the Karma Test-Runner.</p><p class="p">To run tests of a library, the
<samp class="ph codeph">--lib</samp> needs to be passed. The
<samp class="ph codeph">&lt;library-name&gt;</samp> corresponds to the folder within
<samp class="ph codeph">./src/</samp>, e.g.
<samp class="ph codeph">sap.m</samp>.</p><pre class="pre codeblock prettyprint lang-js">npm run karma -- --lib=&lt;library-name&gt;</pre><p class="p">This
executes all tests of that library in watch mode, which will automatically re-run
tests in case of file changes.</p><div class="p"><span class="ph emphasis emphasis">Example</span>
<pre class="pre codeblock prettyprint lang-js">npm run karma -- --lib=sap.m</pre></div><div class="sectiondiv subsection">
<p class="p subsectiontitle">Running a Specific Test</p>
<p class="p">Instead of executing all tests of a library, you can also only run one test or a
testsuite.</p>
<p class="p">To find the URL, open <span class="ph filepath">http://localhost:8080/test.html</span> and
search for the test. Copy the URL and remove the origin part
(<span class="ph filepath">http://localhost:8080/</span>), so that it starts with
<samp class="ph codeph">resources</samp> or <samp class="ph codeph">test-resources</samp>.</p>
<pre class="pre codeblock prettyprint lang-js">npm run karma -- --lib=&lt;library-name&gt; --ui5.testpage=&quot;&lt;testpage-url&gt;&quot;</pre>
<aside class="note" aria-labelledby="note_0_title"><div class="title" id="note_0_title"><strong>Note</strong></div>
<p>The corresponding <samp class="ph codeph">--lib</samp> option still needs to be provided
accordingly.</p></aside>
<div class="p"><span class="ph emphasis emphasis">Example</span><pre class="pre codeblock prettyprint">npm run karma -- --lib=sap.m --ui5.testpage=&quot;resources/sap/ui/test/starter/Test.qunit.html?testsuite=test-resources/sap/m/qunit/testsuite.mobile.qunit&amp;test=Button&quot;</pre></div>
</div><div class="sectiondiv subsection">
<p class="p subsectiontitle">Coverage</p>
<p class="p">You enable coverage reporting by additionally passing the
<samp class="ph codeph">--coverage</samp> option:</p>
<pre class="pre codeblock prettyprint lang-js">npm run karma -- --lib=&lt;library-name&gt; --coverage</pre>
</div><div class="sectiondiv subsection">
<p class="p subsectiontitle">Continuous integration (CI)</p>
<p class="p">You enable the continuous integration mode by additionally passing the
<samp class="ph codeph">--ci</samp> option. This enables Chrome headless and disables the
watch mode, so the execution stops after all tests have been executed:</p>
<pre class="pre codeblock prettyprint lang-js">npm run karma -- --lib=&lt;library-name&gt; --ci</pre>
<p class="p">You can combine the options <samp class="ph codeph">--ci</samp> and
<samp class="ph codeph">--coverage</samp>.</p>
</div></section></div>
</div></div></section><div class="clear"></div>
</div><div class="clearfix"></div></div></div><div class="clearfix"></div><div id="footer-container" class="grid_12"><footer>
	<div id="custom-footerSpacer"></div>
	
</footer>
</div></body></html>