<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-us" dir="ltr"><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Step 7: Delete</title><link rel="icon" href="themes/sap-default/img/favicon.ico" type="image/x-icon"><link rel="shortcut icon" href="themes/sap-default/img/favicon.ico"><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="abstract" content="In this step, we make it possible to delete user data."><meta name="description" content="In this step, we make it possible to delete user data."><meta name="content category" content="development"><script type="text/javascript">var d4p = {"relativePath":'',"dev":false,"debug":false,"draft":false,"nextTopicHref":"a3e7cb6f671b4b839f37eb5f88429e41.html","previousTopicHref":"b4f12660538147f8839b05cb03f1d478.html"}</script><link rel="stylesheet" type="text/css" media="screen, projection" href="themes/sap-default/css/style.css"><script type="text/javascript">
      
        d4p.cssGridPath = d4p.dev ? 'html5-themes/modules/960-Responsive-Grid/css/' : 'themes/dita-d4p-classic/css/';
        var ADAPT_CONFIG = {
          // Where is your CSS?
          path: d4p.relativePath + d4p.cssGridPath,

          // false = Only run once, when page first loads.
          // true = Change on window resize and page tilt.
          dynamic: true,

          // Optional callback... myCallback(i, width)
          callback: doc_resize,

          // First range entry is the minimum.
          // Last range entry is the maximum.
          // Separate ranges by "to" keyword.
          range: [
             // small (size-0)
            '0px    to 760px  =',
             // medium (size-1, size-2)
            '760px  to 980px  = ',
            '980px  to 1270px = ',
             // large (size-3, size-5)
            '1270px to 1600px = ',
            '1600px to 1940px = ',
             // extra large (size-6)
            '1940px to 2540px = ',
            '2540px           = '
          ]
        };

        function doc_resize(i, width)
        {
          d4p.setBodyClassfunction(i, width);
        }


        
      </script><script type="text/javascript" src="toc-info.js"></script><script type="text/javascript" src="themes/sap-default/js/script.js"></script>
		<!--[if lt IE 9]>
			<script>
			  var e = ("abbr,article,aside,audio,canvas,datalist,details," +
			    "figure,footer,header,hgroup,mark,menu,meter,nav,output," +
			    "progress,section,time,video").split(',');
			  for (var i = 0; i < e.length; i++) {
			    document.createElement(e[i]);
			  }
			</script>
		<![endif]-->
        
    <script>
      function addLoadEvent(func) {
        var oldonload = window.onload;
        if (typeof window.onload != 'function') {
          window.onload = func;
        } else {
          window.onload = function() {
            if (oldonload) {
              oldonload();
        }
        func();
       }
     }
     }
      
    addLoadEvent(function() { prettyPrint();
if ($('#local-navigation').length) {
        $('#local-navigation').navigation();
    }


});
      
    </script>
     <script type="text/javascript" src="js/prettify.js"> </script><script id="search-processing" type="text/javascript" src="js/search-processing.js"> </script><script>function handleAreaClick(oArea) {window.parent.location.href = oArea.href;}</script><link type="text/css" rel="stylesheet" href="css/overrides.css"></head><body class="en-us sap-default centered navigation-default toc-injection enumeration-disabled" style="font-family: &apos;72&apos;, Arial, Helvetica, sans-serif;"><div id="d4h5-main-container" class="container_12" role="application"><ul id="page-links" class="hidden"><li><a id="skip-to-content" href="#d4h5-main-content">Skip to content</a></li><li><a id="skip-to-localnav" href="#local-navigation">Skip to navigation</a></li><li><a id="skip-to-footer" href="#footer-container">Skip to footer</a></li></ul><div id="d4h5-section-container" class="grid_12" style="padding-top: 0;"><div id="d4h5-main-content" class="grid_8 alpha omega" style="margin: 0 0.5em;"><section><div id="content-toolbar" class="toolbar hide-for-small"><div class="familylinks"><div class="parentlink"><br><strong>Parent topic: </strong><a class="link" href="../../#/topic/bcdbde6911bd4fc68fd435cf8e306ed0.html" title="In this tutorial, we explore how features of OData V4 can be used in OpenUI5. We write a small app that consumes data from an OData V4 service to understand how to access, modify, aggregate, and filter data in an OData V4 model." target="_top">OData V4</a><br></div><div class="previouslink"><br><strong>Previous: </strong><a class="link" href="../../#/topic/b4f12660538147f8839b05cb03f1d478.html" title="In this step, we will make it possible to create and edit (update) user data from the user interface and send the data to the back end." target="_top">Step 6: Create and Edit</a><br></div><div class="nextlink"><br><strong>Next: </strong><a class="link" href="../../#/topic/a3e7cb6f671b4b839f37eb5f88429e41.html" title="Our OData service provides one OData operation: the ResetDataSource action. In this step, we add a button that resets all data changes we made during the tutorial to their original state using this action." target="_top">Step 8: OData Operations</a><br></div></div></div><div class="page concept  - topic-topic concept-concept " id="loio12a0d1ef150a42ef81e9f07fe6407018"><h1 class="title topictitle1" hidden>Step 7: Delete</h1><div class="body conbody"><p class="shortdesc" hidden>In this step, we make it possible to delete user data.</p>
<div class="section" id="loio12a0d1ef150a42ef81e9f07fe6407018__section_bt4_fxc_z1b"><section class="section" type="Preview"><h2 class="section_title" style="font-size: 1.15em;">Preview</h2>
<div class="fig fignone" id="loio12a0d1ef150a42ef81e9f07fe6407018__fig_m3r_hbx_4cb"><div class="figbody">

<img class="inline" id="loio12a0d1ef150a42ef81e9f07fe6407018__image_clx_jbx_4cb" src="loio32509f45ef8549998c73af49b8cfaa01_LowRes.png">
</div><span class="figcap">A new <span class="ph uicontrol">Delete User</span> button is added</span></div></section></div>
<div class="section" id="loio12a0d1ef150a42ef81e9f07fe6407018__section_tsr_gxc_z1b"><section class="section" type="Coding"><h2 class="section_title" style="font-size: 1.15em;">Coding</h2>
<p class="p">You can view and download all files <span class="ph">at <a class="xref" href="../../#/sample/sap.ui.core.tutorial.odatav4.07/preview" target="_top" alt="#/sample/sap.ui.core.tutorial.odatav4.07/preview" title="#/sample/sap.ui.core.tutorial.odatav4.07/preview">OData V4 - Step 7</a></span>.</p></section></div>
<div class="section" id="loio12a0d1ef150a42ef81e9f07fe6407018__section_pvc_fyc_z1b"><section class="section" type="webapp/App.controller.js"><h2 class="section_title" style="font-size: 1.15em;">webapp/App.controller.js</h2>

<pre class="pre codeblock prettyprint">		<span class="ph emphasis emphasis">onDelete : function () {
			var oSelected = this.byId(&quot;peopleList&quot;).getSelectedItem();

			if (oSelected) {
				oSelected.getBindingContext().delete(&quot;$auto&quot;).then(function () {
					MessageToast.show(this._getText(&quot;deletionSuccessMessage&quot;));
				}.bind(this), function (oError) {
					MessageBox.error(oError.message);
				});
			}
		},</span></pre>
<p class="p">We add the <samp class="ph codeph">onDelete</samp> event handler to the controller. In the event handler, we
check whether an item is selected in the table and if so, the related data is
deleted from the model. To do that, we retrieve the binding context of the selection
and call its <samp class="ph codeph">delete</samp> method. </p>
<p class="p">We explicitly set the update group ID for the deletion to <span class="keyword apiname">$auto</span> to make
sure that the request to the service is sent immediately as a batch request.
Otherwise the <samp class="ph codeph">delete</samp> function would apply the deferred batch
processing that we defined for the table&#x2019;s list binding event though,
<samp class="ph codeph">delete</samp> does not currently support deferred batch
processing.</p>
</section></div>
<div class="section" id="loio12a0d1ef150a42ef81e9f07fe6407018__section_pp2_mxc_z1b"><section class="section" type="webapp/App.view.xml"><h2 class="section_title" style="font-size: 1.15em;">webapp/App.view.xml</h2><pre class="pre codeblock prettyprint">&lt;mvc:View
	controllerName=&quot;sap.ui.core.tutorial.odatav4.controller.App&quot;
	displayBlock=&quot;true&quot;
	xmlns=&quot;sap.m&quot;
	xmlns:mvc=&quot;sap.ui.core.mvc&quot;&gt;
	&lt;Shell&gt;
		&lt;App busy=&quot;{appView&gt;/busy}&quot; class=&quot;sapUiSizeCompact&quot;&gt;
			&lt;pages&gt;
				&lt;Page title=&quot;{i18n&gt;peoplePageTitle}&quot;&gt;
					&lt;content&gt;
						&lt;Table
							id=&quot;peopleList&quot;
							growing=&quot;true&quot;
							growingThreshold=&quot;10&quot;
							items=&quot;{
								path: &apos;/People&apos;,
								parameters: {
									$count: true,
									$$updateGroupId : &apos;peopleGroup&apos;
								}
							}&quot;
<span class="ph emphasis emphasis">							mode=&quot;SingleSelectLeft&quot;&gt;</span>
							&lt;headerToolbar&gt;
								&lt;OverflowToolbar&gt;
									&lt;content&gt;
										&lt;ToolbarSpacer/&gt;
										&lt;SearchField
										.../&gt;
										&lt;Button
										.../&gt;
<span class="ph emphasis emphasis">										&lt;Button
											id=&quot;deleteUserButton&quot;
											icon=&quot;sap-icon://delete&quot;
											tooltip=&quot;{i18n&gt;deleteButtonText}&quot;
											press=&quot;.onDelete&quot;&gt;
											&lt;layoutData&gt;
												&lt;OverflowToolbarLayoutData priority=&quot;NeverOverflow&quot;/&gt;
											&lt;/layoutData&gt;
										&lt;/Button&gt;</span>
										&lt;Button
										.../&gt;
										&lt;Button
										...&gt;
									&lt;/content&gt;
								&lt;/OverflowToolbar&gt;
							&lt;/headerToolbar&gt;
							&lt;columns&gt;
								...
							&lt;/columns&gt;
							&lt;items&gt;
								...
							&lt;/items&gt;
						&lt;/Table&gt;
					&lt;/content&gt;
					&lt;footer&gt;
						...
					&lt;/footer&gt;
				&lt;/Page&gt;
			&lt;/pages&gt;
		&lt;/App&gt;
	&lt;/Shell&gt;
&lt;/mvc:View&gt;</pre>
<p class="p">We change the <samp class="ph codeph">mode</samp> of the table to <samp class="ph codeph">SingleSelectLeft</samp> to make
it possible to select a row.</p><p class="p">We add the <span class="ph uicontrol">Delete</span> button to the toolbar. With the
<samp class="ph codeph">OverflowToolbarLayoutData priority=&quot;NeverOverflow&quot;</samp> parameter,
we make sure that the button is always visible.</p></section></div>
<div class="section" id="loio12a0d1ef150a42ef81e9f07fe6407018__section_kl4_d1x_4cb"><section class="section" type="webapp/i18n/i18n.properties"><h2 class="section_title" style="font-size: 1.15em;">webapp/i18n/i18n.properties</h2>

<pre class="pre codeblock prettyprint lang-prefs">...
# Toolbar
...
<span class="ph emphasis emphasis">#XBUT: Button text for delete user
deleteButtonText=Delete User</span>
...
# Messages
...
<span class="ph emphasis emphasis">#XMSG: Message for user deleted
deletionSuccessMessage=User deleted</span>
...</pre>
<p class="p">We add the missing texts to the properties file.</p>
</section></div>
</div><div class="related-links"> <div class="familylinks"><div class="parentlink"><br><strong>Parent topic: </strong><a class="link" href="../../#/topic/bcdbde6911bd4fc68fd435cf8e306ed0.html" title="In this tutorial, we explore how features of OData V4 can be used in OpenUI5. We write a small app that consumes data from an OData V4 service to understand how to access, modify, aggregate, and filter data in an OData V4 model." target="_top">OData V4</a><br></div><div class="previouslink"><br><strong>Previous: </strong><a class="link" href="../../#/topic/b4f12660538147f8839b05cb03f1d478.html" title="In this step, we will make it possible to create and edit (update) user data from the user interface and send the data to the back end." target="_top">Step 6: Create and Edit</a><br></div><div class="nextlink"><br><strong>Next: </strong><a class="link" href="../../#/topic/a3e7cb6f671b4b839f37eb5f88429e41.html" title="Our OData service provides one OData operation: the ResetDataSource action. In this step, we add a button that resets all data changes we made during the tutorial to their original state using this action." target="_top">Step 8: OData Operations</a><br></div></div><div class="relinfo"><div class="relinfotitle ">Related Information</div><div><a class="link" href="../../#/topic/2613ebc835764abd9aefd2e6fa8b7392.html" title="The Context.delete method deletes an entity on the server and updates the user interface accordingly." target="_top">Deleting an Entity</a></div></div></div></div></section><div class="clear"></div>
</div><div class="clearfix"></div></div></div><div class="clearfix"></div><div id="footer-container" class="grid_12"><footer>
	<div id="custom-footerSpacer"></div>
	
</footer>
</div></body></html>