<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-us" dir="ltr"><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Step 9: Formatting Values</title><link rel="icon" href="themes/sap-default/img/favicon.ico" type="image/x-icon"><link rel="shortcut icon" href="themes/sap-default/img/favicon.ico"><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="abstract" content="We also want to provide our users a way of contacting Harry Hawk. Therefore we will add a link that sends an e-mail to Harry. To achieve that we will convert our data in the model to match the sap.m.URLHelper.normalizeEmail API. As soon as the user changes the name, the e-mail will also change. We will need a custom formatter function for this."><meta name="description" content="We also want to provide our users a way of contacting Harry Hawk. Therefore we will add a link that sends an e-mail to Harry. To achieve that we will convert our data in the model to match the sap.m.URLHelper.normalizeEmail API. As soon as the user changes the name, the e-mail will also change. We will need a custom formatter function for this."><meta name="content category" content="development"><script type="text/javascript">var d4p = {"relativePath":'',"dev":false,"debug":false,"draft":false,"nextTopicHref":"9252ee4015f24fc49c71c295394d1b8d.html","previousTopicHref":"9373793b290d429ba1bc6aea1ce5482f.html"}</script><link rel="stylesheet" type="text/css" media="screen, projection" href="themes/sap-default/css/style.css"><script type="text/javascript">
      
        d4p.cssGridPath = d4p.dev ? 'html5-themes/modules/960-Responsive-Grid/css/' : 'themes/dita-d4p-classic/css/';
        var ADAPT_CONFIG = {
          // Where is your CSS?
          path: d4p.relativePath + d4p.cssGridPath,

          // false = Only run once, when page first loads.
          // true = Change on window resize and page tilt.
          dynamic: true,

          // Optional callback... myCallback(i, width)
          callback: doc_resize,

          // First range entry is the minimum.
          // Last range entry is the maximum.
          // Separate ranges by "to" keyword.
          range: [
             // small (size-0)
            '0px    to 760px  =',
             // medium (size-1, size-2)
            '760px  to 980px  = ',
            '980px  to 1270px = ',
             // large (size-3, size-5)
            '1270px to 1600px = ',
            '1600px to 1940px = ',
             // extra large (size-6)
            '1940px to 2540px = ',
            '2540px           = '
          ]
        };

        function doc_resize(i, width)
        {
          d4p.setBodyClassfunction(i, width);
        }


        
      </script><script type="text/javascript" src="toc-info.js"></script><script type="text/javascript" src="themes/sap-default/js/script.js"></script>
		<!--[if lt IE 9]>
			<script>
			  var e = ("abbr,article,aside,audio,canvas,datalist,details," +
			    "figure,footer,header,hgroup,mark,menu,meter,nav,output," +
			    "progress,section,time,video").split(',');
			  for (var i = 0; i < e.length; i++) {
			    document.createElement(e[i]);
			  }
			</script>
		<![endif]-->
        
    <script>
      function addLoadEvent(func) {
        var oldonload = window.onload;
        if (typeof window.onload != 'function') {
          window.onload = func;
        } else {
          window.onload = function() {
            if (oldonload) {
              oldonload();
        }
        func();
       }
     }
     }
      
    addLoadEvent(function() { prettyPrint();
if ($('#local-navigation').length) {
        $('#local-navigation').navigation();
    }


});
      
    </script>
     <script type="text/javascript" src="js/prettify.js"> </script><script id="search-processing" type="text/javascript" src="js/search-processing.js"> </script><script>function handleAreaClick(oArea) {window.parent.location.href = oArea.href;}</script><link type="text/css" rel="stylesheet" href="css/overrides.css"></head><body class="en-us sap-default centered navigation-default toc-injection enumeration-disabled" style="font-family: &apos;72&apos;, Arial, Helvetica, sans-serif;"><div id="d4h5-main-container" class="container_12" role="application"><ul id="page-links" class="hidden"><li><a id="skip-to-content" href="#d4h5-main-content">Skip to content</a></li><li><a id="skip-to-localnav" href="#local-navigation">Skip to navigation</a></li><li><a id="skip-to-footer" href="#footer-container">Skip to footer</a></li></ul><div id="d4h5-section-container" class="grid_12" style="padding-top: 0;"><div id="d4h5-main-content" class="grid_8 alpha omega" style="margin: 0 0.5em;"><section><div id="content-toolbar" class="toolbar hide-for-small"><div class="familylinks"><div class="parentlink"><br><strong>Parent topic: </strong><a class="link" href="../../#/topic/e5310932a71f42daa41f3a6143efca9c.html" title="In this tutorial, we will explain the concepts of data binding in OpenUI5." target="_top">Data Binding</a><br></div><div class="previouslink"><br><strong>Previous: </strong><a class="link" href="../../#/topic/9373793b290d429ba1bc6aea1ce5482f.html" title="In step 6 , we stated that the fields in a resource model are arranged in a flat structure; in other words, there can be no hierarchy of properties; however, this is true only for resource models. The properties within JSON and OData models almost always are arranged in a hierarchical structure. Therefore, we should take a look at how to reference fields in a hierarchically structured model object." target="_top">Step 8: Binding Paths: Accessing Properties in Hierarchically Structured Models</a><br></div><div class="nextlink"><br><strong>Next: </strong><a class="link" href="../../#/topic/9252ee4015f24fc49c71c295394d1b8d.html" title="OpenUI5 provides a set of simple data types such as Boolean, Currency, Date and Float. These data types can then be applied to controls in order to ensure that the value presented on the screen is formatted correctly, and, if the field is open for input, that the value entered by the user adheres to the requirements of that data type. We will now add a new field called Sales to Date of type Currency." target="_top">Step 10: Property Formatting Using Data Types</a><br></div></div></div><div class="page concept  - topic-topic concept-concept " id="loio6fdf0acd0bc24ffdad327cf7e6f9e7e0"><h1 class="title topictitle1" hidden>Step 9: Formatting Values</h1><div class="body conbody"><p class="shortdesc" hidden>We also want to provide our users a way of contacting Harry Hawk. Therefore we will
add a link that sends an e-mail to Harry. To achieve that we will convert our data in the
model to match the <span class="keyword apiname">sap.m.URLHelper.normalizeEmail</span> API. As soon as the
user changes the name, the e-mail will also change. We will need a custom formatter function
for this.</p>
<div class="section"><section class="section" type="Preview"><h2 class="section_title" style="font-size: 1.15em;">Preview</h2>

<div class="fig fignone" id="loio6fdf0acd0bc24ffdad327cf7e6f9e7e0__fig_r1j_pst_mr"><div class="figbody">

<img class="inline" id="loio6fdf0acd0bc24ffdad327cf7e6f9e7e0__image_fv1_qnh_5s" src="loio116157506b3f48ac8ec53ee05095c0df_HiRes.png">
</div><span class="figcap">Address with e-mail link</span></div>
</section></div>
<div class="section"><section class="section" type="Coding"><h2 class="section_title" style="font-size: 1.15em;">Coding</h2>

<p class="p">You can view and download all files in the Demo Kit <span class="ph">at <a class="xref" href="../../#/sample/sap.ui.core.tutorial.databinding.09/preview" target="_top" alt="#/sample/sap.ui.core.tutorial.databinding.09/preview" title="#/sample/sap.ui.core.tutorial.databinding.09/preview">Data Binding - Step 9</a></span>.</p>
</section></div>
<div class="section"><section class="section" type="webapp/controller/App.controller.js (New)"><h2 class="section_title" style="font-size: 1.15em;">webapp/controller/App.controller.js (New)</h2>

<pre class="pre codeblock prettyprint lang-js"><span class="ph emphasis emphasis">sap.ui.define([
	&quot;sap/ui/core/mvc/Controller&quot;,
	&quot;sap/m/library&quot;
], function (Controller, mobileLibrary) {
	&quot;use strict&quot;;

	return Controller.extend(&quot;sap.ui.demo.db.controller.App&quot;, {
		formatMail: function(sFirstName, sLastName) {
			var oBundle = this.getView().getModel(&quot;i18n&quot;).getResourceBundle();
			return mobileLibrary.URLHelper.normalizeEmail(
				sFirstName + &quot;.&quot; + sLastName + &quot;@example.com&quot;,
				oBundle.getText(&quot;mailSubject&quot;, [sFirstName]),
				oBundle.getText(&quot;mailBody&quot;));
		}
	});
});</span></pre>
<p class="p">Create a new folder <samp class="ph codeph">controller</samp> within your <samp class="ph codeph">webapp</samp>
folder as a general location for all controller files for this app and create a new
file <samp class="ph codeph">App.controller.js</samp>.</p>
<p class="p">In our custom formatter, we define the first and last name that are currently in the
model as function parameters. When a user changes the data in the model by entering
a different name in the input fields, our formatter will be invoked automatically by
the framework. This makes sure that the UI is in sync with the data model.</p>
<p class="p">In the <samp class="ph codeph">formatMail</samp> function, we use the <span class="keyword apiname">sap.m.URLHelper.normalizeEmail</span> function that expects an e-mail
address, a mail subject and a text body. When a user chooses the link, the default email client will open with these parameters.<span class="ph">For more information, see <a class="xref" href="../../#/api/sap.m.URLHelper/methods/normalizeEmail" target="_top" alt="#/api/sap.m.URLHelper/methods/normalizeEmail" title="#/api/sap.m.URLHelper/methods/normalizeEmail">API
Reference: <samp class="ph codeph">sap.m.URLHelper.normalizeEmail</samp></a>.</span> The <samp class="ph codeph">mailSubject</samp> resource bundle text
will contain a placeholder for the first name of the recipient (see below). Therefore, we provide the name with
<samp class="ph codeph">[sFirstName]</samp>.</p>
<aside class="note" aria-labelledby="note_0_title"><div class="title" id="note_0_title"><strong>Note</strong></div>
<p class="p">For a detailed description of the e-mail link format, see <a class="extlink" href="http://help.sap.com/disclaimer?site=https://developer.mozilla.org/de/docs/Web/Guide/HTML/Email_links" target="_blank" alt="https://developer.mozilla.org/de/docs/Web/Guide/HTML/Email_links" title="https://developer.mozilla.org/de/docs/Web/Guide/HTML/Email_links">https://developer.mozilla.org/de/docs/Web/Guide/HTML/Email_links<img src="themes/sap-default/img/3rd_link.png" class="link-external" alt="Information published on non-SAP site" title="Information published on non-SAP site" border="0"></a>.</p></aside>
</section></div>
<div class="section"><section class="section" type="webapp/view/App.view.xml"><h2 class="section_title" style="font-size: 1.15em;">webapp/view/App.view.xml</h2>

<pre class="pre codeblock prettyprint lang-xml">&lt;mvc:View
<span class="ph emphasis emphasis">	controllerName=&quot;sap.ui.demo.db.controller.App&quot;</span>
	xmlns=&quot;sap.m&quot;
	xmlns:l=&quot;sap.ui.layout&quot;
	xmlns:mvc=&quot;sap.ui.core.mvc&quot;&gt;
	&lt;Panel headerText=&quot;{i18n&gt;panel1HeaderText}&quot; class=&quot;sapUiResponsiveMargin&quot; width=&quot;auto&quot;&gt;
		&lt;content&gt;
			&lt;Label text=&quot;{i18n&gt;firstName}&quot; class=&quot;sapUiSmallMargin&quot;/&gt;
			&lt;Input value=&quot;{/firstName}&quot; valueLiveUpdate=&quot;true&quot; width=&quot;200px&quot; enabled=&quot;{/enabled}&quot;/&gt;
			&lt;Label text=&quot;{i18n&gt;lastName}&quot; class=&quot;sapUiSmallMargin&quot;/&gt;
			&lt;Input value=&quot;{/lastName}&quot; valueLiveUpdate=&quot;true&quot; width=&quot;200px&quot; enabled=&quot;{/enabled}&quot;/&gt;
			&lt;CheckBox selected=&quot;{/enabled}&quot; text=&quot;Enabled&quot;/&gt;
		&lt;/content&gt;
	&lt;/Panel&gt;
	&lt;Panel headerText=&quot;{i18n&gt;panel2HeaderText}&quot; class=&quot;sapUiResponsiveMargin&quot; width=&quot;auto&quot;&gt;
		&lt;content&gt;
			&lt;l:VerticalLayout&gt;
				&lt;Label class=&quot;sapUiSmallMargin&quot; text=&quot;{i18n&gt;address}:&quot;/&gt;
				&lt;FormattedText class=&quot;<span class="ph emphasis emphasis">sapUiSmallMarginBegin sapUiSmallMarginBottom</span>&quot; htmlText=&quot;{/address/street}&amp;lt;br&amp;gt;{/address/zip} {/address/city}&amp;lt;br&amp;gt;{/address/country}&quot; width=&quot;200px&quot;/&gt;
<span class="ph emphasis emphasis">				&lt;Link class=&quot;sapUiSmallMarginBegin&quot;
					href=&quot;{
							parts: [
								&apos;/firstName&apos;,
								&apos;/lastName&apos;
							],
							formatter: &apos;.formatMail&apos;
						}&quot;
					text=&quot;{i18n&gt;sendEmail}&quot;/&gt;</span>
			&lt;/l:VerticalLayout&gt;
		&lt;/content&gt;
	&lt;/Panel&gt;
&lt;/mvc:View&gt;</pre>
<div class="p">For more complex bindings we cannot use the simple binding syntax with the curly
braces anymore. The <samp class="ph codeph">href</samp> property of the <samp class="ph codeph">Link</samp>
element now contains an entire object inside the string value. In this case, the
object has two properties:<ul class="ul" id="loio6fdf0acd0bc24ffdad327cf7e6f9e7e0__ul_hm4_bqh_5s">
<li class="li">
<p class="p"><samp class="ph codeph">parts</samp></p>
<p class="p">This is a JavaScript array in which each element is an object containing
a <samp class="ph codeph">path</samp> property. The number and order of the elements
in this array corresponds directly to the number and order of parameters
expected by the <samp class="ph codeph">formatMail</samp> function.</p>
</li>
<li class="li">
<p class="p"><samp class="ph codeph">formatter</samp></p>
<p class="p">A reference to the function that receives the parameters listed in the
<samp class="ph codeph">parts</samp> array. Whatever value is returned by the
formatter function becomes the value set for this property. The dot
(<samp class="ph codeph"><span class="ph emphasis emphasis"> </span>formatMail</samp>) at the
beginning of the formatter tells<span class="ph"><span class="ph pname">OpenUI5</span></span> to
look for a <samp class="ph codeph">formatMail</samp> function on the controller
instance of the view. If you do not use the dot, the function will be
resolved by looking into the global namespace.</p>
</li>
</ul></div>
<aside class="note" aria-labelledby="note_1_title"><div class="title" id="note_1_title"><strong>Note</strong></div>
<p class="p"></p></aside>
</section></div>
<div class="section"><section class="section" type="webapp/i18n/i18n.properties"><h2 class="section_title" style="font-size: 1.15em;">webapp/i18n/i18n.properties</h2>

<pre class="pre codeblock prettyprint lang-prefs">&#x2026;
# Screen titles
panel1HeaderText=Data Binding Basics 
panel2HeaderText=Address Details

When using formatter functions, the binding is automatically switched to
					&quot;one-way&quot;. So you can&#x2019;t use a formatter function for &quot;two-way&quot; scenarios, but
					you can use data types (which will be explained in the following steps).<span class="ph emphasis emphasis"># E-mail
sendEmail=Send Mail
mailSubject=Hi {0}!
mailBody=How are you?</span></pre>
</section></div>
<div class="section"><section class="section" type="webapp/i18n/i18n_de.properties"><h2 class="section_title" style="font-size: 1.15em;">webapp/i18n/i18n_de.properties</h2>

<pre class="pre codeblock prettyprint lang-prefs">&#x2026;
# Screen titles
panel1HeaderText=Data Binding Grundlagen
panel2HeaderText=Adressdetails

<span class="ph emphasis emphasis"># E-mail
sendEmail=E-mail versenden
mailSubject=Hallo {0}!
mailBody=Wie geht es dir?</span></pre>
<p class="p">And we add the missing texts to the <span class="ph filepath">properties</span> files</p>
</section></div>
</div><div class="related-links"> <div class="familylinks"><div class="parentlink"><br><strong>Parent topic: </strong><a class="link" href="../../#/topic/e5310932a71f42daa41f3a6143efca9c.html" title="In this tutorial, we will explain the concepts of data binding in OpenUI5." target="_top">Data Binding</a><br></div><div class="previouslink"><br><strong>Previous: </strong><a class="link" href="../../#/topic/9373793b290d429ba1bc6aea1ce5482f.html" title="In step 6 , we stated that the fields in a resource model are arranged in a flat structure; in other words, there can be no hierarchy of properties; however, this is true only for resource models. The properties within JSON and OData models almost always are arranged in a hierarchical structure. Therefore, we should take a look at how to reference fields in a hierarchically structured model object." target="_top">Step 8: Binding Paths: Accessing Properties in Hierarchically Structured Models</a><br></div><div class="nextlink"><br><strong>Next: </strong><a class="link" href="../../#/topic/9252ee4015f24fc49c71c295394d1b8d.html" title="OpenUI5 provides a set of simple data types such as Boolean, Currency, Date and Float. These data types can then be applied to controls in order to ensure that the value presented on the screen is formatted correctly, and, if the field is open for input, that the value entered by the user adheres to the requirements of that data type. We will now add a new field called Sales to Date of type Currency." target="_top">Step 10: Property Formatting Using Data Types</a><br></div></div><div class="relinfo"><div class="relinfotitle ">Related Information</div><div><a class="link" href="../../#/topic/07e4b920f5734fd78fdaa236f26236d8.html" title="Data that is presented on the UI often has to be converted so that is human readable and fits to the locale of the user. On the other hand, data entered by the user has to be parsed and validated to be understood by the data source. For this purpose, you use formatters and data types." target="_top">Formatting, Parsing, and Validating Data</a></div></div></div></div></section><div class="clear"></div>
</div><div class="clearfix"></div></div></div><div class="clearfix"></div><div id="footer-container" class="grid_12"><footer>
	<div id="custom-footerSpacer"></div>
	
</footer>
</div></body></html>