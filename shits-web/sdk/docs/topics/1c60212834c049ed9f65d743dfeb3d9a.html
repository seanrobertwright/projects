<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-us" dir="ltr"><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Table Personalization</title><link rel="icon" href="themes/sap-default/img/favicon.ico" type="image/x-icon"><link rel="shortcut icon" href="themes/sap-default/img/favicon.ico"><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="abstract" content="The simple concept of table personalization allows the user to personalize a table and to persist these settings."><meta name="description" content="The simple concept of table personalization allows the user to personalize a table and to persist these settings."><meta name="content category" content="development"><script type="text/javascript">var d4p = {"relativePath":'',"dev":false,"debug":false,"draft":false,"nextTopicHref":"f6a1a0ad49ca4d9facac222c4d372726.html","previousTopicHref":"4c98cf1b07754d22bed8b6fba68f2031.html"}</script><link rel="stylesheet" type="text/css" media="screen, projection" href="themes/sap-default/css/style.css"><script type="text/javascript">
      
        d4p.cssGridPath = d4p.dev ? 'html5-themes/modules/960-Responsive-Grid/css/' : 'themes/dita-d4p-classic/css/';
        var ADAPT_CONFIG = {
          // Where is your CSS?
          path: d4p.relativePath + d4p.cssGridPath,

          // false = Only run once, when page first loads.
          // true = Change on window resize and page tilt.
          dynamic: true,

          // Optional callback... myCallback(i, width)
          callback: doc_resize,

          // First range entry is the minimum.
          // Last range entry is the maximum.
          // Separate ranges by "to" keyword.
          range: [
             // small (size-0)
            '0px    to 760px  =',
             // medium (size-1, size-2)
            '760px  to 980px  = ',
            '980px  to 1270px = ',
             // large (size-3, size-5)
            '1270px to 1600px = ',
            '1600px to 1940px = ',
             // extra large (size-6)
            '1940px to 2540px = ',
            '2540px           = '
          ]
        };

        function doc_resize(i, width)
        {
          d4p.setBodyClassfunction(i, width);
        }


        
      </script><script type="text/javascript" src="toc-info.js"></script><script type="text/javascript" src="themes/sap-default/js/script.js"></script>
		<!--[if lt IE 9]>
			<script>
			  var e = ("abbr,article,aside,audio,canvas,datalist,details," +
			    "figure,footer,header,hgroup,mark,menu,meter,nav,output," +
			    "progress,section,time,video").split(',');
			  for (var i = 0; i < e.length; i++) {
			    document.createElement(e[i]);
			  }
			</script>
		<![endif]-->
        
    <script>
      function addLoadEvent(func) {
        var oldonload = window.onload;
        if (typeof window.onload != 'function') {
          window.onload = func;
        } else {
          window.onload = function() {
            if (oldonload) {
              oldonload();
        }
        func();
       }
     }
     }
      
    addLoadEvent(function() { prettyPrint();
if ($('#local-navigation').length) {
        $('#local-navigation').navigation();
    }


});
      
    </script>
     <script type="text/javascript" src="js/prettify.js"> </script><script id="search-processing" type="text/javascript" src="js/search-processing.js"> </script><script>function handleAreaClick(oArea) {window.parent.location.href = oArea.href;}</script><link type="text/css" rel="stylesheet" href="css/overrides.css"></head><body class="en-us sap-default centered navigation-default toc-injection enumeration-disabled" style="font-family: &apos;72&apos;, Arial, Helvetica, sans-serif;"><div id="d4h5-main-container" class="container_12" role="application"><ul id="page-links" class="hidden"><li><a id="skip-to-content" href="#d4h5-main-content">Skip to content</a></li><li><a id="skip-to-localnav" href="#local-navigation">Skip to navigation</a></li><li><a id="skip-to-footer" href="#footer-container">Skip to footer</a></li></ul><div id="d4h5-section-container" class="grid_12" style="padding-top: 0;"><div id="d4h5-main-content" class="grid_8 alpha omega" style="margin: 0 0.5em;"><section><div id="content-toolbar" class="toolbar hide-for-small"></div><div class="page concept  - topic-topic concept-concept " id="loio1c60212834c049ed9f65d743dfeb3d9a"><h1 class="title topictitle1" hidden>Table Personalization</h1><div class="body conbody"><p class="shortdesc" hidden>The simple concept of table personalization allows the user to personalize a table
and to persist these settings.</p>
<p class="p">Personalization currently supports defining the order of columns and their
visibility.</p>
<div class="section"><section class="section" type="Components Defining Personalization"><h2 class="section_title" style="font-size: 1.15em;">Components Defining Personalization</h2>

<p class="p">The table personalization concept is built upon three distinct artifacts:</p>
<ul class="ul" id="loio1c60212834c049ed9f65d743dfeb3d9a__ul_qh4_wms_mn">
<li class="li">A table personalization dialog <samp class="ph codeph">sap.m.TablePersoDialog</samp></li>
<li class="li">A table personalization controller <samp class="ph codeph">sap.m.TablePersoController</samp></li>
<li class="li">A table personalization persistence service provider, based on abstract class
<samp class="ph codeph">sap.m.TablePersoProvider</samp></li>
</ul>
</section></div>
<div class="section"><section class="section" type="Table Personalization Dialog"><h2 class="section_title" style="font-size: 1.15em;">Table Personalization Dialog</h2>

<p class="p">The table personalization dialog <samp class="ph codeph">sap.m.TablePersoDialog</samp> is a visual control
that can be invoked within the context of the table personalization controller. The
dialog shows the list of columns in the table, the order in which they appear, and
whether their visibility is set to on or off. The user can then use this dialog to
adjust these details.</p>
<p class="p">When a user closes the dialog, its table personalization controller automatically applies the
column order and visibility settings to its table and it calls the table
personalization persistence service provider&apos;s <samp class="ph codeph">setPersData</samp> method
and fires a <samp class="ph codeph">personalizationsDone</samp> event.</p>
<p class="p">You can also use the table personalization controller&apos;s <samp class="ph codeph">getTablePersoDialog</samp>
to directly access the table personalization dialog, and use its
<samp class="ph codeph">retrievePersonalization</samp> method to access its column order and
visibility settings.</p>
<p class="p">The personalization settings retrieved with this method take the form of an object that
currently has one single property, <samp class="ph codeph">aColumns</samp>, the value of which is
an array of column objects each having the following properties:</p>
<div class="table-wrapper"><table summary id="loio1c60212834c049ed9f65d743dfeb3d9a__simpletable_fpk_tlh_nn" border="1" class="simpletable"><thead><tr class="sthead">
<th style="vertical-align:bottom;text-align:left;" id="d334751e85" class="stentry">Property</th>
<th style="vertical-align:bottom;text-align:left;" id="d334751e88" class="stentry">Type</th>
<th style="vertical-align:bottom;text-align:left;" id="d334751e91" class="stentry">Description</th>
</tr></thead><tbody><tr class="strow">
<td style="vertical-align:top;" headers="d334751e85" class="stentry"><samp class="ph codeph">id</samp></td>
<td style="vertical-align:top;" headers="d334751e88" class="stentry">string</td>
<td style="vertical-align:top;" headers="d334751e91" class="stentry">The ID of the column</td>
</tr><tr class="strow">
<td style="vertical-align:top;" headers="d334751e85" class="stentry"><samp class="ph codeph">order</samp></td>
<td style="vertical-align:top;" headers="d334751e88" class="stentry">integer</td>
<td style="vertical-align:top;" headers="d334751e91" class="stentry">The order of the column. Starts with <samp class="ph codeph">0 </samp></td>
</tr><tr class="strow">
<td style="vertical-align:top;" headers="d334751e85" class="stentry"><samp class="ph codeph">text</samp></td>
<td style="vertical-align:top;" headers="d334751e88" class="stentry">string</td>
<td style="vertical-align:top;" headers="d334751e91" class="stentry">The text of the column header</td>
</tr><tr class="strow">
<td style="vertical-align:top;" headers="d334751e85" class="stentry"><samp class="ph codeph">visible</samp></td>
<td style="vertical-align:top;" headers="d334751e88" class="stentry">boolean</td>
<td style="vertical-align:top;" headers="d334751e91" class="stentry">Specifies whether the column is visible (true) or not (false)</td>
</tr></tbody></table></div>
</section></div>
<div class="section"><section class="section" type="Table Personalization Controller"><h2 class="section_title" style="font-size: 1.15em;">Table Personalization Controller</h2>

<p class="p">The table personalization controller <samp class="ph codeph">sap.m.TablePersoController</samp> can
be seen as a wrapper around three things:</p>
<ul class="ul" id="loio1c60212834c049ed9f65d743dfeb3d9a__ul_wq1_lkh_nn">
<li class="li">Your table (to be personalized)</li>
<li class="li">A table personalization dialog</li>
<li class="li">A table personalization persistence service provider</li>
</ul>
<p class="p">As an application developer, you most likely want to use a table personalization controller.
The controller manages the instantiation of the table personalization dialog and the
connection to the table persistence service provider (see later). It also applies
the personalizations to the table once the dialog has been closed by clicking
<span class="ph uicontrol">OK</span>.</p>
<p class="p">Here is an example of how a table personalization controller can be used, assuming you are
running in the context of the unified shell, which provides backend services such as
persistence.</p>
<pre class="pre codeblock prettyprint lang-js">
// Create a persistence key
var oPersId = {container: &quot;mycontainer-1&quot;, item: &quot;myitem-1&quot;};

// Get a personalization service provider from the shell (or create your own)
var oProvider = sap.ushell.Container.getService(&quot;Personalization&quot;).getPersonalizer(oPersId);

// Instantiate a controller connecting your table and the persistence service
var oTablePersoController = new sap.m.TablePersoController({
    table: oTable,
    persoService: oProvider
}).activate();

// Cause the dialog to open when the button is pressed
sap.ui.getCore().byId(&quot;idPersonalization&quot;).attachPress(function() {
    oTablePersoController.openDialog();
});</pre>
<p class="p">Once the user closes the table personalization dialog, the personalizations made are
automatically applied to the table and persisted. Conversely, when the controller is
instantiated, any existing personalizations are fetched and applied to the table.
The link to the persistence service provider, the instantiation of a table
personalization dialog object, and the automatic appliance of any personalization
settings to the table is invoked with the activate method as shown above.</p>
<p class="p">As well as the <samp class="ph codeph">openDialog</samp> and <samp class="ph codeph">activate</samp> methods shown,
methods are also available to apply and save the personalizations:
<samp class="ph codeph">applyPersonalizations</samp> and <samp class="ph codeph">savePersonalizations</samp>
respectively. In most cases, you do not need to call the functions: the table
personalization controller takes care of it all after it has been activated.</p>
<p class="p">The table personalization controller also offers a &apos;refresh&apos; function. It re-loads
the personalization information from the table personalization provider, applies it
to the controller&apos;s table, and updates the table personalization dialog.</p>
<p class="p">Note the reference to &quot;create your own&quot; personalization service provider in the code example
above. The unified shell provides a shell-based personalization persistence service
provider (see below), but you are of course free to build your own. One simple
example might be the use of browser local storage to read and write data.</p>
</section></div>
<div class="section"><section class="section" type="Table Personalization Persistence Service Provider"><h2 class="section_title" style="font-size: 1.15em;">Table Personalization Persistence Service Provider</h2><p class="p">The table
personalization persistence service provider should be based on the abstract class
<samp class="ph codeph">sap.m.TablePersoProvider</samp>. Do not instantiate and use this
<samp class="ph codeph">sap.m.TablePersoProvider</samp> class directly as a provider; it
merely describes the interface that a real persistence service provider should be
built to.</p><p class="p">The interface itself is simple: on instantiation, persistence
identification can be supplied. This will then be used as the key for retrieving,
saving and removing the personalization data. The following methods are
available:</p><ul class="ul" id="loio1c60212834c049ed9f65d743dfeb3d9a__ul_qvg_5kh_nn">
<li class="li"><samp class="ph codeph">getPersData()</samp>: Retrieves the personalizations.</li>
<li class="li"><samp class="ph codeph">setPersData(oPersonalizationData)</samp>: Saves the given
personalization data.</li>
<li class="li"><samp class="ph codeph">delPersData()</samp>: Removes the personalization data.</li>
<li class="li"><samp class="ph codeph">getGroup(oColumn)</samp>: Lets you specify to which group a column
should belong. If you set the <samp class="ph codeph">hasGrouping</samp> flag in the table
personalization controller, the table personalization dialog will call this
method to arrange the columns in groups.</li>
<li class="li"><samp class="ph codeph">getCaption(oColumn)</samp>: Implement this method if you would like
the table personalization dialog to display a different column name than the one
displayed within the table, or if you would like to add any information to the
standard column name.<p class="p">If present, the table personalization controller&apos;s
<samp class="ph codeph">getCaption</samp> method is asked for the column text when the
table personalization dialog is opened. If it does not deliver a result, the
column header texts are taken from the table.</p></li>
</ul><p class="p">After activation, the table personalization controller applies the
personalization obtained through calling the provider&apos;s
<samp class="ph codeph">getPersData()</samp> to its table: it re-arranges the order of columns
in the table and makes them invisible if required. To define a default visibility
setting, you can either fill the persistence of your table personalization provider
with default settings, or you can implement your table personalization provider&apos;s
<samp class="ph codeph">getPersData</samp> method so that it delivers a default visibility if
no persisted personalization is available yet.</p><aside class="note" aria-labelledby="note_0_title"><div class="title" id="note_0_title"><strong>Note</strong></div>
<p>There are no keys specified
in the calls to the <samp class="ph codeph">get</samp>, <samp class="ph codeph">set</samp> and
<samp class="ph codeph">del</samp> functions. These should be inherent from the original
instantiation of the service and used implicitly. There may be a requirement to
supply a variant style sub-key in future, but this is not yet
implemented.</p></aside><div class="sectiondiv"><span class="ph emphasis emphasis">Shell Table Personalization Persistence
Service Provider</span><p class="p">A concrete implementation of the table
personalization persistence service provider (<samp class="ph codeph">sap.m.Table PersoProvider</samp>) is available from the Unified Shell services. The
previous code example shows this persistence service provider being instantiated
and utilized in the controller.</p><aside class="note" aria-labelledby="note_1_title"><div class="title" id="note_1_title"><strong>Note</strong></div>
<p>Please note that this is not part of
the <span class="ph"><span class="ph pname">OpenUI5</span></span> framework. It is delivered separately, and you must check that this
service is available in your application context.</p></aside></div></section></div>
<div class="section"><section class="section" type="Sample"><h2 class="section_title" style="font-size: 1.15em;">Sample</h2>

<p class="p">For a detailed example of how table personalization works, see the <span class="ph"><a class="xref" href="../../#/sample/sap.m.sample.TablePerso/preview" target="_top" alt="#/sample/sap.m.sample.TablePerso/preview" title="#/sample/sap.m.sample.TablePerso/preview">sample</a></span>.</p>
</section></div>
<div class="section"><section class="section" type="API Reference"><h2 class="section_title" style="font-size: 1.15em;">API Reference</h2>

<ul class="ul" id="loio1c60212834c049ed9f65d743dfeb3d9a__ul_wwp_1nh_nn">
<li class="li"><a class="xref" href="../../#/api/sap.m.TablePersoDialog" target="_top" alt="#/api/sap.m.TablePersoDialog" title="#/api/sap.m.TablePersoDialog">sap.m.TablePersoDialog</a></li>
<li class="li"><a class="xref" href="../../#/api/sap.m.TablePersoController" target="_top" alt="#/api/sap.m.TablePersoController" title="#/api/sap.m.TablePersoController">sap.m.TablePersoController</a></li>
<li class="li"><a class="xref" href="../../#/api/sap.m.TablePersoProvider" target="_top" alt="#/api/sap.m.TablePersoProvider" title="#/api/sap.m.TablePersoProvider">sap.m.TablePersoProvider</a></li>
</ul>
</section></div>
</div></div></section><div class="clear"></div>
</div><div class="clearfix"></div></div></div><div class="clearfix"></div><div id="footer-container" class="grid_12"><footer>
	<div id="custom-footerSpacer"></div>
	
</footer>
</div></body></html>