<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-us" dir="ltr"><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Test Automation</title><link rel="icon" href="themes/sap-default/img/favicon.ico" type="image/x-icon"><link rel="shortcut icon" href="themes/sap-default/img/favicon.ico"><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="abstract" content="To make sure that the code is always tested thoroughly before it is included in a productive app, you should use a test runner that automates tests. The test runner can be included in your project setup so that it is called whenever code changes are submitted."><meta name="description" content="To make sure that the code is always tested thoroughly before it is included in a productive app, you should use a test runner that automates tests. The test runner can be included in your project setup so that it is called whenever code changes are submitted."><meta name="content category" content="development"><meta name="content category" content="development"><meta name="content category" content="development"><meta name="content category" content="development"><script type="text/javascript">var d4p = {"relativePath":'',"dev":false,"debug":false,"draft":false,"nextTopicHref":"ae448243822448d8ba04b4784f4b09a0.html","previousTopicHref":"a428d4128f22435693a65223fe6d8ff2.html"}</script><link rel="stylesheet" type="text/css" media="screen, projection" href="themes/sap-default/css/style.css"><script type="text/javascript">
      
        d4p.cssGridPath = d4p.dev ? 'html5-themes/modules/960-Responsive-Grid/css/' : 'themes/dita-d4p-classic/css/';
        var ADAPT_CONFIG = {
          // Where is your CSS?
          path: d4p.relativePath + d4p.cssGridPath,

          // false = Only run once, when page first loads.
          // true = Change on window resize and page tilt.
          dynamic: true,

          // Optional callback... myCallback(i, width)
          callback: doc_resize,

          // First range entry is the minimum.
          // Last range entry is the maximum.
          // Separate ranges by "to" keyword.
          range: [
             // small (size-0)
            '0px    to 760px  =',
             // medium (size-1, size-2)
            '760px  to 980px  = ',
            '980px  to 1270px = ',
             // large (size-3, size-5)
            '1270px to 1600px = ',
            '1600px to 1940px = ',
             // extra large (size-6)
            '1940px to 2540px = ',
            '2540px           = '
          ]
        };

        function doc_resize(i, width)
        {
          d4p.setBodyClassfunction(i, width);
        }


        
      </script><script type="text/javascript" src="toc-info.js"></script><script type="text/javascript" src="themes/sap-default/js/script.js"></script>
		<!--[if lt IE 9]>
			<script>
			  var e = ("abbr,article,aside,audio,canvas,datalist,details," +
			    "figure,footer,header,hgroup,mark,menu,meter,nav,output," +
			    "progress,section,time,video").split(',');
			  for (var i = 0; i < e.length; i++) {
			    document.createElement(e[i]);
			  }
			</script>
		<![endif]-->
        
    <script>
      function addLoadEvent(func) {
        var oldonload = window.onload;
        if (typeof window.onload != 'function') {
          window.onload = func;
        } else {
          window.onload = function() {
            if (oldonload) {
              oldonload();
        }
        func();
       }
     }
     }
      
    addLoadEvent(function() { prettyPrint();
if ($('#local-navigation').length) {
        $('#local-navigation').navigation();
    }


});
      
    </script>
     <script type="text/javascript" src="js/prettify.js"> </script><script id="search-processing" type="text/javascript" src="js/search-processing.js"> </script><script>function handleAreaClick(oArea) {window.parent.location.href = oArea.href;}</script><link type="text/css" rel="stylesheet" href="css/overrides.css"></head><body class="en-us sap-default centered navigation-default toc-injection enumeration-disabled" style="font-family: &apos;72&apos;, Arial, Helvetica, sans-serif;"><div id="d4h5-main-container" class="container_12" role="application"><ul id="page-links" class="hidden"><li><a id="skip-to-content" href="#d4h5-main-content">Skip to content</a></li><li><a id="skip-to-localnav" href="#local-navigation">Skip to navigation</a></li><li><a id="skip-to-footer" href="#footer-container">Skip to footer</a></li></ul><div id="d4h5-section-container" class="grid_12" style="padding-top: 0;"><div id="d4h5-main-content" class="grid_8 alpha omega" style="margin: 0 0.5em;"><section><div id="content-toolbar" class="toolbar hide-for-small"></div><div class="page concept  - topic-topic concept-concept " id="loioae448243822448d8ba04b4784f4b09a0"><h1 class="title topictitle1" hidden>Test Automation</h1><div class="body conbody"><p class="shortdesc" hidden>To make sure that the code is always tested thoroughly before it is included in a
productive app, you should use a test runner that automates tests. The test runner can be
included in your project setup so that it is called whenever code changes are
submitted.</p>
<p class="p">In the following section, we describe the setup with <span class="ph uicontrol">Karma</span>, but you can
of course choose a different solution.</p>
<p class="p"><span class="ph uicontrol">Karma</span> uses plugins to add support for various framworks. For <span class="ph"><span class="ph pname">OpenUI5</span></span>, you can use the
<samp class="ph codeph">karma-ui5</samp> plugin that helps with testing <span class="ph"><span class="ph pname">OpenUI5</span></span> projects.</p>
</div><div class="related-links"> <div class="relinfo"><div class="relinfotitle ">Related Information</div><div><a class="link" href="../../#/topic/fe7a158313af4590ad60f844e5b43b80.html" title="This section describes the setup of a development project where multiple developers work together on the same code." target="_top">Continuous Integration: Ensure Code Quality</a></div><div><a class="extlink" href="http://help.sap.com/disclaimer?site=https://karma-runner.github.io/" target="_blank" alt="https://karma-runner.github.io/" title="https://karma-runner.github.io/"><span class="ph uicontrol">Karma</span> Home Page<img src="themes/sap-default/img/3rd_link.png" class="link-external" alt="Information published on non-SAP site" title="Information published on non-SAP site" border="0"></a></div><div><a class="link" href="https://help.sap.com/viewer/disclaimer-for-links?q=https%3A%2F%2Fgithub.com%2FSAP%2Fkarma-openui5" target="_blank" alt="https://help.sap.com/viewer/disclaimer-for-links?q=https%3A%2F%2Fgithub.com%2FSAP%2Fkarma-openui5" title="https://help.sap.com/viewer/disclaimer-for-links?q=https%3A%2F%2Fgithub.com%2FSAP%2Fkarma-openui5"><samp class="ph codeph">karma-ui5</samp> on GitHub</a></div></div></div><div class="topic task nested1" aria-labelledby="ariaid-title2" lang="en-US" id="loioa182676ed3714bd5b4f011eb29076f6c">
<h2 class="title topictitle2">Installing Karma for Automated Testing</h2>

<div class="body taskbody"><p class="shortdesc" hidden>Initial setup of the application testing environment with Karma.</p>
<div class="section prereq p" id="loioa182676ed3714bd5b4f011eb29076f6c__prereq_opk_1my_bcb"><div class="tasklabel"><h3 class="sectiontitle tasklabel">Prerequisites</h3></div>
<p class="p">You have installed <span class="ph uicontrol">Node.js</span> in version 8.5 or higher and
<span class="ph uicontrol">npm</span>.</p>
</div>
<section class="section procedure"><span id="steps" class="anchor"></span><div class="ol steps tasklabel"><h3 class="sectiontitle tasklabel">Procedure</h3></div><ol class="ol steps" id="loioa182676ed3714bd5b4f011eb29076f6c__steps_av1_rfy_bcb"><li class="li step stepexpand">
<span class="ph cmd">Install <span class="ph uicontrol">Karma</span> globally via <span class="ph uicontrol">npm</span> so that you
can run <span class="ph uicontrol">Karma</span> by typing the <samp class="ph codeph">karma</samp>
command in your command-line interface (CLI).</span>
<div class="itemgroup info">
<p class="p">For more information, see the <a class="extlink" href="http://help.sap.com/disclaimer?site=http://karma-runner.github.io/1.0/intro/installation.html" target="_blank" alt="http://karma-runner.github.io/1.0/intro/installation.html" title="http://karma-runner.github.io/1.0/intro/installation.html">Karma Installation Guide on GitHub<img src="themes/sap-default/img/3rd_link.png" class="link-external" alt="Information published on non-SAP site" title="Information published on non-SAP site" border="0"></a>.</p>
<div class="p">Use the following
command:<pre class="pre codeblock prettyprint nocode">npm install --global karma-cli</pre></div>
</div>
</li><li class="li step stepexpand">
<span class="ph cmd">Create a <span class="ph filepath">package.json</span> file.</span>
<ul class="ul choices" id="loioa182676ed3714bd5b4f011eb29076f6c__choices_rxm_11f_ccb">
<li class="li choice">
<p class="p">If you already have an <span class="ph uicontrol">npm</span> project, you can skip
this step.</p>
</li>
<li class="li choice">
<div class="p">If not, use the following
command:<pre class="pre codeblock prettyprint nocode">npm init --yes</pre></div>
</li>
</ul>
</li><li class="li step stepexpand">
<span class="ph cmd">Install <span class="ph uicontrol">Karma</span> locally in your working directory.</span>
<div class="itemgroup info">
<div class="p">Use the following
command:<pre class="pre codeblock prettyprint nocode">npm install --save-dev karma</pre></div>
</div>
</li><li class="li step stepexpand">
<span class="ph cmd">Install the <span class="ph uicontrol">Karma UI5 plugin</span> locally on your working
directory.</span>
<div class="itemgroup info">
<div class="p">Use the following
command:<pre class="pre codeblock prettyprint nocode">npm install --save-dev karma-ui5</pre></div>
</div>
</li><li class="li step stepexpand">
<span class="ph cmd">Install the <span class="ph uicontrol">Karma Chrome Launcher</span> locally in your working
directory.</span>
<div class="itemgroup info">
<div class="p">Use the following
command:<pre class="pre codeblock prettyprint nocode">npm install --save-dev karma-chrome-launcher</pre></div>
<p class="p">In this example, we use Google Chrome as browser. You can find an overview of availabler
browser launchers by searching for packages with the keywords
<samp class="ph codeph">karma-launcher</samp> on the <span class="ph uicontrol">npm</span> home
page.</p>
</div>
</li><li class="li step stepexpand">
<span class="ph cmd">Create a <span class="ph filepath">karma.conf.js</span> file in your working directory with the
following content:</span>
<div class="itemgroup info">
<div class="p">
<pre class="pre codeblock prettyprint lang-js">module.exports = function(config) {
  config.set({

    frameworks: [&quot;ui5&quot;],

    ui5: {
      url: &quot;https://&lt;&lt;server\&gt;\&gt;:&lt;&lt;port\&gt;\&gt;&quot;
    },
 
    browsers: [&quot;Chrome&quot;]
    
    });
  });</pre>
</div>
<p class="p">Adapt the URL (<span class="ph filepath"><var class="keyword varname">&lt;server\&gt;</var>:<var class="keyword varname">&lt;port\&gt;</var></span> to
the <span class="ph"><span class="ph pname">OpenUI5</span></span>
resources according to your installation. You can also use <span class="ph"><span class="ph pname">OpenUI5</span></span> from a
content delivery network, see <a class="xref" href="../../#/topic/2d3eb2f322ea4a82983c1c62a33ec4ae.html" title="OpenUI5 can either be loaded locally with a relative path from a Web server or externally from a Content Delivery Network (CDN)." target="_top">Variant for Bootstrapping from Content Delivery Network</a>.</p>
<aside class="note" aria-labelledby="note_0_title"><div class="title" id="note_0_title"><strong>Note</strong></div>
<p>The <span class="ph"><span class="ph pname">OpenUI5</span></span>
plugin uses sensible defaults to detect your type of project and the
relevant folders. If you have a project with a different structure, you need
to add some more configuration options. For more information, see the <a class="extlink" href="http://help.sap.com/disclaimer?site=https://github.com/SAP/karma-ui5#about" target="_blank" alt="https://github.com/SAP/karma-ui5#about" title="https://github.com/SAP/karma-ui5#about">Karma UI5 documentation<img src="themes/sap-default/img/3rd_link.png" class="link-external" alt="Information published on non-SAP site" title="Information published on non-SAP site" border="0"></a> on GitHub.</p></aside>
</div>
</li><li class="li step stepexpand">
<span class="ph cmd">You can now run the tests with the following command:</span>
<div class="itemgroup info">
<pre class="pre codeblock prettyprint nocode">karma start</pre>
</div>
</li></ol></section>
</div>
<div class="related-links"> <div class="relinfo"><div class="relinfotitle ">Related Information</div><div><a class="extlink" href="http://help.sap.com/disclaimer?site=https://karma-runner.github.io/" target="_blank" alt="https://karma-runner.github.io/" title="https://karma-runner.github.io/"><span class="ph uicontrol">Karma</span> Home Page<img src="themes/sap-default/img/3rd_link.png" class="link-external" alt="Information published on non-SAP site" title="Information published on non-SAP site" border="0"></a></div><div><a class="extlink" href="http://help.sap.com/disclaimer?site=http://nodejs.org/" target="_blank" alt="http://nodejs.org/" title="http://nodejs.org/"><span class="ph uicontrol">Node.js</span> Home Page<img src="themes/sap-default/img/3rd_link.png" class="link-external" alt="Information published on non-SAP site" title="Information published on non-SAP site" border="0"></a></div><div><a class="extlink" href="http://help.sap.com/disclaimer?site=https://www.npmjs.com/" target="_blank" alt="https://www.npmjs.com/" title="https://www.npmjs.com/"><span class="ph uicontrol">npm</span> Home Page<img src="themes/sap-default/img/3rd_link.png" class="link-external" alt="Information published on non-SAP site" title="Information published on non-SAP site" border="0"></a></div><div><a class="extlink" href="http://help.sap.com/disclaimer?site=https://github.com/SAP/karma-openui5" target="_blank" alt="https://github.com/SAP/karma-openui5" title="https://github.com/SAP/karma-openui5">karma-ui5 on GitHub<img src="themes/sap-default/img/3rd_link.png" class="link-external" alt="Information published on non-SAP site" title="Information published on non-SAP site" border="0"></a></div></div></div>
</div><div class="topic concept nested1" aria-labelledby="ariaid-title3" lang="en-US" id="loio8c27b0ab239242c69f181208c9b8fb1d">
<h2 class="title topictitle2">Continuous Integration With Headless Chrome</h2>

<div class="body conbody"><p class="shortdesc" hidden>For running tests in CI scenarios, such as Travis CI in GitHub, Headless Chrome needs to
be used. Headless Chrome is a Chromium Browser without GUI (in a headless
environment).</p>
<p class="p">You can use Headless Chrome standalone, but also with Karma. To launch Karma with
Headless Chrome, you need to add the following changes to the karma config.</p>
<ol class="ol" id="loio8c27b0ab239242c69f181208c9b8fb1d__ol_tvv_kxy_wfb">
<li class="li">
<p class="p">Add <samp class="ph codeph">karma-chrome-launcher</samp> to the project dev dependencies.</p>
<pre class="pre codeblock prettyprint">npm install -D karma-chrome-launcher</pre>
<aside class="note" aria-labelledby="note_1_title"><div class="title" id="note_1_title"><strong>Note</strong></div>
<p>This is only required, if Chrome is <span class="ph emphasis emphasis">not</span> used as browser,
that means, it was not defined during karma initialization. In some cases, for
example for running tests in a docker container, we recommend to add puppeteer
as dependency which includes the latest Chrome version. For more details, see
the karma-chrome-launcher repository on GitHub.</p></aside>
</li>
<li class="li">
<p class="p">Define the browser environment for running karma. For this, update the
<samp class="ph codeph">config</samp> object in <samp class="ph codeph">karma.conf.js</samp> as
follows:</p>
<pre class="pre codeblock prettyprint lang-js">module.exports = function(config) {
  config.set({
    [...]
    browsers: [&apos;ChromeHeadless&apos;],
    singleRun: true
    [...]
  })
}</pre>
<aside class="note" aria-labelledby="note_2_title"><div class="title" id="note_2_title"><strong>Note</strong></div>
<p>Make sure to set the <samp class="ph codeph">singleRun</samp> flag to <samp class="ph codeph">true</samp>.
Otherwise, the script ends up in watch mode, listening for file changes.</p></aside>
</li>
</ol>
<p class="p">You can launch karma also with a specific config file. It might make sense, for example,
to define a config file (default: <samp class="ph codeph">karma.conf.js</samp>) for the local
environment, and one config file, for example <samp class="ph codeph">karma-ci.conf.js</samp> for the
CI scenario. To launch karma with a different config file, add the file name as third
parameter as follows:</p>
<pre class="pre codeblock prettyprint lang-js">karma start karma-ci.conf.js</pre>
</div>
</div><div class="topic concept nested1" aria-labelledby="ariaid-title4" lang="en-US" id="loio1851a066b0e34d84ae00f887445239e5">
<h2 class="title topictitle2">Code Coverage with Istanbul and OPA5</h2>

<div class="body conbody"><p class="shortdesc" hidden>To measure the code coverage, you can use the <span class="ph uicontrol">Istanbul Code
Coverage</span> plugin for <span class="ph uicontrol">Karma</span>. Since the
<span class="ph uicontrol">Istanbul</span> plugin cannot retrieve results from within iFrames, you
may run into problems if you use OPA5 tests.</p>
<p class="p">To get correct code coverage results for OPA5 tests, you need to execute them inside the
component containers instead of iFrames. This will also speed up the execution time of
your OPA5 tests.</p>
<aside class="note" aria-labelledby="note_3_title"><div class="title" id="note_3_title"><strong>Note</strong></div>
<p class="p">With component containers, you lose the isolation of your single tests. Also, the
<span class="ph filepath">index.html</span> file of your app is no longer executed (only the
<span class="ph filepath">Component.js</span> file is needed).</p></aside>
<p class="p">To execute the tests inside a component container, replace
<samp class="ph codeph">iStartMyAppInAFrame()</samp> with <samp class="ph codeph">iStartMyUIComponent()</samp>
and <samp class="ph codeph">iTeardownMyAppFrame()</samp> with <samp class="ph codeph">iTeardownMyApp()</samp> in all
your OPA5 tests.</p>
<aside class="note restriction" aria-labelledby="note_4_title"><div class="title" id="note_4_title"><strong>Restriction</strong></div>
<p class="p">Currently, this does not work for apps that are created for the <span class="ph pname">SAP Fiori launchpad</span> (<span class="ph pname">FLP</span>).</p></aside>
<p class="p">For more information,
see the <a class="xref" href="../../#/api/sap.ui.test.Opa5" target="_top" alt="#/api/sap.ui.test.Opa5" title="#/api/sap.ui.test.Opa5">API Reference:
<samp class="ph codeph">sap.ui.test.Opa5</samp></a>.</p>
</div>
<div class="related-links"> <div class="relinfo"><div class="relinfotitle ">Related Information</div><div><a class="extlink" href="http://help.sap.com/disclaimer?site=https://istanbul.js.org/" target="_blank" alt="https://istanbul.js.org/" title="https://istanbul.js.org/"><span class="ph uicontrol">Istanbul Code Coverage</span> Home Page<img src="themes/sap-default/img/3rd_link.png" class="link-external" alt="Information published on non-SAP site" title="Information published on non-SAP site" border="0"></a></div></div></div>
</div></div></section><div class="clear"></div>
</div><div class="clearfix"></div></div></div><div class="clearfix"></div><div id="footer-container" class="grid_12"><footer>
	<div id="custom-footerSpacer"></div>
	
</footer>
</div></body></html>