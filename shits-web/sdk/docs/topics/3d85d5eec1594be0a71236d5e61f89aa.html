<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-us" dir="ltr"><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>XML View Cache</title><link rel="icon" href="themes/sap-default/img/favicon.ico" type="image/x-icon"><link rel="shortcut icon" href="themes/sap-default/img/favicon.ico"><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="abstract" content="To be able to speed up processing times of XML views that make heavy use of the preprocessor feature, you can use the view cache to store its processed XML source. Then according network requests for the source and all preprocessor runs that modify the XML source are skipped and the source is taken from the cache."><meta name="description" content="To be able to speed up processing times of XML views that make heavy use of the preprocessor feature, you can use the view cache to store its processed XML source. Then according network requests for the source and all preprocessor runs that modify the XML source are skipped and the source is taken from the cache."><meta name="content category" content="development"><script type="text/javascript">var d4p = {"relativePath":'',"dev":false,"debug":false,"draft":false,"nextTopicHref":"b11d853a8e784db6b2d210ef57b0f7d7.html","previousTopicHref":"48b81b967af34ad08f1f88c962b4740a.html"}</script><link rel="stylesheet" type="text/css" media="screen, projection" href="themes/sap-default/css/style.css"><script type="text/javascript">
      
        d4p.cssGridPath = d4p.dev ? 'html5-themes/modules/960-Responsive-Grid/css/' : 'themes/dita-d4p-classic/css/';
        var ADAPT_CONFIG = {
          // Where is your CSS?
          path: d4p.relativePath + d4p.cssGridPath,

          // false = Only run once, when page first loads.
          // true = Change on window resize and page tilt.
          dynamic: true,

          // Optional callback... myCallback(i, width)
          callback: doc_resize,

          // First range entry is the minimum.
          // Last range entry is the maximum.
          // Separate ranges by "to" keyword.
          range: [
             // small (size-0)
            '0px    to 760px  =',
             // medium (size-1, size-2)
            '760px  to 980px  = ',
            '980px  to 1270px = ',
             // large (size-3, size-5)
            '1270px to 1600px = ',
            '1600px to 1940px = ',
             // extra large (size-6)
            '1940px to 2540px = ',
            '2540px           = '
          ]
        };

        function doc_resize(i, width)
        {
          d4p.setBodyClassfunction(i, width);
        }


        
      </script><script type="text/javascript" src="toc-info.js"></script><script type="text/javascript" src="themes/sap-default/js/script.js"></script>
		<!--[if lt IE 9]>
			<script>
			  var e = ("abbr,article,aside,audio,canvas,datalist,details," +
			    "figure,footer,header,hgroup,mark,menu,meter,nav,output," +
			    "progress,section,time,video").split(',');
			  for (var i = 0; i < e.length; i++) {
			    document.createElement(e[i]);
			  }
			</script>
		<![endif]-->
        
    <script>
      function addLoadEvent(func) {
        var oldonload = window.onload;
        if (typeof window.onload != 'function') {
          window.onload = func;
        } else {
          window.onload = function() {
            if (oldonload) {
              oldonload();
        }
        func();
       }
     }
     }
      
    addLoadEvent(function() { prettyPrint();
if ($('#local-navigation').length) {
        $('#local-navigation').navigation();
    }


});
      
    </script>
     <script type="text/javascript" src="js/prettify.js"> </script><script id="search-processing" type="text/javascript" src="js/search-processing.js"> </script><script>function handleAreaClick(oArea) {window.parent.location.href = oArea.href;}</script><link type="text/css" rel="stylesheet" href="css/overrides.css"></head><body class="en-us sap-default centered navigation-default toc-injection enumeration-disabled" style="font-family: &apos;72&apos;, Arial, Helvetica, sans-serif;"><div id="d4h5-main-container" class="container_12" role="application"><ul id="page-links" class="hidden"><li><a id="skip-to-content" href="#d4h5-main-content">Skip to content</a></li><li><a id="skip-to-localnav" href="#local-navigation">Skip to navigation</a></li><li><a id="skip-to-footer" href="#footer-container">Skip to footer</a></li></ul><div id="d4h5-section-container" class="grid_12" style="padding-top: 0;"><div id="d4h5-main-content" class="grid_8 alpha omega" style="margin: 0 0.5em;"><section><div id="content-toolbar" class="toolbar hide-for-small"></div><div class="page concept  - topic-topic concept-concept " id="loio3d85d5eec1594be0a71236d5e61f89aa"><h1 class="title topictitle1" hidden>XML View Cache</h1><div class="body conbody"><p class="shortdesc" hidden>To be able to speed up processing times of XML views that make heavy use of the preprocessor feature, you can use the view cache to store its
processed XML source. Then according network requests for the source and all preprocessor runs that modify the XML source are skipped and the source is
taken from the cache.</p>
<p class="p">To make sure that the cache always contains the latest view data, the cache has to be invalidated whenever the data changes that is needed for
preprocessing. When the cache is invalidated, all resources are processed again and the cache gets filled with new data.</p>
<div class="p"><aside class="note caution" aria-labelledby="note_0_title"><div class="title" id="note_0_title"><strong>Caution</strong></div>
<p class="p">Parts of this feature are currently still experimental. <span class="ph">For more
information, see <a class="xref" href="../../#/api/sap.ui/methods/sap.ui.xmlview" target="_top" alt="#/api/sap.ui/methods/sap.ui.xmlview" title="#/api/sap.ui/methods/sap.ui.xmlview">API Reference: <samp class="ph codeph">sap.ui.xmlview</samp></a>.</span>
</p></aside>The following data changes are handled automatically by <span class="ph"><span class="ph pname">OpenUI5</span></span>:<ul class="ul" id="loio3d85d5eec1594be0a71236d5e61f89aa__ul_vvd_tzz_vv">
<li class="li">
<p class="p"><span class="ph"><span class="ph pname">OpenUI5</span></span> version changes</p>
</li>
<li class="li">
<p class="p">Descriptor file (<span class="ph filepath">manifest.json</span>)</p>
</li>
<li class="li">
<p class="p">Locale (for each locale one cached resource is being created)</p>
</li>
</ul></div>
<aside class="note" aria-labelledby="note_1_title"><div class="title" id="note_1_title"><strong>Note</strong></div>
<p class="p">For each additional component that may have an influence on the preprocessing results of the view source, like OData metadata, you have to
implement the invalidation by adding additional keys to the cache configuration.</p></aside>
<div class="section"><section class="section" type="Prerequisites"><h2 class="section_title" style="font-size: 1.15em;">Prerequisites</h2>

<div class="p">This feature is only enabled for the following browsers:<ul class="ul" id="loio3d85d5eec1594be0a71236d5e61f89aa__ul_dss_xjs_cx">
<li class="li">
<p class="p">Google Chrome as of version 49 for desktop</p>
</li>
<li class="li">
<p class="p">Internet Explorer as of version 11 for desktop</p>
</li>
</ul></div>
<p class="p">The XML view has to be loaded asynchronously. </p>
</section></div>
<div class="section"><section class="section" type="Cache Configuration"><h2 class="section_title" style="font-size: 1.15em;">Cache Configuration</h2>

<div class="p">If you want to keep things simple, you can use the following cache
configuration:<pre class="pre codeblock prettyprint lang-xml">var sCalculatedCacheKey = oKeyProvider.getCacheKey();
sap.ui.xmlview({
	async: true,
	id: &quot;cacheableView&quot;,
	viewName: &quot;my.cacheableView&quot;,
	cache: {
		// one key is mandatory
		keys:[sCalculatedCacheKey]
	}
});</pre></div>
<div class="p">If you want to pass on multiple keys, for example strings or promises that resolve with a string, you use the following
syntax:<pre class="pre codeblock prettyprint lang-xml">var pCalculatedCacheKey = oKeyProvider1.getCacheKeyPromise();
var sAnotherKey = oKeyProvider2.getCacheKey(); 
sap.ui.xmlview({
	async: true,
	id: &quot;cacheableView&quot;,
	viewName: &quot;my.cacheableView&quot;,
	cache: {
		keys: [
		// several key providers, at least one
		pCalculatedCacheKeyPromise,
		sAnotherKey
		]
	}
});</pre></div>
</section></div>
<div class="section" id="loio3d85d5eec1594be0a71236d5e61f89aa__ViewCache_Preprocessor"><section class="section" type="Preprocessor Integration"><h2 class="section_title" style="font-size: 1.15em;">Preprocessor Integration</h2>

<p class="p">If you want to implement a preprocessor that has influence on the creation of views, for example, by changing the XML code, you can use function
<samp class="ph codeph">getCacheKey</samp>. With this function, the view can find out whether the preprocessor triggers changes that invalidate the cache.
The function returns a cache key or a promise that resolves a cache key. <span class="ph">For more information, see <a class="xref" href="../../#/api/sap.ui.core.mvc.View.Preprocessor" target="_top" alt="#/api/sap.ui.core.mvc.View.Preprocessor" title="#/api/sap.ui.core.mvc.View.Preprocessor">API
Reference: <samp class="ph codeph">sap.ui.core.mvc.View.Preprocessor</samp></a>.</span>
</p>
<pre class="pre codeblock prettyprint lang-xml">// Example preprocessor implementation
sap.ui.define([&apos;jquery.sap.global&apos;, &apos;sap/ui/base/Object&apos;],
	function(jQuery, BaseObject) {
		&apos;use strict&apos;;

		var TestPreprocessor = BaseObject.extend(&quot;smy.TestPreprocessor&quot;, {});

		TestPreprocessor.process = function(vSource, sCaller, mSettings) {
			return doSomething(vSource));
		};

		TestPreprocessor.getCacheKey = function(oViewInfo) {
			return sCacheKey;
		};

		return TestPreprocessor;

	}, /* bExport= */ true);</pre>
</section></div>
</div><div class="related-links"> <div class="relinfo"><div class="relinfotitle ">Related Information</div><div><a class="link" href="../../#/api/sap.ui/methods/sap.ui.xmlview" target="_top" alt="#/api/sap.ui/methods/sap.ui.xmlview" title="#/api/sap.ui/methods/sap.ui.xmlview">API Reference: <samp class="ph codeph">sap.ui.xmlview</samp></a></div><div><a class="link" href="../../#/topic/48b81b967af34ad08f1f88c962b4740a.html" title="Applying preprocessing to views enables you to use features like XML templating. This feature is currently only enabled for XML views. On an abstract level, preprocessing means that a view can be modified during runtime before it is rendered. This makes it possible to use the templating syntax, as it is interpreted by the preprocessor. It also makes it possible to apply user customization." target="_top">Preprocessing XML Views</a></div></div></div></div></section><div class="clear"></div>
</div><div class="clearfix"></div></div></div><div class="clearfix"></div><div id="footer-container" class="grid_12"><footer>
	<div id="custom-footerSpacer"></div>
	
</footer>
</div></body></html>