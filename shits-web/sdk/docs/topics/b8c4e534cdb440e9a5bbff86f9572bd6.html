<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-us" dir="ltr"><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Step 11: Validation Using the Message Manager</title><link rel="icon" href="themes/sap-default/img/favicon.ico" type="image/x-icon"><link rel="shortcut icon" href="themes/sap-default/img/favicon.ico"><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="abstract" content="So far, we have created a currency field that can format itself correctly. The currency data type also has the ability to validate that user input adheres to to the requirements of a currency; however, data type validation functions are managed by OpenUI5, which of itself has no mechanism for reporting error messages back to the UI; therefore, we need a mechanism for reporting error messages raised by validation functions back to the user. In this step, we will connect the entire view to a feature known as the &quot;Message Manager&quot;. Once this connection is established, any validation error messages generated based on the user input will be passed to the message manager which in turn will connect them to the appropriate view and control that caused the error."><meta name="description" content="So far, we have created a currency field that can format itself correctly. The currency data type also has the ability to validate that user input adheres to to the requirements of a currency; however, data type validation functions are managed by OpenUI5, which of itself has no mechanism for reporting error messages back to the UI; therefore, we need a mechanism for reporting error messages raised by validation functions back to the user. In this step, we will connect the entire view to a feature known as the &quot;Message Manager&quot;. Once this connection is established, any validation error messages generated based on the user input will be passed to the message manager which in turn will connect them to the appropriate view and control that caused the error."><meta name="content category" content="development"><script type="text/javascript">var d4p = {"relativePath":'',"dev":false,"debug":false,"draft":false,"nextTopicHref":"97830de2d7314e93b5c1ee3878a17be9.html","previousTopicHref":"9252ee4015f24fc49c71c295394d1b8d.html"}</script><link rel="stylesheet" type="text/css" media="screen, projection" href="themes/sap-default/css/style.css"><script type="text/javascript">
      
        d4p.cssGridPath = d4p.dev ? 'html5-themes/modules/960-Responsive-Grid/css/' : 'themes/dita-d4p-classic/css/';
        var ADAPT_CONFIG = {
          // Where is your CSS?
          path: d4p.relativePath + d4p.cssGridPath,

          // false = Only run once, when page first loads.
          // true = Change on window resize and page tilt.
          dynamic: true,

          // Optional callback... myCallback(i, width)
          callback: doc_resize,

          // First range entry is the minimum.
          // Last range entry is the maximum.
          // Separate ranges by "to" keyword.
          range: [
             // small (size-0)
            '0px    to 760px  =',
             // medium (size-1, size-2)
            '760px  to 980px  = ',
            '980px  to 1270px = ',
             // large (size-3, size-5)
            '1270px to 1600px = ',
            '1600px to 1940px = ',
             // extra large (size-6)
            '1940px to 2540px = ',
            '2540px           = '
          ]
        };

        function doc_resize(i, width)
        {
          d4p.setBodyClassfunction(i, width);
        }


        
      </script><script type="text/javascript" src="toc-info.js"></script><script type="text/javascript" src="themes/sap-default/js/script.js"></script>
		<!--[if lt IE 9]>
			<script>
			  var e = ("abbr,article,aside,audio,canvas,datalist,details," +
			    "figure,footer,header,hgroup,mark,menu,meter,nav,output," +
			    "progress,section,time,video").split(',');
			  for (var i = 0; i < e.length; i++) {
			    document.createElement(e[i]);
			  }
			</script>
		<![endif]-->
        
    <script>
      function addLoadEvent(func) {
        var oldonload = window.onload;
        if (typeof window.onload != 'function') {
          window.onload = func;
        } else {
          window.onload = function() {
            if (oldonload) {
              oldonload();
        }
        func();
       }
     }
     }
      
    addLoadEvent(function() { prettyPrint();
if ($('#local-navigation').length) {
        $('#local-navigation').navigation();
    }


});
      
    </script>
     <script type="text/javascript" src="js/prettify.js"> </script><script id="search-processing" type="text/javascript" src="js/search-processing.js"> </script><script>function handleAreaClick(oArea) {window.parent.location.href = oArea.href;}</script><link type="text/css" rel="stylesheet" href="css/overrides.css"></head><body class="en-us sap-default centered navigation-default toc-injection enumeration-disabled" style="font-family: &apos;72&apos;, Arial, Helvetica, sans-serif;"><div id="d4h5-main-container" class="container_12" role="application"><ul id="page-links" class="hidden"><li><a id="skip-to-content" href="#d4h5-main-content">Skip to content</a></li><li><a id="skip-to-localnav" href="#local-navigation">Skip to navigation</a></li><li><a id="skip-to-footer" href="#footer-container">Skip to footer</a></li></ul><div id="d4h5-section-container" class="grid_12" style="padding-top: 0;"><div id="d4h5-main-content" class="grid_8 alpha omega" style="margin: 0 0.5em;"><section><div id="content-toolbar" class="toolbar hide-for-small"><div class="familylinks"><div class="parentlink"><br><strong>Parent topic: </strong><a class="link" href="../../#/topic/e5310932a71f42daa41f3a6143efca9c.html" title="In this tutorial, we will explain the concepts of data binding in OpenUI5." target="_top">Data Binding</a><br></div><div class="previouslink"><br><strong>Previous: </strong><a class="link" href="../../#/topic/9252ee4015f24fc49c71c295394d1b8d.html" title="OpenUI5 provides a set of simple data types such as Boolean, Currency, Date and Float. These data types can then be applied to controls in order to ensure that the value presented on the screen is formatted correctly, and, if the field is open for input, that the value entered by the user adheres to the requirements of that data type. We will now add a new field called Sales to Date of type Currency." target="_top">Step 10: Property Formatting Using Data Types</a><br></div><div class="nextlink"><br><strong>Next: </strong><a class="link" href="../../#/topic/97830de2d7314e93b5c1ee3878a17be9.html" title="Aggregation binding (or &quot;list binding&quot;) allows a control to be bound to a list within the model data and allows relative binding to the list entries by its child controls." target="_top">Step 12: Aggregation Binding Using Templates</a><br></div></div></div><div class="page concept  - topic-topic concept-concept " id="loiob8c4e534cdb440e9a5bbff86f9572bd6"><h1 class="title topictitle1" hidden>Step 11: Validation Using the Message Manager</h1><div class="body conbody"><p class="shortdesc" hidden>So far, we have created a currency field that can format itself correctly. The currency data type also has the ability to validate that user input
adheres to to the requirements of a currency; however, data type validation functions are managed by <span class="ph"><span class="ph pname">OpenUI5</span></span>, which of itself has no mechanism for reporting error messages back to the UI;
therefore, we need a mechanism for reporting error messages raised by validation functions back to the user. In this step, we will connect the entire
view to a feature known as the &quot;Message Manager&quot;. Once this connection is established, any validation error messages generated based on the user input
will be passed to the message manager which in turn will connect them to the appropriate view and control that caused the error.</p>
<div class="section"><section class="section" type="Preview"><h2 class="section_title" style="font-size: 1.15em;">Preview</h2>

<div class="fig fignone" id="loiob8c4e534cdb440e9a5bbff86f9572bd6__fig_r1j_pst_mr"><div class="figbody">

<img class="inline" id="loiob8c4e534cdb440e9a5bbff86f9572bd6__image_l5z_5rz_1t" src="loio418c4f74dae54878bda198882046a455_HiRes.png">
</div><span class="figcap">A message appears</span></div>
</section></div>
<div class="section"><section class="section" type="Coding"><h2 class="section_title" style="font-size: 1.15em;">Coding</h2>

<p class="p">You can view and download all files in the Demo Kit
<span class="ph">at <a class="xref" href="../../#/sample/sap.ui.core.tutorial.databinding.11/preview" target="_top" alt="#/sample/sap.ui.core.tutorial.databinding.11/preview" title="#/sample/sap.ui.core.tutorial.databinding.11/preview">Data Binding - Step 11</a></span>.</p>
</section></div>
<div class="section"><section class="section" type="webapp/index.js"><h2 class="section_title" style="font-size: 1.15em;">webapp/index.js</h2>

<pre class="pre codeblock prettyprint lang-js">sap.ui.require([
	&quot;sap/ui/model/json/JSONModel&quot;,
	&quot;sap/ui/core/mvc/XMLView&quot;,
	&quot;sap/ui/model/resource/ResourceModel&quot;
], function (JSONModel, XMLView, ResourceModel) {
	&quot;use strict&quot;;

	// Attach an anonymous function to the SAPUI5 &apos;init&apos; event
	sap.ui.getCore().attachInit(function () {
		var oModel = new JSONModel({
			firstName: &quot;Harry&quot;,
			lastName: &quot;Hawk&quot;,
			enabled: true,
			address: {
				street: &quot;Dietmar-Hopp-Allee 16&quot;,
				city: &quot;Walldorf&quot;,
				zip: &quot;69190&quot;,
				country: &quot;Germany&quot;
			},
			&quot;salesToDate&quot;: 12345.6789,
			&quot;currencyCode&quot;: &quot;EUR&quot;
		});

		// Assign the model object to the SAPUI5 core
		sap.ui.getCore().setModel(oModel);

		var oResourceBundle = new ResourceModel({
			bundleName: &quot;sap.ui.demo.db.i18n.i18n&quot;
		});

		sap.ui.getCore().setModel(oResourceBundle, &quot;i18n&quot;);

		// Display the XML view called &quot;App&quot;
<span class="ph emphasis emphasis">		var oView </span>= new XMLView({
			viewName: &quot;sap.ui.demo.db.view.App&quot;
		}).placeAt(&quot;content&quot;);

<span class="ph emphasis emphasis">		// Register the view with the message manager
		sap.ui.getCore().getMessageManager().registerObject(oView, true);
</span>

		// Insert the view into the DOM
		<span class="ph emphasis emphasis">oView</span>.placeAt(&quot;content&quot;);
	});
});
</pre>
<div class="p">The changes to the coding are minimal:<ul class="ul" id="loiob8c4e534cdb440e9a5bbff86f9572bd6__ul_mmd_gcl_vs">
<li class="li">
<p class="p">The XML view is now created as a named object called
<samp class="ph codeph">oView</samp>.</p>
</li>
<li class="li">
<p class="p">The view object <samp class="ph codeph">oView</samp> is registered with the
<samp class="ph codeph">MessageManager</samp>.</p>
</li>
<li class="li">
<p class="p">Once registered, the XML view is then inserted into the DOM as
before.</p>
</li>
</ul></div>
<p class="p">You can now enter a non-numeric value into the <span class="ph uicontrol">Sales To Date</span> field and either press <kbd class="key">Enter</kbd> or move the focus to a
different UI control. This action triggers either the <samp class="ph codeph">onenter</samp> or <samp class="ph codeph">onchange</samp> event and then <span class="ph"><span class="ph pname">OpenUI5</span></span> executes the validation function belonging to the
<samp class="ph codeph">sap.ui.model.type.Currency</samp> data type.</p>
<p class="p">Now that the view has been registered with the <samp class="ph codeph">MessageManager</samp>, any
validation error messages will be picked up by the <samp class="ph codeph">MessageManager</samp>,
which in turn checks its list of registered objects and then passes the error
message back to the correct view for display.</p>
<p class="p">Note that the field in error has a red border: <img class="inline" id="loiob8c4e534cdb440e9a5bbff86f9572bd6__image_rg5_wcl_vs" src="loio44db88e92bc445b2b00e1b8e53b5ca9a_HiRes.png">
</p>
<p class="p">However, the error message itself will only be displayed when that particular field
has focus: <img class="inline" id="loiob8c4e534cdb440e9a5bbff86f9572bd6__image_nsv_ycl_vs" src="loioe67207b43d08410e82e74ad57ffbc022_HiRes.png"></p>
</section></div>
</div><div class="related-links"> <div class="familylinks"><div class="parentlink"><br><strong>Parent topic: </strong><a class="link" href="../../#/topic/e5310932a71f42daa41f3a6143efca9c.html" title="In this tutorial, we will explain the concepts of data binding in OpenUI5." target="_top">Data Binding</a><br></div><div class="previouslink"><br><strong>Previous: </strong><a class="link" href="../../#/topic/9252ee4015f24fc49c71c295394d1b8d.html" title="OpenUI5 provides a set of simple data types such as Boolean, Currency, Date and Float. These data types can then be applied to controls in order to ensure that the value presented on the screen is formatted correctly, and, if the field is open for input, that the value entered by the user adheres to the requirements of that data type. We will now add a new field called Sales to Date of type Currency." target="_top">Step 10: Property Formatting Using Data Types</a><br></div><div class="nextlink"><br><strong>Next: </strong><a class="link" href="../../#/topic/97830de2d7314e93b5c1ee3878a17be9.html" title="Aggregation binding (or &quot;list binding&quot;) allows a control to be bound to a list within the model data and allows relative binding to the list entries by its child controls." target="_top">Step 12: Aggregation Binding Using Templates</a><br></div></div><div class="relinfo"><div class="relinfotitle ">Related Information</div><div><a class="link" href="../../#/topic/62b1481d3e084cb49dd30956d183c6a0.html" title="OpenUI5 provides a central place for storing and managing info, warning, and error messages." target="_top">Error, Warning, and Info Messages</a></div></div></div></div></section><div class="clear"></div>
</div><div class="clearfix"></div></div></div><div class="clearfix"></div><div id="footer-container" class="grid_12"><footer>
	<div id="custom-footerSpacer"></div>
	
</footer>
</div></body></html>