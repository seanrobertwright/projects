<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-us" dir="ltr"><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Step 7: JSON Model</title><link rel="icon" href="themes/sap-default/img/favicon.ico" type="image/x-icon"><link rel="shortcut icon" href="themes/sap-default/img/favicon.ico"><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="abstract" content="Now that we have set up the view and controller, it&#x2019;s about time to think about the M in MVC."><meta name="description" content="Now that we have set up the view and controller, it&#x2019;s about time to think about the M in MVC."><meta name="content category" content="development"><script type="text/javascript">var d4p = {"relativePath":'',"dev":false,"debug":false,"draft":false,"nextTopicHref":"df86bfbeab0645e5b764ffa488ed57dc.html","previousTopicHref":"f665d0de4dba405f9af4294de824b03b.html"}</script><link rel="stylesheet" type="text/css" media="screen, projection" href="themes/sap-default/css/style.css"><script type="text/javascript">
      
        d4p.cssGridPath = d4p.dev ? 'html5-themes/modules/960-Responsive-Grid/css/' : 'themes/dita-d4p-classic/css/';
        var ADAPT_CONFIG = {
          // Where is your CSS?
          path: d4p.relativePath + d4p.cssGridPath,

          // false = Only run once, when page first loads.
          // true = Change on window resize and page tilt.
          dynamic: true,

          // Optional callback... myCallback(i, width)
          callback: doc_resize,

          // First range entry is the minimum.
          // Last range entry is the maximum.
          // Separate ranges by "to" keyword.
          range: [
             // small (size-0)
            '0px    to 760px  =',
             // medium (size-1, size-2)
            '760px  to 980px  = ',
            '980px  to 1270px = ',
             // large (size-3, size-5)
            '1270px to 1600px = ',
            '1600px to 1940px = ',
             // extra large (size-6)
            '1940px to 2540px = ',
            '2540px           = '
          ]
        };

        function doc_resize(i, width)
        {
          d4p.setBodyClassfunction(i, width);
        }


        
      </script><script type="text/javascript" src="toc-info.js"></script><script type="text/javascript" src="themes/sap-default/js/script.js"></script>
		<!--[if lt IE 9]>
			<script>
			  var e = ("abbr,article,aside,audio,canvas,datalist,details," +
			    "figure,footer,header,hgroup,mark,menu,meter,nav,output," +
			    "progress,section,time,video").split(',');
			  for (var i = 0; i < e.length; i++) {
			    document.createElement(e[i]);
			  }
			</script>
		<![endif]-->
        
    <script>
      function addLoadEvent(func) {
        var oldonload = window.onload;
        if (typeof window.onload != 'function') {
          window.onload = func;
        } else {
          window.onload = function() {
            if (oldonload) {
              oldonload();
        }
        func();
       }
     }
     }
      
    addLoadEvent(function() { prettyPrint();
if ($('#local-navigation').length) {
        $('#local-navigation').navigation();
    }


});
      
    </script>
     <script type="text/javascript" src="js/prettify.js"> </script><script id="search-processing" type="text/javascript" src="js/search-processing.js"> </script><script>function handleAreaClick(oArea) {window.parent.location.href = oArea.href;}</script><link type="text/css" rel="stylesheet" href="css/overrides.css"></head><body class="en-us sap-default centered navigation-default toc-injection enumeration-disabled" style="font-family: &apos;72&apos;, Arial, Helvetica, sans-serif;"><div id="d4h5-main-container" class="container_12" role="application"><ul id="page-links" class="hidden"><li><a id="skip-to-content" href="#d4h5-main-content">Skip to content</a></li><li><a id="skip-to-localnav" href="#local-navigation">Skip to navigation</a></li><li><a id="skip-to-footer" href="#footer-container">Skip to footer</a></li></ul><div id="d4h5-section-container" class="grid_12" style="padding-top: 0;"><div id="d4h5-main-content" class="grid_8 alpha omega" style="margin: 0 0.5em;"><section><div id="content-toolbar" class="toolbar hide-for-small"><div class="familylinks"><div class="parentlink"><br><strong>Parent topic: </strong><a class="link" href="../../#/topic/3da5f4be63264db99f2e5b04c5e853db.html" title="In this tutorial we will introduce you to all major development paradigms of OpenUI5." target="_top">Walkthrough</a><br></div><div class="previouslink"><br><strong>Previous: </strong><a class="link" href="../../#/topic/f665d0de4dba405f9af4294de824b03b.html" title="In OpenUI5, resources are often referred to as modules. In this step, we replace the alert from the last exercise with a proper Message Toast from the sap.m library. The required modules are enabled to be loaded asynchronously." target="_top">Step 6: Modules</a><br></div><div class="nextlink"><br><strong>Next: </strong><a class="link" href="../../#/topic/df86bfbeab0645e5b764ffa488ed57dc.html" title="In this step we move the texts of our UI to a separate resource file." target="_top">Step 8: Translatable Texts</a><br></div></div></div><div class="page concept  - topic-topic concept-concept " id="loio70ef981d350a495b940640801701c409"><h1 class="title topictitle1" hidden>Step 7: JSON Model</h1><div class="body conbody"><p class="shortdesc" hidden>Now that we have set up the view and controller, it&#x2019;s about time to think about the M
in MVC.</p>
<p class="p">We will add an input field to our app, bind its value to the model, and bind the same
value to the description of the input field. The description will be directly updated as
the user types.</p>
<div class="section"><section class="section" type="Preview"><h2 class="section_title" style="font-size: 1.15em;">Preview</h2>

<div class="fig fignone" id="loio70ef981d350a495b940640801701c409__fig_r1j_pst_mr"><div class="figbody">

<img class="inline" id="loio70ef981d350a495b940640801701c409__image_iqm_2fp_xr" src="loioe5a9bb4cb06b4d9c8b37914bf5cd2d13_HiRes.png">
</div><span class="figcap">An input field and a description displaying the value of the input
field</span></div>
</section></div>
<div class="section">
<div class="section_title">Coding</div>
<p class="p">You can view and download all files <span class="ph">at <a class="xref" href="../../#/sample/sap.m.tutorial.walkthrough.07/preview" target="_top" alt="#/sample/sap.m.tutorial.walkthrough.07/preview" title="#/sample/sap.m.tutorial.walkthrough.07/preview">Walkthrough - Step 7</a></span>.</p>
<div class="section_title">webapp/controller/App.controller.js</div>
<pre class="pre codeblock prettyprint lang-js">sap.ui.define([
   &quot;sap/ui/core/mvc/Controller&quot;,
   &quot;sap/m/MessageToast&quot;<span class="ph emphasis emphasis">,
   &quot;sap/ui/model/json/JSONModel&quot;</span>
], function (Controller, MessageToast, <span class="ph emphasis emphasis">JSONModel</span>) {
   &quot;use strict&quot;;
   return Controller.extend(&quot;sap.ui.demo.walkthrough.controller.App&quot;, {
<span class="ph emphasis emphasis">      onInit : function () {
         // set data model on view
         var oData = {
            recipient : {
               name : &quot;World&quot;
            }
         };
         var oModel = new JSONModel(oData);
         this.getView().setModel(oModel);
      },</span>
      onShowHello : function () {
         MessageToast.show(&quot;Hello World&quot;);
      }
   });
});
</pre>
<p class="p">We add an init function to the controller. <samp class="ph codeph">onInit</samp> is one of <span class="ph"><span class="ph pname">OpenUI5</span></span>&#x2019;s lifecycle
methods that is invoked by the framework when the controller is created, similar to
a constructor function of a control.</p>
<p class="p">Inside the function we instantiate a JSON model. The data for the model only contains
a single property for the &#x201C;recipient&#x201D;, and inside this it also contains one
additional property for the name.</p>
<p class="p">To be able to use this model from within the XML view, we call the
<samp class="ph codeph">setModel</samp> function on the view and pass on our newly created
model. The model is now set on the view. </p>
<p class="p">The message toast is just showing the static &quot;Hello World&quot; message. We will show how
to load a translated text here in the next step.</p>
</div>
<div class="section"><section class="section" type="webapp/view/App.view.xml"><h2 class="section_title" style="font-size: 1.15em;">webapp/view/App.view.xml</h2>

<pre class="pre codeblock prettyprint lang-xml">&lt;mvc:View
   controllerName=&quot;sap.ui.demo.walkthrough.controller.App&quot;
   xmlns=&quot;sap.m&quot;
   xmlns:mvc=&quot;sap.ui.core.mvc&quot;&gt;
   &lt;Button
      text=&quot;Say Hello&quot;
      press=&quot;.onShowHello&quot;/&gt;
 <span class="ph emphasis emphasis">  &lt;Input
      value=&quot;{/recipient/name}&quot;
      description=&quot;Hello {/recipient/name}&quot;
      valueLiveUpdate=&quot;true&quot;
      width=&quot;60%&quot;/&gt;</span>
&lt;/mvc:View&gt;
</pre>
<div class="p">We add an <samp class="ph codeph">sap.m.Input</samp> control to the view. With this, the user can enter a recipient for the greetings. We bind its value to a
<span class="ph"><span class="ph pname">OpenUI5</span></span> model by using the declarative binding syntax for XML views:
<ul class="ul" id="loio70ef981d350a495b940640801701c409__ul_dpb_tfp_xr">
<li class="li">
<p class="p">The curly brackets <samp class="ph codeph">{&#x2026;}</samp> indicate that data is taken from the value of the <samp class="ph codeph">recipient</samp>&apos;s
object name property. This is called &quot;data binding&quot;.</p>
</li>
<li class="li">
<p class="p">
<samp class="ph codeph">/recipient/name</samp> declares the path in the model.</p>
</li>
</ul></div>
</section></div>
<div class="section"><section class="section" type="webapp/index.html"><h2 class="section_title" style="font-size: 1.15em;">webapp/index.html</h2>

<pre class="pre codeblock prettyprint lang-html">&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
	&lt;meta charset=&quot;utf-8&quot;&gt;
	&lt;title&gt;SAPUI5 Walkthrough&lt;/title&gt;
	&lt;script
		id=&quot;sap-ui-bootstrap&quot;
		src=&quot;https://openui5.hana.ondemand.com/resources/sap-ui-core.js&quot;
		data-sap-ui-theme=&quot;sap_belize&quot;
		data-sap-ui-libs=&quot;sap.m&quot;
<span class="ph emphasis emphasis">		data-sap-ui-compatVersion=&quot;edge&quot;</span>
		data-sap-ui-async=&quot;true&quot;
		data-sap-ui-resourceroots=&apos;{
			&quot;sap.ui.demo.walkthrough&quot;: &quot;./&quot;
		}&apos;
		data-sap-ui-oninit=&quot;module:sap/ui/demo/walkthrough/index&quot;&gt;
	&lt;/script&gt;
	&lt;script src=&quot;index.js&quot;&gt;&lt;/script&gt;
&lt;/head&gt;
&lt;body class=&quot;sapUiBody&quot; id=&quot;content&quot;&gt;
&lt;/body&gt;
&lt;/html&gt;</pre>
<p class="p">The binding of the value attribute is a simple binding example that contains only a binding pattern. We can also combine texts and binding
pattern to a more complex binding result as seen in the description attribute. To be able to use the so-called complex binding syntax
we have to enable it globally by setting the bootstrap parameter <samp class="ph codeph">data-sap-ui-compatVersion</samp> to <samp class="ph codeph">edge</samp>.
If this setting is omitted, then only standard binding syntax is allowed, meaning &quot;Hello <samp class="ph codeph">{/recipient/name}</samp>&quot; would not
work anymore while &quot;<samp class="ph codeph">{/recipient/name}</samp>&quot; would work just fine.</p>
<aside class="note" aria-labelledby="note_0_title"><div class="title" id="note_0_title"><strong>Note</strong></div>
<p class="p">You can either use <samp class="ph codeph">data-sap-ui-compatVersion=&quot;edge&quot;</samp> or
<samp class="ph codeph">data-sap-ui-bindingSyntax=&quot;complex&quot;</samp> in the script. By
setting the &quot;edge&quot; compatibility mode, the complex binding syntax is
automatically enabled. The <samp class="ph codeph">edge</samp> mode automatically enables
compatibility features that otherwise would have to be enabled manually. For
more information, see <a class="xref" href="../../#/topic/9feb96da02c2429bb1afcf6534d77c79.html" title="Compatibility version flags allow applications to react to incompatible changes in OpenUI5." target="_top">Compatibility Version Information</a>.</p></aside>
</section></div>
<div class="section"><section class="section" type="Conventions"><h2 class="section_title" style="font-size: 1.15em;"> Conventions</h2>

<ul class="ul" id="loio70ef981d350a495b940640801701c409__ul_nh5_ybb_nr">
<li class="li">
<p class="p">Use Hungarian notation for variable names.</p>
</li>
</ul>
</section></div>
</div><div class="related-links"> <div class="familylinks"><div class="parentlink"><br><strong>Parent topic: </strong><a class="link" href="../../#/topic/3da5f4be63264db99f2e5b04c5e853db.html" title="In this tutorial we will introduce you to all major development paradigms of OpenUI5." target="_top">Walkthrough</a><br></div><div class="previouslink"><br><strong>Previous: </strong><a class="link" href="../../#/topic/f665d0de4dba405f9af4294de824b03b.html" title="In OpenUI5, resources are often referred to as modules. In this step, we replace the alert from the last exercise with a proper Message Toast from the sap.m library. The required modules are enabled to be loaded asynchronously." target="_top">Step 6: Modules</a><br></div><div class="nextlink"><br><strong>Next: </strong><a class="link" href="../../#/topic/df86bfbeab0645e5b764ffa488ed57dc.html" title="In this step we move the texts of our UI to a separate resource file." target="_top">Step 8: Translatable Texts</a><br></div></div><div class="relinfo"><div class="relinfotitle ">Related Information</div><div><a class="link" href="../../#/topic/91f233476f4d1014b6dd926db0e91070.html" title="The Model View Controller (MVC) concept is used in OpenUI5 to separate the representation of information from the user interaction. This separation facilitates development and the changing of parts independently." target="_top">Model View Controller (MVC)</a></div><div><a class="link" href="../../#/topic/68b9644a253741e8a4b9e4279a35c247.html" title="You use data binding to bind UI elements to data sources to keep the data in sync and allow data editing on the UI." target="_top">Data Binding</a></div><div><a class="link" href="../../#/topic/96804e3315ff440aa0a50fd290805116.html#loio96804e3315ff440aa0a50fd290805116" title="The JSON model can be used to bind controls to JavaScript object data, which is usually serialized in the JSON format." target="_top">JSON Model</a></div><div><a class="link" href="../../#/api/sap.ui/methods/sap.ui.define" target="_top" alt="#/api/sap.ui/methods/sap.ui.define" title="#/api/sap.ui/methods/sap.ui.define">API Reference: <samp class="ph codeph">sap.ui.define</samp></a></div></div></div></div></section><div class="clear"></div>
</div><div class="clearfix"></div></div></div><div class="clearfix"></div><div id="footer-container" class="grid_12"><footer>
	<div id="custom-footerSpacer"></div>
	
</footer>
</div></body></html>