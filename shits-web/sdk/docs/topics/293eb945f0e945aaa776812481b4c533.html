<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-us" dir="ltr"><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Development for Hybrid Web Containers</title><link rel="icon" href="themes/sap-default/img/favicon.ico" type="image/x-icon"><link rel="shortcut icon" href="themes/sap-default/img/favicon.ico"><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="abstract" content="You can develop mobile apps as hybrid app consisting of a native app wrapper, for example PhoneGap, and an HTML viewer to display the content on the user interface."><meta name="description" content="You can develop mobile apps as hybrid app consisting of a native app wrapper, for example PhoneGap, and an HTML viewer to display the content on the user interface."><meta name="content category" content="development"><script type="text/javascript">var d4p = {"relativePath":'',"dev":false,"debug":false,"draft":false,"nextTopicHref":"592f36fd077b45349a67dcb3efb46ab1.html","previousTopicHref":"ee8726adfdb34d748ed199f0275472f8.html"}</script><link rel="stylesheet" type="text/css" media="screen, projection" href="themes/sap-default/css/style.css"><script type="text/javascript">
      
        d4p.cssGridPath = d4p.dev ? 'html5-themes/modules/960-Responsive-Grid/css/' : 'themes/dita-d4p-classic/css/';
        var ADAPT_CONFIG = {
          // Where is your CSS?
          path: d4p.relativePath + d4p.cssGridPath,

          // false = Only run once, when page first loads.
          // true = Change on window resize and page tilt.
          dynamic: true,

          // Optional callback... myCallback(i, width)
          callback: doc_resize,

          // First range entry is the minimum.
          // Last range entry is the maximum.
          // Separate ranges by "to" keyword.
          range: [
             // small (size-0)
            '0px    to 760px  =',
             // medium (size-1, size-2)
            '760px  to 980px  = ',
            '980px  to 1270px = ',
             // large (size-3, size-5)
            '1270px to 1600px = ',
            '1600px to 1940px = ',
             // extra large (size-6)
            '1940px to 2540px = ',
            '2540px           = '
          ]
        };

        function doc_resize(i, width)
        {
          d4p.setBodyClassfunction(i, width);
        }


        
      </script><script type="text/javascript" src="toc-info.js"></script><script type="text/javascript" src="themes/sap-default/js/script.js"></script>
		<!--[if lt IE 9]>
			<script>
			  var e = ("abbr,article,aside,audio,canvas,datalist,details," +
			    "figure,footer,header,hgroup,mark,menu,meter,nav,output," +
			    "progress,section,time,video").split(',');
			  for (var i = 0; i < e.length; i++) {
			    document.createElement(e[i]);
			  }
			</script>
		<![endif]-->
        
    <script>
      function addLoadEvent(func) {
        var oldonload = window.onload;
        if (typeof window.onload != 'function') {
          window.onload = func;
        } else {
          window.onload = function() {
            if (oldonload) {
              oldonload();
        }
        func();
       }
     }
     }
      
    addLoadEvent(function() { prettyPrint();
if ($('#local-navigation').length) {
        $('#local-navigation').navigation();
    }


});
      
    </script>
     <script type="text/javascript" src="js/prettify.js"> </script><script id="search-processing" type="text/javascript" src="js/search-processing.js"> </script><script>function handleAreaClick(oArea) {window.parent.location.href = oArea.href;}</script><link type="text/css" rel="stylesheet" href="css/overrides.css"></head><body class="en-us sap-default centered navigation-default toc-injection enumeration-disabled" style="font-family: &apos;72&apos;, Arial, Helvetica, sans-serif;"><div id="d4h5-main-container" class="container_12" role="application"><ul id="page-links" class="hidden"><li><a id="skip-to-content" href="#d4h5-main-content">Skip to content</a></li><li><a id="skip-to-localnav" href="#local-navigation">Skip to navigation</a></li><li><a id="skip-to-footer" href="#footer-container">Skip to footer</a></li></ul><div id="d4h5-section-container" class="grid_12" style="padding-top: 0;"><div id="d4h5-main-content" class="grid_8 alpha omega" style="margin: 0 0.5em;"><section><div id="content-toolbar" class="toolbar hide-for-small"></div><div class="page topic  - topic-topic " id="loio293eb945f0e945aaa776812481b4c533"><h1 class="title topictitle1" hidden>Development for Hybrid Web Containers</h1><div class="body"><p class="shortdesc" hidden>You can develop mobile apps as hybrid app consisting of a native app wrapper, for
example PhoneGap, and an HTML viewer to display the content on the user
interface.</p>
<p class="p">Hybrid apps have the advantage that you can publish them in app stores. Also, by embedding the application code and the <span class="ph"><span class="ph pname">OpenUI5</span></span> library files into the hybrid container, the user needs to install the files only once and does <strong class="ph b">not</strong> need to download them every time he starts the application. But then the library size becomes important, because every user has to install the files, whereas in web applications, the library is deployed on a server and the user only needs to download the required parts of the library at runtime.</p>
<p class="p">To include the resources you need in your hybrid app, you can use the static mobile runtime
package <samp class="ph codeph">openui5-runtime-mobile*.zip</samp>. The package is
<span class="ph emphasis emphasis">not</span> contained in <span class="ph pname">SAPUI5</span>, but in the Open Source
version <span class="ph pname">OpenUI5</span>.</p>
<p class="p">The library size of these packages is rather small because the content that is most likely not
needed has been removed, for example test pages. A package contains the debug version of
all JavaScript files and the optimized and minimized version. Thus, you can use the
package for productive use as well as for debugging purposes. To use this package in an
app wrapper, such as PhoneGap, unzip the package in the respective resource location of
the app development project. The app wrapper build then includes the files and makes
them available at runtime.</p>
<p class="p">To ensure that the file is small, it only contains the control libraries that are most likely
used and not all control libraries. Depending on the hybrid app it may be necessary to
add libraries by copying them from the respective folder of the runtime, or to delete
libraries to reduce the package size and, thus, also reduce the installation size for
the user.</p>
<div class="p">The file contains the following control libraries:<ul class="ul" id="loio293eb945f0e945aaa776812481b4c533__ul_tz5_vlh_gn"><li class="li"><p class="p"><samp class="ph codeph">sap.f</samp></p></li><li class="li"><p class="p"><samp class="ph codeph">sap.m</samp></p></li><li class="li"><p class="p"><samp class="ph codeph">sap.tnt</samp></p></li><li class="li"><p class="p"><samp class="ph codeph">sap.ui.core</samp></p></li><li class="li"><p class="p"><samp class="ph codeph">sap.ui.layout</samp></p></li><li class="li"><p class="p"><samp class="ph codeph">sap.ui.suite</samp></p></li><li class="li"><p class="p"><samp class="ph codeph">sap.ui.unified</samp></p></li><li class="li"><p class="p"><samp class="ph codeph">sap.uxap</samp></p></li></ul></div>
<p class="p">The decision, which libraries to include or not may be disputed. It is only based on a
rule of thumb, and adaptations are required anyway for many apps.</p>
<p class="p">Also, the mobile/hybrid package excludes certain types of files which are typically not needed.
Your mileage may vary, so you might need to add the respective files for the
requirements of your specific app. The <samp class="ph codeph">library-preload.js</samp> files which
contain all controls from a library to reduce the number of HTTP requests are not
required in hybrid apps because there is no HTTP latency. <span class="ph pname">SAPUI5</span> will by default try to
access them, so you might see a failed attempt to load these files in the log file or
developer tools. These error messages do not hurt, though, and you can get rid of them
by declaring that no such files exist and by setting the following configuration in the
<span class="ph pname">SAPUI5</span> bootstrap script
tag:</p>
<pre class="pre codeblock prettyprint">data-sap-ui-preload=&quot;&quot;</pre>
<div class="section"><section class="section" type="Optimization of the Package Size"><h2 class="section_title" style="font-size: 1.15em;">Optimization of the Package Size</h2>

<p class="p">Although the static package is small enough to be included in hybrid apps, you can reduce the
size further and optimize the content for a specific application by deleting
additional files. The following list gives some examples:</p>
<ul class="ul" id="loio293eb945f0e945aaa776812481b4c533__ul_etb_myv_xl">
<li class="li">
<p class="p">You can delete all library folders if the respective control library is not needed. For example, in the <span class="ph pname">OpenUI5</span> version you can delete the <samp class="ph codeph">suite</samp> and the <samp class="ph codeph">unified</samp> folder.</p>
</li>
<li class="li">
<p class="p">In each of the <samp class="ph codeph">/resources/sap/* ... */themes</samp> folders, you can delete all
theme folders except the one for the theme you are using.</p>
</li>
</ul>
<aside class="note" aria-labelledby="note_0_title"><div class="title" id="note_0_title"><strong>Note</strong></div>
<p class="p">For all JavaScript files, an optimized version and a debug (<samp class="ph codeph">dbg</samp>) version exists. If you delete the files, make sure that you always delete both versions. If you can do without easy debugging and want to achieve a minimum installation size, we recommend to delete all <samp class="ph codeph">*-dbg.js</samp> files.</p></aside>
<p class="p">You can delete further files, but the size reduction is limited and to find out the files that
are not required gets increasingly difficult.</p>
</section></div>
<div class="section" id="loio293eb945f0e945aaa776812481b4c533__section_N10018_N10011_N10001"><section class="section" type="Device Ready Event"><h2 class="section_title" style="font-size: 1.15em;">Device Ready Event</h2>

<p class="p">The hybrid web container needs some time for initialization. During this time, the
sending of AJAX requests is blocked, meaning that JavaScript code stops once an AJAX
request is sent and the code execution stops as well. This leads to a UI freeze
effect.</p>
<p class="p">The OData model in <span class="ph"><span class="ph pname">OpenUI5</span></span> uses AJAX requests internally and the OData model initialization must therefore be done after the hybrid container is ready to avoid a user interface freeze. After initialization, the hybrid web containers fires an event, which is called <samp class="ph codeph">deviceready</samp> in PhoneGap. To fix this issue, move the code where the OData model is created and set to the core object or any other controls&apos; model property to the <samp class="ph codeph">deviceready</samp> event listener.</p>
<p class="p">Example:</p>
<pre class="pre codeblock prettyprint lang-html">&lt;script&gt;
&lt;!-- put the following code in the beginning of the application code --&gt;
function appReady(){
    sap.ui.getCore().setModel(new sap.ui.model.odata.v2.ODataModel(&lt;ODATA_URL&gt;));
}
&lt;!-- bind to the deviceready event --&gt;
document.addEventListener(&quot;deviceready&quot;, appReady, false);
&lt;/script&gt;</pre>
</section></div>
<div class="section" id="loio293eb945f0e945aaa776812481b4c533__section_N1003A_N10011_N10001"><section class="section" type="Cross Domain Restrictions"><h2 class="section_title" style="font-size: 1.15em;">Cross Domain Restrictions</h2>

<p class="p">If you load data from an external server or service using AJAX, the external domain has to be
configured inside the hybrid web container to make the AJAX request go through the
cross domain restriction. The following findings result from an integration of the
demo applications into PhoneGap:</p>
<ul class="ul" id="loio293eb945f0e945aaa776812481b4c533__ul_fpg_41x_2j">
<li class="li">
<p class="p">Android</p>
<p class="p">If the AJAX code runs inside the webview in Android, no cross domain restriction exists.
This means that you can load data using AJAX from everywhere. The PhoneGap
documentation, however, still says that the domain needs to be configured in
one XML file.</p>
</li>
<li class="li">
<p class="p">iOS</p>
<p class="p">The restriction in webview in iOS still exists and you need to add the domain that is
visited using AJAX to a whitelist file to bypass the restriction. For
detailed information about the whitelist file, see the PhoneGap
documentation on the PhoneGap website.</p>
</li>
</ul>
</section></div>
</div></div></section><div class="clear"></div>
</div><div class="clearfix"></div></div></div><div class="clearfix"></div><div id="footer-container" class="grid_12"><footer>
	<div id="custom-footerSpacer"></div>
	
</footer>
</div></body></html>