<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-us" dir="ltr"><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Upgrading from a Version Below 1.38</title><link rel="icon" href="themes/sap-default/img/favicon.ico" type="image/x-icon"><link rel="shortcut icon" href="themes/sap-default/img/favicon.ico"><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="abstract" content="When upgrading to the current OpenUI5 version from a version below 1.38 (released in June 2016), check whether the changes listed below influence your apps."><meta name="description" content="When upgrading to the current OpenUI5 version from a version below 1.38 (released in June 2016), check whether the changes listed below influence your apps."><meta name="content category" content="development"><script type="text/javascript">var d4p = {"relativePath":'',"dev":false,"debug":false,"draft":false,"nextTopicHref":"a87ca843bcee469f82a9072927a7dcdb.html","previousTopicHref":"278a8e56ab234fa29f6e46b877628ebe.html"}</script><link rel="stylesheet" type="text/css" media="screen, projection" href="themes/sap-default/css/style.css"><script type="text/javascript">
      
        d4p.cssGridPath = d4p.dev ? 'html5-themes/modules/960-Responsive-Grid/css/' : 'themes/dita-d4p-classic/css/';
        var ADAPT_CONFIG = {
          // Where is your CSS?
          path: d4p.relativePath + d4p.cssGridPath,

          // false = Only run once, when page first loads.
          // true = Change on window resize and page tilt.
          dynamic: true,

          // Optional callback... myCallback(i, width)
          callback: doc_resize,

          // First range entry is the minimum.
          // Last range entry is the maximum.
          // Separate ranges by "to" keyword.
          range: [
             // small (size-0)
            '0px    to 760px  =',
             // medium (size-1, size-2)
            '760px  to 980px  = ',
            '980px  to 1270px = ',
             // large (size-3, size-5)
            '1270px to 1600px = ',
            '1600px to 1940px = ',
             // extra large (size-6)
            '1940px to 2540px = ',
            '2540px           = '
          ]
        };

        function doc_resize(i, width)
        {
          d4p.setBodyClassfunction(i, width);
        }


        
      </script><script type="text/javascript" src="toc-info.js"></script><script type="text/javascript" src="themes/sap-default/js/script.js"></script>
		<!--[if lt IE 9]>
			<script>
			  var e = ("abbr,article,aside,audio,canvas,datalist,details," +
			    "figure,footer,header,hgroup,mark,menu,meter,nav,output," +
			    "progress,section,time,video").split(',');
			  for (var i = 0; i < e.length; i++) {
			    document.createElement(e[i]);
			  }
			</script>
		<![endif]-->
        
    <script>
      function addLoadEvent(func) {
        var oldonload = window.onload;
        if (typeof window.onload != 'function') {
          window.onload = func;
        } else {
          window.onload = function() {
            if (oldonload) {
              oldonload();
        }
        func();
       }
     }
     }
      
    addLoadEvent(function() { prettyPrint();
if ($('#local-navigation').length) {
        $('#local-navigation').navigation();
    }
$('.collapsible').collapsify({"expandText":"Display Content","collapseText":"Hide Content","codeblockText":"Code Sample","codeblockCopyText":"Copy code to clipboard","codeblockSelectText":"Select code for copying to clipboard"});


});
      
    </script>
     <script type="text/javascript" src="js/prettify.js"> </script><script id="search-processing" type="text/javascript" src="js/search-processing.js"> </script><script>function handleAreaClick(oArea) {window.parent.location.href = oArea.href;}</script><link type="text/css" rel="stylesheet" href="css/overrides.css"></head><body class="en-us sap-default centered navigation-default toc-injection enumeration-disabled" style="font-family: &apos;72&apos;, Arial, Helvetica, sans-serif;"><div id="d4h5-main-container" class="container_12" role="application"><ul id="page-links" class="hidden"><li><a id="skip-to-content" href="#d4h5-main-content">Skip to content</a></li><li><a id="skip-to-localnav" href="#local-navigation">Skip to navigation</a></li><li><a id="skip-to-footer" href="#footer-container">Skip to footer</a></li></ul><div id="d4h5-section-container" class="grid_12" style="padding-top: 0;"><div id="d4h5-main-content" class="grid_8 alpha omega" style="margin: 0 0.5em;"><section><div id="content-toolbar" class="toolbar hide-for-small"></div><div class="page concept  - topic-topic concept-concept " id="loioc1025c2e30a748ae82e929cb7f6d2f9a"><h1 class="title topictitle1" hidden>Upgrading from a Version Below 1.38</h1><div class="body conbody"><p class="shortdesc" hidden>When upgrading to the current <span class="ph"><span class="ph pname">OpenUI5</span></span> version from a version below 1.38 (released in
June 2016), check whether the changes listed below influence your apps.</p>
<p class="p">With this <span class="ph"><span class="ph pname">OpenUI5</span></span> version, jQuery has been upgraded to version 2.2.3.</p>
<p class="p">This upgrade may impact your <span class="ph"><span class="ph pname">OpenUI5</span></span> apps. The following sections give an overview of our
findings and how to deal with them.</p>
<aside class="note" aria-labelledby="note_0_title"><div class="title" id="note_0_title"><strong>Note</strong></div>
<p class="p">If you use additional open-source libraries that depend on jQuery, check whether they need to be upgraded as well.</p></aside>
<div class="section collapsible"><section class="section collapsible" type="jQuery.Event"><h2 class="section_title" style="font-size: 1.15em;">jQuery.Event</h2><div class="sectiondiv subsection">
<p class="p subsectiontitle">Problem</p>
</div><p class="p">jQuery removed some robustness checks in its event handling code. Without these checks, the <samp class="ph codeph">jQuery.trigger</samp> function
must only be called with events that either have no <samp class="ph codeph">originalEvent</samp> property or where the <samp class="ph codeph">originalEvent</samp> has all
methods that <samp class="ph codeph">window.Event implements</samp> (especially <samp class="ph codeph">preventDefault</samp>, <samp class="ph codeph">stopPropagation</samp> and
<samp class="ph codeph">stopImmediatePropagation</samp>).</p><p class="p">When a <samp class="ph codeph">jQuery.Event</samp> is constructed with an object literal
(<samp class="ph codeph">properties</samp>) or when <samp class="ph codeph">originalEvent</samp> is set to some object after construction, this constraint is not
fulfilled. Unfortunately, many <span class="ph"><span class="ph pname">OpenUI5</span></span> unit tests used this approach to simulate
mouse or key events.</p><div class="sectiondiv subsection">
<p class="p subsectiontitle">Solution</p>
<p class="p">For each code that creates events, you have to apply the following fix: </p>
<p class="p">The module <samp class="ph codeph">QUnitUtils</samp> now rewrites the <samp class="ph codeph">jQuery.Event</samp> constructor so that any given object literal is
enriched with the missing methods. Most <span class="ph"><span class="ph pname">OpenUI5</span></span> unit tests include the
<samp class="ph codeph">QUnitUtils</samp> module early, which then fixes the issue.</p>
<p class="p">Application code that needs to simulate an event, either should omit the <samp class="ph codeph">originalEvent</samp> or use <samp class="ph codeph">Event.create</samp>
to create a native event and only then create a <samp class="ph codeph">jQuery.Event</samp>. </p>
</div></section></div>
<div class="section collapsible"><section class="section collapsible" type="jQuery.fn.position"><h2 class="section_title" style="font-size: 1.15em;">jQuery.fn.position</h2><div class="sectiondiv subsection">
<p class="p subsectiontitle">Problem</p>
<p class="p"><samp class="ph codeph">jQuery.fn.position</samp> now takes the scroll positions of the parent element into account. This change was recoginzed as
incompatible by the jQuery team and reverted with version 2.2.1.</p>
</div><div class="sectiondiv subsection">
<p class="p subsectiontitle">Solution</p>
<p class="p">Nothing, this is automatically fixed.</p>
</div></section></div>
<div class="section collapsible"><section class="section collapsible" type="jQuery.now"><h2 class="section_title" style="font-size: 1.15em;">jQuery.now</h2><div class="sectiondiv subsection">
<p class="p subsectiontitle">Problem</p>
<p class="p"><samp class="ph codeph">jQuery.now</samp> is now set to <samp class="ph codeph">Date.now</samp> for all browsers. But as the jQuery property represents a separate
reference to that function, it is not touched by code that modifies <samp class="ph codeph">Date.now</samp>, especially not by Sinon fake timers.
Therefore Sinon fake timers don&apos;t work with jQuery 2.2 if Sinon is started after <samp class="ph codeph">jQuery</samp>.</p>
</div><div class="sectiondiv subsection">
<p class="p subsectiontitle">Solution</p>
<p class="p">As a workaround, <samp class="ph codeph">QUnitUtils</samp> redefines <samp class="ph codeph">jQuery.now</samp> so that it delegates to the current
<samp class="ph codeph">Date.now</samp>. This will then use any installed fake timer.</p>
</div></section></div>
<div class="section collapsible"><section class="section collapsible" type=":visible selector"><h2 class="section_title" style="font-size: 1.15em;">:visible selector</h2><div class="sectiondiv subsection">
<p class="p subsectiontitle">Problem</p>
<p class="p">Somewhere between jQuery 1.11.1 and 2.2.0, the behavior of the <samp class="ph codeph">:visible</samp> selector has changed. For empty inline elements (for
example, a <samp class="ph codeph">span</samp> with no text), the selector now reports <samp class="ph codeph">:visible = true</samp> whereas jQuery 1.1.1 reported it
as <samp class="ph codeph">hidden</samp>. There was only one functionality in the <samp class="ph codeph">sap.ui.dt</samp> library where this change in behavior caused
problems.</p>
</div><div class="sectiondiv subsection">
<p class="p subsectiontitle">Solution</p>
<p class="p">Instead of using <samp class="ph codeph">:visible</samp>, that functionality now uses its own implementation similar to jQuery 1.11.1.</p>
</div></section></div>
<div class="section collapsible"><section class="section collapsible" type="Sizzle attribute selector ([name=value])"><h2 class="section_title" style="font-size: 1.15em;">Sizzle attribute selector ([name=value])</h2><div class="sectiondiv subsection">
<p class="p subsectiontitle">Problem</p>
<p class="p">In Microsoft Internet Explorer, the attribute selector no longer works when the attribute value is unquoted and starts with a hash
(<samp class="ph codeph">#</samp>). This is the case when hash-name-references are searched for, like with the <samp class="ph codeph">usemap</samp> attribute of
the <samp class="ph codeph">IMG</samp> element. </p>
</div><div class="sectiondiv subsection">
<p class="p subsectiontitle">Solution</p>
<p class="p">Use quotes (<samp class="ph codeph">&quot;&quot;</samp>) for attribute values in those cases.</p>
</div></section></div>
<div class="section collapsible"><section class="section collapsible" type="jQuery.isPlainObject"><h2 class="section_title" style="font-size: 1.15em;">jQuery.isPlainObject</h2><div class="sectiondiv subsection">
<p class="p subsectiontitle">Problem</p>
<p class="p">jQuery 2.2.0 simplified the implementation of <samp class="ph codeph">jQuery.isPlainObject</samp>. As a side-effect, objects with a
<samp class="ph codeph">constructor</samp> property with a non-function value (like a <samp class="ph codeph">string</samp> value) caused a runtime error when
<samp class="ph codeph">jQuery.isPlainObject</samp> was applied. </p>
</div><div class="sectiondiv subsection">
<p class="p subsectiontitle">Solution</p>
<p class="p">This issue is fixed with jQuery 2.2.2.</p>
</div></section></div>
<div class="section"><section class="section" type="Descriptor for Applications, Components, and Libraries"><h2 class="section_title" style="font-size: 1.15em;">Descriptor for Applications, Components, and Libraries</h2>

<p class="p">If you want to add new attributes of a descriptor version higher than V2 (SAPUI5
1.30) to your existing <samp class="ph codeph">manifest.json</samp> file, see <a class="xref" href="../../#/topic/a110f762148a4933a33d30751a37a743.html" title="Information how to add new attributes of descriptor versions higher than V2 (OpenUI5 1.30) to the descriptor file." target="_top">Migration Information for Upgrading the Descriptor File</a>.</p>
</section></div>
</div></div></section><div class="clear"></div>
</div><div class="clearfix"></div></div></div><div class="clearfix"></div><div id="footer-container" class="grid_12"><footer>
	<div id="custom-footerSpacer"></div>
	
</footer>
</div></body></html>