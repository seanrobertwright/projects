<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-us" dir="ltr"><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Content Security Policy</title><link rel="icon" href="themes/sap-default/img/favicon.ico" type="image/x-icon"><link rel="shortcut icon" href="themes/sap-default/img/favicon.ico"><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="abstract" content="Content Security Policy (CSP) adds an additional layer of security that enables the detection and mitigation of certain types of attacks including cross site scripting and data injection."><meta name="description" content="Content Security Policy (CSP) adds an additional layer of security that enables the detection and mitigation of certain types of attacks including cross site scripting and data injection."><meta name="content category" content="development"><script type="text/javascript">var d4p = {"relativePath":'',"dev":false,"debug":false,"draft":false,"nextTopicHref":"8d7b2868b8d8441a803a3223754d72fc.html","previousTopicHref":"62d9c4d8f5ad49aa914624af9551beb7.html"}</script><link rel="stylesheet" type="text/css" media="screen, projection" href="themes/sap-default/css/style.css"><script type="text/javascript">
      
        d4p.cssGridPath = d4p.dev ? 'html5-themes/modules/960-Responsive-Grid/css/' : 'themes/dita-d4p-classic/css/';
        var ADAPT_CONFIG = {
          // Where is your CSS?
          path: d4p.relativePath + d4p.cssGridPath,

          // false = Only run once, when page first loads.
          // true = Change on window resize and page tilt.
          dynamic: true,

          // Optional callback... myCallback(i, width)
          callback: doc_resize,

          // First range entry is the minimum.
          // Last range entry is the maximum.
          // Separate ranges by "to" keyword.
          range: [
             // small (size-0)
            '0px    to 760px  =',
             // medium (size-1, size-2)
            '760px  to 980px  = ',
            '980px  to 1270px = ',
             // large (size-3, size-5)
            '1270px to 1600px = ',
            '1600px to 1940px = ',
             // extra large (size-6)
            '1940px to 2540px = ',
            '2540px           = '
          ]
        };

        function doc_resize(i, width)
        {
          d4p.setBodyClassfunction(i, width);
        }


        
      </script><script type="text/javascript" src="toc-info.js"></script><script type="text/javascript" src="themes/sap-default/js/script.js"></script>
		<!--[if lt IE 9]>
			<script>
			  var e = ("abbr,article,aside,audio,canvas,datalist,details," +
			    "figure,footer,header,hgroup,mark,menu,meter,nav,output," +
			    "progress,section,time,video").split(',');
			  for (var i = 0; i < e.length; i++) {
			    document.createElement(e[i]);
			  }
			</script>
		<![endif]-->
        
    <script>
      function addLoadEvent(func) {
        var oldonload = window.onload;
        if (typeof window.onload != 'function') {
          window.onload = func;
        } else {
          window.onload = function() {
            if (oldonload) {
              oldonload();
        }
        func();
       }
     }
     }
      
    addLoadEvent(function() { prettyPrint();
if ($('#local-navigation').length) {
        $('#local-navigation').navigation();
    }


});
      
    </script>
     <script type="text/javascript" src="js/prettify.js"> </script><script id="search-processing" type="text/javascript" src="js/search-processing.js"> </script><script>function handleAreaClick(oArea) {window.parent.location.href = oArea.href;}</script><link type="text/css" rel="stylesheet" href="css/overrides.css"></head><body class="en-us sap-default centered navigation-default toc-injection enumeration-disabled" style="font-family: &apos;72&apos;, Arial, Helvetica, sans-serif;"><div id="d4h5-main-container" class="container_12" role="application"><ul id="page-links" class="hidden"><li><a id="skip-to-content" href="#d4h5-main-content">Skip to content</a></li><li><a id="skip-to-localnav" href="#local-navigation">Skip to navigation</a></li><li><a id="skip-to-footer" href="#footer-container">Skip to footer</a></li></ul><div id="d4h5-section-container" class="grid_12" style="padding-top: 0;"><div id="d4h5-main-content" class="grid_8 alpha omega" style="margin: 0 0.5em;"><section><div id="content-toolbar" class="toolbar hide-for-small"></div><div class="page concept  - topic-topic concept-concept " id="loiofe1a6dba940e479fb7c3bc753f92b28c"><h1 class="title topictitle1" hidden>Content Security Policy</h1><div class="body conbody"><p class="shortdesc" hidden>Content Security Policy (CSP) adds an additional layer of security that enables the
detection and mitigation of certain types of attacks including cross site scripting and data
injection.</p>
<p class="p">CSP restricts the sources from which the browser is allowed to load resources, such as scripts,
fonts, and images:</p>
<ul class="ul" id="loiofe1a6dba940e479fb7c3bc753f92b28c__ul_mkh_nhl_5fb">
<li class="li">
<p class="p">CSP mitigates and reports XSS attacks; CSP compatible browsers only execute scripts loaded in
source files that are received from whitelisted sources.</p>
</li>
<li class="li">
<p class="p">CSP also mitigates packet sniffing attacks by specifying the protocols that are
allowed to be used in the web server, for example, specifying that content must
only be loaded from HTTPS.</p>
</li>
</ul>
<p class="p">CSP is either enabled via a configuration in the web server to return the
Content-Security-Policy HTTP header (preferred solution), or via the &lt;meta&gt;
element in the meta tags of an HTML page.</p>
<p class="p">For generic information about CSP, see <a class="extlink" href="http://help.sap.com/disclaimer?site=https://www.w3.org/TR/CSP2/" target="_blank" alt="https://www.w3.org/TR/CSP2/" title="https://www.w3.org/TR/CSP2/">https://www.w3.org/TR/CSP2/<img src="themes/sap-default/img/3rd_link.png" class="link-external" alt="Information published on non-SAP site" title="Information published on non-SAP site" border="0"></a>.</p>
<p class="p">For <span class="ph"><span class="ph pname">OpenUI5</span></span>, we recommend that
developers build their apps CSP-compliant, in particular regarding the loading of
resources and the use of inline scripts. <samp class="ph codeph">eval()</samp> is currently still
required in <span class="ph"><span class="ph pname">OpenUI5</span></span> for
synchronous loading. However, we recommend to load JavaScript resources asynchronously
and this also avoids the use of <samp class="ph codeph">eval()</samp>. For more information about
asynchronous loading, see <a class="xref" href="../../#/topic/91f23a736f4d1014b6dd926db0e91070.html" title="The OpenUI5 framework has built-in support for modularizing comprehensive JavaScript applications. That means, instead of defining and loading one large bundle of JavaScript code, an application can be split into smaller parts which then can be loaded at runtime at the time when they are needed. These smaller individual files are called modules." target="_top">Modules and Dependencies</a>. For
more information about avoiding synchronous APIs which might lead to synchronous
loading, see <a class="xref" href="../../#/topic/491bd9c70b9f4c4d913c8c7b4a970833.html" title="Overview of the replacement of global functions with the factory functions" target="_top">Legacy Factories Replacement</a>.</p>
<p class="p">To build CSP-compliant applications without inline scripts, you must avoid the following when
developing <span class="ph"><span class="ph pname">OpenUI5</span></span> apps:</p>
<ul class="ul" id="loiofe1a6dba940e479fb7c3bc753f92b28c__ul_vt4_zxf_5fb">
<li class="li">
<p class="p">Script element with inlined source code</p>
</li>
<li class="li">
<p class="p">Inline event handler</p>
</li>
<li class="li">
<p class="p"><samp class="ph codeph">javascript</samp>: URL</p>
</li>
<li class="li">
<p class="p"><samp class="ph codeph">document.write()</samp>, <samp class="ph codeph">createElement(&apos;script&apos;)</samp>, and
so on, if they are used to create inline scripts. Creating script references,
such as <samp class="ph codeph">&lt;script src=&quot;...&quot;&gt;&lt;/script&gt;</samp> or non-script
content with them is okay.</p>
</li>
</ul>
<p class="p">To be prepared for a CSP policy, which does not allow <samp class="ph codeph">eval()</samp>, you must also
avoid the following elements when developing <span class="ph"><span class="ph pname">OpenUI5</span></span> apps:</p>
<ul class="ul" id="loiofe1a6dba940e479fb7c3bc753f92b28c__ul_nqg_5dj_1gb">
<li class="li">
<p class="p"><samp class="ph codeph">new Function()</samp></p>
</li>
<li class="li">
<p class="p"><samp class="ph codeph">setTimeout(&lt;non-fn&gt;)</samp></p>
<p class="p">This will be ignored silently and not create a timer without <samp class="ph codeph">&apos;unsafe-eval&apos;</samp>,
that is, <samp class="ph codeph">&lt;non-fn&gt;</samp> is never executed.
<samp class="ph codeph">setTimeout(&lt;fn&gt;)</samp> will work with and without
<samp class="ph codeph">&apos;unsafe-eval&apos;</samp>.</p>
</li>
<li class="li">
<p class="p"><samp class="ph codeph">setInterval(&lt;non-fn&gt;)</samp></p>
<p class="p">This will be ignored silently and not create a repeated timer without
<samp class="ph codeph">&apos;unsafe-eval&apos;</samp>, that is, the <samp class="ph codeph">&lt;non-fn&gt;</samp>
is never executed. <samp class="ph codeph">setInterval(&lt;fn&gt;)</samp> will work with and
without the <samp class="ph codeph">&apos;unsafe-eval&apos;</samp>.</p>
</li>
</ul>
<p class="p">To run in an environment in which CSP has been enabled, <span class="ph"><span class="ph pname">OpenUI5</span></span> requires the
following directives:</p>
<ul class="ul" id="loiofe1a6dba940e479fb7c3bc753f92b28c__ul_uvj_rxf_5fb">
<li class="li">
<p class="p"><samp class="ph codeph">script-src &apos;self&apos; &apos;unsafe-eval&apos; &lt;source hosting UI5&gt;;</samp></p>
<p class="p"><span class="ph"><span class="ph pname">OpenUI5</span></span> itself does not require
<samp class="ph codeph">&#x2018;unsafe-inline&#x2019;</samp>, but still requires
<samp class="ph codeph">&#x2018;unsafe-eval&#x2019;</samp> for synchronous loading of JavaScript
resources. <samp class="ph codeph">&#x2018;self&#x2019;</samp> is required for loading application
resources. If <span class="ph"><span class="ph pname">OpenUI5</span></span> is not hosted with the application, an additional source entry
(<samp class="ph codeph">&lt;source hosting UI5&gt;</samp>) is required.</p>
</li>
<li class="li">
<p class="p"><samp class="ph codeph">style-src &apos;self&apos; &apos;unsafe-inline&apos; &lt;source hosting UI5&gt;;</samp></p>
<p class="p"><span class="ph"><span class="ph pname">OpenUI5</span></span> requires
<samp class="ph codeph">&apos;unsafe-inline&apos;</samp> as it is used by many controls. In
addition, <samp class="ph codeph">&apos;self&apos;</samp> may be needed for loading styles from the
application. If <span class="ph"><span class="ph pname">OpenUI5</span></span> is hosted
with the application, <samp class="ph codeph">&apos;self&apos;</samp> is required for loading the <span class="ph"><span class="ph pname">OpenUI5</span></span> styles.
Otherwise, an additional source entry (<samp class="ph codeph">&lt;source hosting UI5&gt;</samp>)
is required. Similarly, the location of custom themes needs to be added.</p>
</li>
<li class="li">
<p class="p"><samp class="ph codeph">font-src &apos;self&apos; &lt;source hosting UI5&gt;;</samp></p>
<p class="p"><samp class="ph codeph">&apos;self&apos;</samp> may be needed for loading fonts from the application. If <span class="ph"><span class="ph pname">OpenUI5</span></span> is hosted
with the application, <samp class="ph codeph">&apos;self&apos;</samp> is required for loading the <span class="ph"><span class="ph pname">OpenUI5</span></span> fonts,
otherwise an additional source entry (<samp class="ph codeph">&lt;source hosting
UI5&gt;</samp>) is required. Similarly, the location of custom fonts needs
to be added.</p>
<p class="p">Some specific <span class="ph"><span class="ph pname">OpenUI5</span></span>
functionality may require specifying <samp class="ph codeph">data:</samp> as source.</p>
</li>
<li class="li">
<p class="p"><samp class="ph codeph">img-src &apos;self&apos; &lt;source hosting UI5&gt;;</samp></p>
<p class="p"><samp class="ph codeph">&apos;self&apos;</samp> may be needed for loading images from the application. If <span class="ph"><span class="ph pname">OpenUI5</span></span> is hosted
with the application, <samp class="ph codeph">&apos;self&apos;</samp> is required for loading the <span class="ph"><span class="ph pname">OpenUI5</span></span> images,
otherwise an additional source entry (<samp class="ph codeph">&lt;source hosting
UI5&gt;</samp>) is required. Similarly, the location of custom themes
needs to be added, if they contain images.</p>
<p class="p">If the backend provides additional links to images, their location needs to be
added as well.</p>
<p class="p">Some specific <span class="ph"><span class="ph pname">OpenUI5</span></span>
functionality may additionally require <samp class="ph codeph">data:</samp> and/or
<samp class="ph codeph">blob:</samp>.</p>
</li>
<li class="li">
<p class="p"><samp class="ph codeph">frame-src &lt;source hosting UI5&gt;;</samp></p>
<p class="p">For using the support assistant and/or the diagnostics tool, the location of the
<span class="ph"><span class="ph pname">OpenUI5</span></span>
framework (could be <samp class="ph codeph">&apos;self&apos;</samp>) needs to be added as a source
entry.</p>
<p class="p">Additional entries may be required depending on the integration, application, or
test scenario.</p>
<p class="p">Some specific <span class="ph"><span class="ph pname">OpenUI5</span></span>
functionality may additionally require <samp class="ph codeph">data:</samp> and/or
<samp class="ph codeph">blob:</samp>.</p>
</li>
<li class="li">
<p class="p"><samp class="ph codeph">worker-src &lt;source hosting UI5&gt;;</samp></p>
<p class="p">Some specific <span class="ph"><span class="ph pname">OpenUI5</span></span>
functionality may require the source hosting <span class="ph"><span class="ph pname">OpenUI5</span></span> (could be
<samp class="ph codeph">&apos;self&apos;</samp>), <samp class="ph codeph">data:</samp> and/or
<samp class="ph codeph">blob:</samp>.</p>
</li>
<li class="li">
<p class="p"><samp class="ph codeph">child-src ;</samp></p>
<p class="p">For browsers not supporting <samp class="ph codeph">worker-src</samp>, the corresponding
entries need to be done here. This is the deprecated predecessor of
<samp class="ph codeph">worker-src</samp> and <samp class="ph codeph">frame-src</samp>.</p>
</li>
<li class="li">
<p class="p"><samp class="ph codeph">connect-src &apos;self&apos; &lt;source hosting UI5&gt;;</samp></p>
<p class="p"><samp class="ph codeph">&#x2018;self&#x2019;</samp> is required for loading application resources. If <span class="ph"><span class="ph pname">OpenUI5</span></span> is
<span class="ph emphasis emphasis">not</span> hosted with the application, an additional source
entry (<samp class="ph codeph">&lt;source hosting UI5&gt;</samp>) is required.</p>
<p class="p">Some specific <span class="ph"><span class="ph pname">OpenUI5</span></span>
functionality may require <samp class="ph codeph">wss:</samp>.</p>
</li>
</ul>
<p class="p">To setup a most restrictive policy, setup CSP in report-only mode and start with a
minimal policy. Monitor the reports to add missing sources. Finally switch CSP to
enforcing the policy. </p>
</div></div></section><div class="clear"></div>
</div><div class="clearfix"></div></div></div><div class="clearfix"></div><div id="footer-container" class="grid_12"><footer>
	<div id="custom-footerSpacer"></div>
	
</footer>
</div></body></html>