<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-us" dir="ltr"><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Step 3: Automatic Data Type Detection</title><link rel="icon" href="themes/sap-default/img/favicon.ico" type="image/x-icon"><link rel="shortcut icon" href="themes/sap-default/img/favicon.ico"><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="abstract" content="In this step, we use the automatic data type detection of the OData V4 model to parse, validate, and format user entries. The service metadata contains type information for the properties of each entity."><meta name="description" content="In this step, we use the automatic data type detection of the OData V4 model to parse, validate, and format user entries. The service metadata contains type information for the properties of each entity."><meta name="content category" content="development"><script type="text/javascript">var d4p = {"relativePath":'',"dev":false,"debug":false,"draft":false,"nextTopicHref":"426ff318051a465191c861b51a74f00e.html","previousTopicHref":"e9de002ddf1e478fbb9232bfba83dcf0.html"}</script><link rel="stylesheet" type="text/css" media="screen, projection" href="themes/sap-default/css/style.css"><script type="text/javascript">
      
        d4p.cssGridPath = d4p.dev ? 'html5-themes/modules/960-Responsive-Grid/css/' : 'themes/dita-d4p-classic/css/';
        var ADAPT_CONFIG = {
          // Where is your CSS?
          path: d4p.relativePath + d4p.cssGridPath,

          // false = Only run once, when page first loads.
          // true = Change on window resize and page tilt.
          dynamic: true,

          // Optional callback... myCallback(i, width)
          callback: doc_resize,

          // First range entry is the minimum.
          // Last range entry is the maximum.
          // Separate ranges by "to" keyword.
          range: [
             // small (size-0)
            '0px    to 760px  =',
             // medium (size-1, size-2)
            '760px  to 980px  = ',
            '980px  to 1270px = ',
             // large (size-3, size-5)
            '1270px to 1600px = ',
            '1600px to 1940px = ',
             // extra large (size-6)
            '1940px to 2540px = ',
            '2540px           = '
          ]
        };

        function doc_resize(i, width)
        {
          d4p.setBodyClassfunction(i, width);
        }


        
      </script><script type="text/javascript" src="toc-info.js"></script><script type="text/javascript" src="themes/sap-default/js/script.js"></script>
		<!--[if lt IE 9]>
			<script>
			  var e = ("abbr,article,aside,audio,canvas,datalist,details," +
			    "figure,footer,header,hgroup,mark,menu,meter,nav,output," +
			    "progress,section,time,video").split(',');
			  for (var i = 0; i < e.length; i++) {
			    document.createElement(e[i]);
			  }
			</script>
		<![endif]-->
        
    <script>
      function addLoadEvent(func) {
        var oldonload = window.onload;
        if (typeof window.onload != 'function') {
          window.onload = func;
        } else {
          window.onload = function() {
            if (oldonload) {
              oldonload();
        }
        func();
       }
     }
     }
      
    addLoadEvent(function() { prettyPrint();
if ($('#local-navigation').length) {
        $('#local-navigation').navigation();
    }


});
      
    </script>
     <script type="text/javascript" src="js/prettify.js"> </script><script id="search-processing" type="text/javascript" src="js/search-processing.js"> </script><script>function handleAreaClick(oArea) {window.parent.location.href = oArea.href;}</script><link type="text/css" rel="stylesheet" href="css/overrides.css"></head><body class="en-us sap-default centered navigation-default toc-injection enumeration-disabled" style="font-family: &apos;72&apos;, Arial, Helvetica, sans-serif;"><div id="d4h5-main-container" class="container_12" role="application"><ul id="page-links" class="hidden"><li><a id="skip-to-content" href="#d4h5-main-content">Skip to content</a></li><li><a id="skip-to-localnav" href="#local-navigation">Skip to navigation</a></li><li><a id="skip-to-footer" href="#footer-container">Skip to footer</a></li></ul><div id="d4h5-section-container" class="grid_12" style="padding-top: 0;"><div id="d4h5-main-content" class="grid_8 alpha omega" style="margin: 0 0.5em;"><section><div id="content-toolbar" class="toolbar hide-for-small"><div class="familylinks"><div class="parentlink"><br><strong>Parent topic: </strong><a class="link" href="../../#/topic/bcdbde6911bd4fc68fd435cf8e306ed0.html" title="In this tutorial, we explore how features of OData V4 can be used in OpenUI5. We write a small app that consumes data from an OData V4 service to understand how to access, modify, aggregate, and filter data in an OData V4 model." target="_top">OData V4</a><br></div><div class="previouslink"><br><strong>Previous: </strong><a class="link" href="../../#/topic/e9de002ddf1e478fbb9232bfba83dcf0.html" title="In this step, we see how the Table that is bound to the People entity set initially requests its data, and how the data can be refreshed. We use the Console tab in the browser developer tools to monitor the communication between the browser and the server. We see the initial request as well as the requests for refreshing the data." target="_top">Step 2: Data Access and Client-Server Communication</a><br></div><div class="nextlink"><br><strong>Next: </strong><a class="link" href="../../#/topic/426ff318051a465191c861b51a74f00e.html" title="In this step, we add features to filter, sort, and count the user data by using the OData V4 model API to apply OData system query options $filter, $orderby, and $count." target="_top">Step 4: Filtering, Sorting, and Counting</a><br></div></div></div><div class="page concept  - topic-topic concept-concept " id="loio96bb6e06fa22491fa65a5040f6da099c"><h1 class="title topictitle1" hidden>Step 3: Automatic Data Type Detection</h1><div class="body conbody"><p class="shortdesc" hidden>In this step, we use the automatic data type detection of the OData V4 model to parse,
validate, and format user entries. The service metadata contains type information for the
properties of each entity.</p>
<p class="p">The OData V4 Model utilizes this information to compute the corresponding <span class="ph"><span class="ph pname">OpenUI5</span></span> type, including
constraints, and sets this type to the <span class="ph"><span class="ph pname">OpenUI5</span></span> property binding for
the entity property. For example, for <samp class="ph codeph">&lt;Input value={Age}/&gt;</samp> the
<span class="ph"><span class="ph pname">OpenUI5</span></span> type
<samp class="ph codeph">Int64</samp> is used, which corresponds to the OData type
<samp class="ph codeph">Edm.Int64</samp>.</p>
<div class="section" id="loio96bb6e06fa22491fa65a5040f6da099c__section_bt4_fxc_z1b"><section class="section" type="Preview"><h2 class="section_title" style="font-size: 1.15em;">Preview</h2>

<div class="fig fignone" id="loio96bb6e06fa22491fa65a5040f6da099c__fig_zyb_mlb_mcb"><div class="figbody">

<img class="inline" id="loio96bb6e06fa22491fa65a5040f6da099c__image_qzp_llb_mcb" src="loio8320fcfb59db4d209e17a84c21e44647_LowRes.png">
</div><span class="figcap">Input does not match the underlying data type</span></div>
</section></div>
<div class="section" id="loio96bb6e06fa22491fa65a5040f6da099c__section_tsr_gxc_z1b"><section class="section" type="Coding"><h2 class="section_title" style="font-size: 1.15em;">Coding</h2>
<p class="p">You can view and download all files <span class="ph">at <a class="xref" href="../../#/sample/sap.ui.core.tutorial.odatav4.03/preview" target="_top" alt="#/sample/sap.ui.core.tutorial.odatav4.03/preview" title="#/sample/sap.ui.core.tutorial.odatav4.03/preview">OData V4 - Step 3</a></span>.</p>
</section></div>
<div class="section" id="loio96bb6e06fa22491fa65a5040f6da099c__section_pp2_mxc_z1b"><section class="section" type="webapp/manifest.json"><h2 class="section_title" style="font-size: 1.15em;">webapp/manifest.json</h2>

<pre class="pre codeblock prettyprint lang-json">{
	&quot;_version&quot;: &quot;1.12.0&quot;,
	&quot;sap.app&quot;: {...
	},
	&quot;sap.ui&quot;: {
		&quot;technology&quot;: &quot;UI5&quot;,
		&quot;deviceTypes&quot;: {
		   
		}
	},
	&quot;sap.ui5&quot;: {
		&quot;rootView&quot;: {
		...
		},
		&quot;dependencies&quot;: {
			...
			}
		},
		&quot;contentDensities&quot;: {
			...
		},
		<span class="ph emphasis emphasis">&quot;handleValidation&quot;: true</span>,
		
		&quot;models&quot;: {
			...
			}
		}
	},
	&quot;sap.platform.hcp&quot;: {
		...
	}
</pre>
<p class="p">In the <span class="ph filepath">manifest.json</span> descriptor file, we add the <samp class="ph codeph">&quot;handleValidation&quot;: true</samp> setting. This makes sure that any validation errors that are detected by the <span class="ph"><span class="ph pname">OpenUI5</span></span> types are shown on the UI using the message manager. </p>
<div class="p">We now run the app using the <span class="ph filepath">index.html</span> file and enter values that don&apos;t
match the type and constraints given in the metadata file. For example, enter the
string value <kbd class="ph userinput">Young at Heart</kbd> in field
<span class="ph uicontrol">Age</span>, which requires an integer input (<span class="ph"><span class="ph pname">OpenUI5</span></span> type
<samp class="ph codeph">sap.ui.model.odata.type.Int64</samp>, corresponding to OData type
<samp class="ph codeph">Edm.Int64</samp>), or remove an entry from the <span class="ph uicontrol">User
Name</span> or <span class="ph uicontrol">First Name</span> fields, which are
mandatory. Fields with incorrect entries are highlighted and an error message is displayed.<aside class="note" aria-labelledby="note_0_title"><div class="title" id="note_0_title"><strong>Note</strong></div>
<p class="p">If you explicitly define a type in the binding info of a control, the
automatic type detection for that binding will be turned off. For example,
if you change the <samp class="ph codeph">Input</samp> for <samp class="ph codeph">Age</samp> in the
view to <samp class="ph codeph">&lt;Input value=&quot;{path:&apos;Age&apos;,
type:&apos;sap.ui.model.type.String&apos;}/&gt;</samp>, the
<samp class="ph codeph">String</samp> type will be used, not the
<samp class="ph codeph">Int64</samp> type from the service metadata.</p></aside></div>
</section></div>
<div class="section" id="loio96bb6e06fa22491fa65a5040f6da099c__section_pvc_fyc_z1b"><section class="section" type="localService/metadata.xml"><h2 class="section_title" style="font-size: 1.15em;">localService/metadata.xml</h2>

<pre class="pre codeblock prettyprint lang-xml">&lt;EntityType Name=&quot;Person&quot;&gt;
	&lt;Key&gt;
		&lt;PropertyRef Name=&quot;UserName&quot;/&gt;
	&lt;/Key&gt;
	&lt;Property Name=&quot;UserName&quot; Type=&quot;Edm.String&quot; Nullable=&quot;false&quot; /&gt;
	&lt;Property Name=&quot;FirstName&quot; <span class="ph emphasis emphasis">Type=&quot;Edm.String&quot;</span> /&gt;
	&lt;Property Name=&quot;LastName&quot; Type=&quot;Edm.String&quot;/&gt;
	&lt;Property Name=&quot;MiddleName&quot; Type=&quot;Edm.String&quot;/&gt;
	&lt;Property Name=&quot;Gender&quot; Type=&quot;Microsoft.OData.Service.Sample.TrippinInMemory.Models.PersonGender&quot;
			  Nullable=&quot;false&quot;/&gt;
	&lt;Property Name=&quot;Age&quot; Type=&quot;Edm.Int64&quot; /&gt;
   </pre>
<p class="p">To make the <span class="ph uicontrol">First Name</span> optional, we remove the parameter
<samp class="ph codeph">Nullable=&quot;false&quot;</samp> from the <samp class="ph codeph">FirstName</samp> property.
You can play around with the settings for the other properties, for example, change
the type of property <samp class="ph codeph">Age</samp> to <samp class="ph codeph">Type=&quot;Edm.String&quot;</samp> to
allow free text.</p>
</section></div>
<div class="section" id="loio96bb6e06fa22491fa65a5040f6da099c__section_idw_54b_mcb">
<aside class="note tip" aria-labelledby="note_1_title"><div class="title" id="note_1_title"><strong>Tip</strong></div>
<p class="p">To see the metadata of an OData service, you append the <samp class="ph codeph">$metadata</samp> variable
to the URL of the service. You can try this, for example, with <a class="extlink" href="http://help.sap.com/disclaimer?site=http://services.odata.org/TripPinRESTierService/" target="_blank" alt="http://services.odata.org/TripPinRESTierService/" title="http://services.odata.org/TripPinRESTierService/">http://services.odata.org/TripPinRESTierService/<img src="themes/sap-default/img/3rd_link.png" class="link-external" alt="Information published on non-SAP site" title="Information published on non-SAP site" border="0"></a> and <a class="extlink" href="http://help.sap.com/disclaimer?site=http://services.odata.org/TripPinRESTierService/$metadata" target="_blank" alt="http://services.odata.org/TripPinRESTierService/$metadata" title="http://services.odata.org/TripPinRESTierService/$metadata">http://services.odata.org/TripPinRESTierService/$metadata<img src="themes/sap-default/img/3rd_link.png" class="link-external" alt="Information published on non-SAP site" title="Information published on non-SAP site" border="0"></a></p></aside>
</div>
</div><div class="related-links"> <div class="familylinks"><div class="parentlink"><br><strong>Parent topic: </strong><a class="link" href="../../#/topic/bcdbde6911bd4fc68fd435cf8e306ed0.html" title="In this tutorial, we explore how features of OData V4 can be used in OpenUI5. We write a small app that consumes data from an OData V4 service to understand how to access, modify, aggregate, and filter data in an OData V4 model." target="_top">OData V4</a><br></div><div class="previouslink"><br><strong>Previous: </strong><a class="link" href="../../#/topic/e9de002ddf1e478fbb9232bfba83dcf0.html" title="In this step, we see how the Table that is bound to the People entity set initially requests its data, and how the data can be refreshed. We use the Console tab in the browser developer tools to monitor the communication between the browser and the server. We see the initial request as well as the requests for refreshing the data." target="_top">Step 2: Data Access and Client-Server Communication</a><br></div><div class="nextlink"><br><strong>Next: </strong><a class="link" href="../../#/topic/426ff318051a465191c861b51a74f00e.html" title="In this step, we add features to filter, sort, and count the user data by using the OData V4 model API to apply OData system query options $filter, $orderby, and $count." target="_top">Step 4: Filtering, Sorting, and Counting</a><br></div></div><div class="relinfo"><div class="relinfotitle ">Related Information</div><div><a class="link" href="../../#/topic/53cdd55a77ce4f33a14bd0767a293063.html" target="_top">Type Determination</a></div><div><a class="link" href="../../#/api/sap.ui.model.odata.type" target="_top" alt="#/api/sap.ui.model.odata.type" title="#/api/sap.ui.model.odata.type">API Reference: <samp class="ph codeph">sap.ui.model.odata.type</samp></a></div><div><a class="link" href="../../#/sample/sap.ui.core.sample.ViewTemplate.types/preview" target="_top" alt="#/sample/sap.ui.core.sample.ViewTemplate.types/preview" title="#/sample/sap.ui.core.sample.ViewTemplate.types/preview">Sample for <samp class="ph codeph">sap.ui.core.mvc.XMLView</samp>: <span class="ph uicontrol">XML
Templating: UI5 OData types</span></a></div></div></div></div></section><div class="clear"></div>
</div><div class="clearfix"></div></div></div><div class="clearfix"></div><div id="footer-container" class="grid_12"><footer>
	<div id="custom-footerSpacer"></div>
	
</footer>
</div></body></html>