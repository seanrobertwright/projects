<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-us" dir="ltr"><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Step 10: Property Formatting Using Data Types</title><link rel="icon" href="themes/sap-default/img/favicon.ico" type="image/x-icon"><link rel="shortcut icon" href="themes/sap-default/img/favicon.ico"><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="abstract" content="OpenUI5 provides a set of simple data types such as Boolean, Currency, Date and Float. These data types can then be applied to controls in order to ensure that the value presented on the screen is formatted correctly, and, if the field is open for input, that the value entered by the user adheres to the requirements of that data type. We will now add a new field called Sales to Date of type Currency."><meta name="description" content="OpenUI5 provides a set of simple data types such as Boolean, Currency, Date and Float. These data types can then be applied to controls in order to ensure that the value presented on the screen is formatted correctly, and, if the field is open for input, that the value entered by the user adheres to the requirements of that data type. We will now add a new field called Sales to Date of type Currency."><meta name="content category" content="development"><script type="text/javascript">var d4p = {"relativePath":'',"dev":false,"debug":false,"draft":false,"nextTopicHref":"b8c4e534cdb440e9a5bbff86f9572bd6.html","previousTopicHref":"6fdf0acd0bc24ffdad327cf7e6f9e7e0.html"}</script><link rel="stylesheet" type="text/css" media="screen, projection" href="themes/sap-default/css/style.css"><script type="text/javascript">
      
        d4p.cssGridPath = d4p.dev ? 'html5-themes/modules/960-Responsive-Grid/css/' : 'themes/dita-d4p-classic/css/';
        var ADAPT_CONFIG = {
          // Where is your CSS?
          path: d4p.relativePath + d4p.cssGridPath,

          // false = Only run once, when page first loads.
          // true = Change on window resize and page tilt.
          dynamic: true,

          // Optional callback... myCallback(i, width)
          callback: doc_resize,

          // First range entry is the minimum.
          // Last range entry is the maximum.
          // Separate ranges by "to" keyword.
          range: [
             // small (size-0)
            '0px    to 760px  =',
             // medium (size-1, size-2)
            '760px  to 980px  = ',
            '980px  to 1270px = ',
             // large (size-3, size-5)
            '1270px to 1600px = ',
            '1600px to 1940px = ',
             // extra large (size-6)
            '1940px to 2540px = ',
            '2540px           = '
          ]
        };

        function doc_resize(i, width)
        {
          d4p.setBodyClassfunction(i, width);
        }


        
      </script><script type="text/javascript" src="toc-info.js"></script><script type="text/javascript" src="themes/sap-default/js/script.js"></script>
		<!--[if lt IE 9]>
			<script>
			  var e = ("abbr,article,aside,audio,canvas,datalist,details," +
			    "figure,footer,header,hgroup,mark,menu,meter,nav,output," +
			    "progress,section,time,video").split(',');
			  for (var i = 0; i < e.length; i++) {
			    document.createElement(e[i]);
			  }
			</script>
		<![endif]-->
        
    <script>
      function addLoadEvent(func) {
        var oldonload = window.onload;
        if (typeof window.onload != 'function') {
          window.onload = func;
        } else {
          window.onload = function() {
            if (oldonload) {
              oldonload();
        }
        func();
       }
     }
     }
      
    addLoadEvent(function() { prettyPrint();
if ($('#local-navigation').length) {
        $('#local-navigation').navigation();
    }


});
      
    </script>
     <script type="text/javascript" src="js/prettify.js"> </script><script id="search-processing" type="text/javascript" src="js/search-processing.js"> </script><script>function handleAreaClick(oArea) {window.parent.location.href = oArea.href;}</script><link type="text/css" rel="stylesheet" href="css/overrides.css"></head><body class="en-us sap-default centered navigation-default toc-injection enumeration-disabled" style="font-family: &apos;72&apos;, Arial, Helvetica, sans-serif;"><div id="d4h5-main-container" class="container_12" role="application"><ul id="page-links" class="hidden"><li><a id="skip-to-content" href="#d4h5-main-content">Skip to content</a></li><li><a id="skip-to-localnav" href="#local-navigation">Skip to navigation</a></li><li><a id="skip-to-footer" href="#footer-container">Skip to footer</a></li></ul><div id="d4h5-section-container" class="grid_12" style="padding-top: 0;"><div id="d4h5-main-content" class="grid_8 alpha omega" style="margin: 0 0.5em;"><section><div id="content-toolbar" class="toolbar hide-for-small"><div class="familylinks"><div class="parentlink"><br><strong>Parent topic: </strong><a class="link" href="../../#/topic/e5310932a71f42daa41f3a6143efca9c.html" title="In this tutorial, we will explain the concepts of data binding in OpenUI5." target="_top">Data Binding</a><br></div><div class="previouslink"><br><strong>Previous: </strong><a class="link" href="../../#/topic/6fdf0acd0bc24ffdad327cf7e6f9e7e0.html" title="We also want to provide our users a way of contacting Harry Hawk. Therefore we will add a link that sends an e-mail to Harry. To achieve that we will convert our data in the model to match the sap.m.URLHelper.normalizeEmail API. As soon as the user changes the name, the e-mail will also change. We will need a custom formatter function for this." target="_top">Step 9: Formatting Values</a><br></div><div class="nextlink"><br><strong>Next: </strong><a class="link" href="../../#/topic/b8c4e534cdb440e9a5bbff86f9572bd6.html" title="So far, we have created a currency field that can format itself correctly. The currency data type also has the ability to validate that user input adheres to to the requirements of a currency; however, data type validation functions are managed by OpenUI5, which of itself has no mechanism for reporting error messages back to the UI; therefore, we need a mechanism for reporting error messages raised by validation functions back to the user. In this step, we will connect the entire view to a feature known as the &quot;Message Manager&quot;. Once this connection is established, any validation error messages generated based on the user input will be passed to the message manager which in turn will connect them to the appropriate view and control that caused the error." target="_top">Step 11: Validation Using the Message Manager</a><br></div></div></div><div class="page concept  - topic-topic concept-concept " id="loio9252ee4015f24fc49c71c295394d1b8d"><h1 class="title topictitle1" hidden>Step 10: Property Formatting Using Data Types</h1><div class="body conbody"><p class="shortdesc" hidden><span class="ph"><span class="ph pname">OpenUI5</span></span> provides a set of simple data types such as <samp class="ph codeph">Boolean</samp>,
<samp class="ph codeph">Currency</samp>, <samp class="ph codeph">Date</samp> and <samp class="ph codeph">Float</samp>. These data types can then be applied to controls in order to ensure
that the value presented on the screen is formatted correctly, and, if the field is open for input, that the value entered by the user adheres to the
requirements of that data type. We will now add a new field called <span class="ph uicontrol">Sales to Date</span> of type <samp class="ph codeph">Currency</samp>. </p>
<div class="section"><section class="section" type="Preview"><h2 class="section_title" style="font-size: 1.15em;">Preview</h2>

<div class="fig fignone" id="loio9252ee4015f24fc49c71c295394d1b8d__fig_r1j_pst_mr"><div class="figbody">

<img class="inline" id="loio9252ee4015f24fc49c71c295394d1b8d__image_iv2_gpz_1t" src="loiod15f8bc61efe47d9af2afdeea943cd9c_HiRes.png">
</div><span class="figcap">New <span class="ph uicontrol">Sales to Date</span> input field </span></div>
</section></div>
<div class="section"><section class="section" type="Coding"><h2 class="section_title" style="font-size: 1.15em;">Coding</h2>

<p class="p">You can view and download all files in the Demo Kit
<span class="ph">at <a class="xref" href="../../#/sample/sap.ui.core.tutorial.databinding.10/preview" target="_top" alt="#/sample/sap.ui.core.tutorial.databinding.10/preview" title="#/sample/sap.ui.core.tutorial.databinding.10/preview">Data Binding - Step 10</a></span>.</p>
</section></div>
<div class="section"><section class="section" type="webapp/index.js"><h2 class="section_title" style="font-size: 1.15em;">webapp/index.js</h2>

<pre class="pre codeblock prettyprint lang-js">sap.ui.require([
	&quot;sap/ui/model/json/JSONModel&quot;,
	&quot;sap/ui/core/mvc/XMLView&quot;,
	&quot;sap/ui/model/resource/ResourceModel&quot;
], function (JSONModel, XMLView, ResourceModel) {
	&quot;use strict&quot;;

	// Attach an anonymous function to the SAPUI5 &apos;init&apos; event
	sap.ui.getCore().attachInit(function () {
		var oModel = new JSONModel({
			firstName: &quot;Harry&quot;,
			lastName: &quot;Hawk&quot;,
			enabled: true,
			address: {
				street: &quot;Dietmar-Hopp-Allee 16&quot;,
				city: &quot;Walldorf&quot;,
				zip: &quot;69190&quot;,
				country: &quot;Germany&quot;
			}<span class="ph emphasis emphasis">,
			&quot;salesToDate&quot; : 12345.6789,
			&quot;currencyCode&quot; : &quot;EUR&quot;
</span>
		});

		// Assign the model object to the SAPUI5 core
		sap.ui.getCore().setModel(oModel);

		var oResourceBundle = new ResourceModel({
			bundleName: &quot;sap.ui.demo.db.i18n.i18n&quot;
		});

		sap.ui.getCore().setModel(oResourceBundle, &quot;i18n&quot;);

		// Display the XML view called &quot;App&quot;
		new XMLView({
			viewName: &quot;sap.ui.demo.db.view.App&quot;
		}).placeAt(&quot;content&quot;);
	});
});
</pre>
<p class="p">We create two new model properties <samp class="ph codeph">salesToDate</samp> and
<samp class="ph codeph">currencyCode</samp>. </p>
</section></div>
<div class="section"><section class="section" type="webapp/view/App.view.xml"><h2 class="section_title" style="font-size: 1.15em;">webapp/view/App.view.xml</h2>

<pre class="pre codeblock prettyprint lang-xml">...
	&lt;Panel headerText=&quot;{i18n&gt;panel1HeaderText}&quot; class=&quot;sapUiResponsiveMargin&quot; width=&quot;auto&quot;&gt;
		&lt;content&gt;
			&lt;Label text=&quot;{i18n&gt;firstName}&quot; class=&quot;sapUiSmallMargin&quot;/&gt;
			&lt;Input value=&quot;{/firstName}&quot; valueLiveUpdate=&quot;true&quot; width=&quot;200px&quot; enabled=&quot;{/enabled}&quot;/&gt;
			&lt;Label text=&quot;{i18n&gt;lastName}&quot; class=&quot;sapUiSmallMargin&quot;/&gt;
			&lt;Input value=&quot;{/lastName}&quot; valueLiveUpdate=&quot;true&quot; width=&quot;200px&quot; enabled=&quot;{/enabled}&quot;/&gt;
			&lt;CheckBox selected=&quot;{/enabled}&quot; text=&quot;Enabled&quot;/&gt;
		&lt;/content&gt;
	&lt;/Panel&gt;
	&lt;Panel headerText=&quot;{i18n&gt;panel2HeaderText}&quot; class=&quot;sapUiResponsiveMargin&quot; width=&quot;auto&quot;&gt;
		&lt;content&gt;
			&lt;l:HorizontalLayout&gt;
				&lt;l:VerticalLayout&gt;
					&lt;Label class=&quot;sapUiSmallMargin&quot; text=&quot;{i18n&gt;address}:&quot;/&gt;
					&lt;FormattedText class=&quot;sapUiSmallMarginBegin sapUiSmallMarginBottom&quot; htmlText=&quot;{/address/street}&amp;lt;br&amp;gt;{/address/zip} {/address/city}&amp;lt;br&amp;gt;{/address/country}&quot; width=&quot;200px&quot;/&gt;
					&lt;Link class=&quot;sapUiSmallMarginBegin&quot;
						href=&quot;{
							parts: [
								&apos;/firstName&apos;,
								&apos;/lastName&apos;
							],
							formatter: &apos;.formatMail&apos;
						}&quot;
						text=&quot;{i18n&gt;sendEmail}&quot;/&gt;
<span class="ph emphasis emphasis">				&lt;/l:VerticalLayout&gt;
				&lt;l:VerticalLayout&gt;
					&lt;Label text=&quot;{i18n&gt;salesToDate}:&quot; class=&quot;sapUiSmallMargin&quot;/&gt;
					&lt;Input width=&quot;200px&quot; enabled=&quot;{/enabled}&quot; description=&quot;{/currencyCode}&quot;
						value=&quot;{
							parts: [
								{path: &apos;/salesToDate&apos;},
								{path: &apos;/currencyCode&apos;}
							],
							type: &apos;sap.ui.model.type.Currency&apos;,
							formatOptions: {showMeasure: false}
						}&quot;/&gt;
				&lt;/l:VerticalLayout&gt;</span>
			&lt;/l:HorizontalLayout&gt;
		&lt;/content&gt;
	&lt;/Panel&gt;
&lt;/mvc:View&gt;</pre>
<p class="p">A new pair of <samp class="ph codeph">Label</samp> and <samp class="ph codeph">Input</samp> elements have been created for
the <samp class="ph codeph">salesToDate</samp> model property. The description property of the
<samp class="ph codeph">Input</samp> element has been bound to the
<samp class="ph codeph">currencyCode</samp> model property. The value property of the
<samp class="ph codeph">Input</samp> element has been bound to the model properties
<samp class="ph codeph">salesToDate</samp> and <samp class="ph codeph">currencyCode</samp>. The
<samp class="ph codeph">{showMeasure: false}</samp> parameter switches off the display of the
currency symbol within the input field itself. This is not needed because it is
being displayed using the <samp class="ph codeph">Input</samp> element&apos;s description property.</p>
</section></div>
<div class="section"><section class="section" type="webapp/i18n/i18n.properties"><h2 class="section_title" style="font-size: 1.15em;">webapp/i18n/i18n.properties</h2>

<pre class="pre codeblock prettyprint lang-prefs"># Field labels
firstName=Vorname
lastName=Nachname
enabled=Enabled
address=Address
<span class="ph emphasis emphasis">salesToDate=Sales to Date</span>...</pre>
</section></div>
<div class="section"><section class="section" type="webapp/i18n/i18n_de.properties"><h2 class="section_title" style="font-size: 1.15em;">webapp/i18n/i18n_de.properties</h2>

<pre class="pre codeblock prettyprint lang-prefs"># Field labels
firstName=Vorname
lastName=Nachname
enabled=Aktiviert
address=Adresse
<span class="ph emphasis emphasis">salesToDate=Verk\u00e4ufe bis zum heutigen Datum</span>
...</pre>
<p class="p">Add the missing texts to the <samp class="ph codeph">properties</samp> files. Please note that special characters (non-Latin-1) have to be entered by using
Unicode escape characters.</p>
</section></div>
</div><div class="related-links"> <div class="familylinks"><div class="parentlink"><br><strong>Parent topic: </strong><a class="link" href="../../#/topic/e5310932a71f42daa41f3a6143efca9c.html" title="In this tutorial, we will explain the concepts of data binding in OpenUI5." target="_top">Data Binding</a><br></div><div class="previouslink"><br><strong>Previous: </strong><a class="link" href="../../#/topic/6fdf0acd0bc24ffdad327cf7e6f9e7e0.html" title="We also want to provide our users a way of contacting Harry Hawk. Therefore we will add a link that sends an e-mail to Harry. To achieve that we will convert our data in the model to match the sap.m.URLHelper.normalizeEmail API. As soon as the user changes the name, the e-mail will also change. We will need a custom formatter function for this." target="_top">Step 9: Formatting Values</a><br></div><div class="nextlink"><br><strong>Next: </strong><a class="link" href="../../#/topic/b8c4e534cdb440e9a5bbff86f9572bd6.html" title="So far, we have created a currency field that can format itself correctly. The currency data type also has the ability to validate that user input adheres to to the requirements of a currency; however, data type validation functions are managed by OpenUI5, which of itself has no mechanism for reporting error messages back to the UI; therefore, we need a mechanism for reporting error messages raised by validation functions back to the user. In this step, we will connect the entire view to a feature known as the &quot;Message Manager&quot;. Once this connection is established, any validation error messages generated based on the user input will be passed to the message manager which in turn will connect them to the appropriate view and control that caused the error." target="_top">Step 11: Validation Using the Message Manager</a><br></div></div><div class="relinfo"><div class="relinfotitle ">Related Information</div><div><a class="link" href="../../#/topic/07e4b920f5734fd78fdaa236f26236d8.html" title="Data that is presented on the UI often has to be converted so that is human readable and fits to the locale of the user. On the other hand, data entered by the user has to be parsed and validated to be understood by the data source. For this purpose, you use formatters and data types." target="_top">Formatting, Parsing, and Validating Data</a></div></div></div></div></section><div class="clear"></div>
</div><div class="clearfix"></div></div></div><div class="clearfix"></div><div id="footer-container" class="grid_12"><footer>
	<div id="custom-footerSpacer"></div>
	
</footer>
</div></body></html>