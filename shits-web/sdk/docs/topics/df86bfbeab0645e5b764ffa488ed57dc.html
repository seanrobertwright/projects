<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-us" dir="ltr"><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Step 8: Translatable Texts</title><link rel="icon" href="themes/sap-default/img/favicon.ico" type="image/x-icon"><link rel="shortcut icon" href="themes/sap-default/img/favicon.ico"><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="abstract" content="In this step we move the texts of our UI to a separate resource file."><meta name="description" content="In this step we move the texts of our UI to a separate resource file."><meta name="content category" content="development"><script type="text/javascript">var d4p = {"relativePath":'',"dev":false,"debug":false,"draft":false,"nextTopicHref":"4cfa60872dca462cb87148ccd0d948ee.html","previousTopicHref":"70ef981d350a495b940640801701c409.html"}</script><link rel="stylesheet" type="text/css" media="screen, projection" href="themes/sap-default/css/style.css"><script type="text/javascript">
      
        d4p.cssGridPath = d4p.dev ? 'html5-themes/modules/960-Responsive-Grid/css/' : 'themes/dita-d4p-classic/css/';
        var ADAPT_CONFIG = {
          // Where is your CSS?
          path: d4p.relativePath + d4p.cssGridPath,

          // false = Only run once, when page first loads.
          // true = Change on window resize and page tilt.
          dynamic: true,

          // Optional callback... myCallback(i, width)
          callback: doc_resize,

          // First range entry is the minimum.
          // Last range entry is the maximum.
          // Separate ranges by "to" keyword.
          range: [
             // small (size-0)
            '0px    to 760px  =',
             // medium (size-1, size-2)
            '760px  to 980px  = ',
            '980px  to 1270px = ',
             // large (size-3, size-5)
            '1270px to 1600px = ',
            '1600px to 1940px = ',
             // extra large (size-6)
            '1940px to 2540px = ',
            '2540px           = '
          ]
        };

        function doc_resize(i, width)
        {
          d4p.setBodyClassfunction(i, width);
        }


        
      </script><script type="text/javascript" src="toc-info.js"></script><script type="text/javascript" src="themes/sap-default/js/script.js"></script>
		<!--[if lt IE 9]>
			<script>
			  var e = ("abbr,article,aside,audio,canvas,datalist,details," +
			    "figure,footer,header,hgroup,mark,menu,meter,nav,output," +
			    "progress,section,time,video").split(',');
			  for (var i = 0; i < e.length; i++) {
			    document.createElement(e[i]);
			  }
			</script>
		<![endif]-->
        
    <script>
      function addLoadEvent(func) {
        var oldonload = window.onload;
        if (typeof window.onload != 'function') {
          window.onload = func;
        } else {
          window.onload = function() {
            if (oldonload) {
              oldonload();
        }
        func();
       }
     }
     }
      
    addLoadEvent(function() { prettyPrint();
if ($('#local-navigation').length) {
        $('#local-navigation').navigation();
    }


});
      
    </script>
     <script type="text/javascript" src="js/prettify.js"> </script><script id="search-processing" type="text/javascript" src="js/search-processing.js"> </script><script>function handleAreaClick(oArea) {window.parent.location.href = oArea.href;}</script><link type="text/css" rel="stylesheet" href="css/overrides.css"></head><body class="en-us sap-default centered navigation-default toc-injection enumeration-disabled" style="font-family: &apos;72&apos;, Arial, Helvetica, sans-serif;"><div id="d4h5-main-container" class="container_12" role="application"><ul id="page-links" class="hidden"><li><a id="skip-to-content" href="#d4h5-main-content">Skip to content</a></li><li><a id="skip-to-localnav" href="#local-navigation">Skip to navigation</a></li><li><a id="skip-to-footer" href="#footer-container">Skip to footer</a></li></ul><div id="d4h5-section-container" class="grid_12" style="padding-top: 0;"><div id="d4h5-main-content" class="grid_8 alpha omega" style="margin: 0 0.5em;"><section><div id="content-toolbar" class="toolbar hide-for-small"><div class="familylinks"><div class="parentlink"><br><strong>Parent topic: </strong><a class="link" href="../../#/topic/3da5f4be63264db99f2e5b04c5e853db.html" title="In this tutorial we will introduce you to all major development paradigms of OpenUI5." target="_top">Walkthrough</a><br></div><div class="previouslink"><br><strong>Previous: </strong><a class="link" href="../../#/topic/70ef981d350a495b940640801701c409.html" title="Now that we have set up the view and controller, it&#x2019;s about time to think about the M in MVC." target="_top">Step 7: JSON Model</a><br></div><div class="nextlink"><br><strong>Next: </strong><a class="link" href="../../#/topic/4cfa60872dca462cb87148ccd0d948ee.html" title="After we have introduced all three parts of the Model-View-Controller (MVC) concept, we now come to another important structural aspect of OpenUI5." target="_top">Step 9: Component Configuration</a><br></div></div></div><div class="page concept  - topic-topic concept-concept " id="loiodf86bfbeab0645e5b764ffa488ed57dc"><h1 class="title topictitle1" hidden>Step 8: Translatable Texts</h1><div class="body conbody"><p class="shortdesc" hidden>In this step we move the texts of our UI to a separate resource file.</p><p class="p">This way, they are all in a central place and can be easily translated into other languages. This process of internationalization &#x2013; in short <samp class="ph codeph">i18n</samp> &#x2013; is achieved in <span class="ph"><span class="ph pname">OpenUI5</span></span> by using a special resource model and the standard data binding syntax, but without preceding <samp class="ph codeph">/</samp>.</p>
<div class="section"><section class="section" type="Preview"><h2 class="section_title" style="font-size: 1.15em;">Preview</h2>

<div class="fig fignone" id="loiodf86bfbeab0645e5b764ffa488ed57dc__fig_r1j_pst_mr"><div class="figbody">

<img class="inline" id="loiodf86bfbeab0645e5b764ffa488ed57dc__image_ppl_3lp_xr" src="loioe5a9bb4cb06b4d9c8b37914bf5cd2d13_HiRes.png">
</div><span class="figcap">An input field and a description displaying the value of the input field (No visual
changes to last step)</span></div>
</section></div>
<div class="section"><div class="section_title">Coding</div>
<p class="p">You can view and download all files <span class="ph">at <a class="xref" href="../../#/sample/sap.m.tutorial.walkthrough.08/preview" target="_top" alt="#/sample/sap.m.tutorial.walkthrough.08/preview" title="#/sample/sap.m.tutorial.walkthrough.08/preview">Walkthrough - Step 8</a></span>.</p>
<div class="section_title">webapp/i18n/i18n.properties (New)</div>
<pre class="pre codeblock prettyprint lang-prefs"><span class="ph emphasis emphasis">showHelloButtonText=Say Hello
helloMsg=Hello {0}</span></pre>
<p class="p">We create the folder <samp class="ph codeph">webapp/i18n</samp> and the file
<samp class="ph codeph">i18n.properties</samp> inside. The resolved bundle name is
<samp class="ph codeph">sap.ui.demo.walkthrough.i18n</samp>, as we will see later. The
<samp class="ph codeph">properties</samp> file for texts contains name-value pairs for each
element. You can add any number of parameters to the texts by adding numbers in
curly brackets to them. These numbers correspond to the sequence in which the
parameters are accessed (starting with 0). </p>
<p class="p">In this tutorial we will only have one properties file. However, in real-world projects, you would have a separate file for each supported
language with a suffix for the locale, for example<samp class="ph codeph"> i18n_de.properties</samp> for German, <samp class="ph codeph">i18n_en.properties</samp>
for English, and so on. When a user runs the app, <span class="ph"><span class="ph pname">OpenUI5</span></span> will load the
language file that fits best to the user&apos;s environment.</p>
</div>
<div class="section"><section class="section" type="controller/App.controller.js"><h2 class="section_title" style="font-size: 1.15em;">controller/App.controller.js</h2>

<pre class="pre codeblock prettyprint lang-js">sap.ui.define([
   &quot;sap/ui/core/mvc/Controller&quot;,
   &quot;sap/m/MessageToast&quot;,
   &quot;sap/ui/model/json/JSONModel&quot;<span class="ph emphasis emphasis">,
   &quot;sap/ui/model/resource/ResourceModel&quot;</span>
], function (Controller, MessageToast, JSONModel<span class="ph emphasis emphasis">, ResourceModel</span>) {
   &quot;use strict&quot;;
   return Controller.extend(&quot;sap.ui.demo.walkthrough.controller.App&quot;, {
     onInit : function () {
         // set data model on view
         var oData = {
            recipient : {
               name : &quot;World&quot;
            }
         };
         var oModel = new JSONModel(oData);
         this.getView().setModel(oModel);
         <span class="ph emphasis emphasis">// set i18n model on view
         var i18nModel = new ResourceModel({
            bundleName: &quot;sap.ui.demo.walkthrough.i18n.i18n&quot;
         });
         this.getView().setModel(i18nModel, &quot;i18n&quot;);</span>
      },
      onShowHello : function () {
       <span class="ph emphasis emphasis">  // read msg from i18n model
         var oBundle = this.getView().getModel(&quot;i18n&quot;).getResourceBundle();
         var sRecipient = this.getView().getModel().getProperty(&quot;/recipient/name&quot;);
         var sMsg = oBundle.getText(&quot;helloMsg&quot;, [sRecipient]);
         // show message
         MessageToast.show(sMsg);</span>
      }
   });
});</pre>
<p class="p">In the <samp class="ph codeph">onInit</samp> function we instantiate the <samp class="ph codeph">ResourceModel</samp> that points to the new message bundle file where our
texts are now located (<samp class="ph codeph">i18n.properties file</samp>). The bundle name <samp class="ph codeph">sap.ui.demo.walkthrough.i18n.i18n</samp> consists of
the application namespace <samp class="ph codeph">sap.ui.demo.walkthrough</samp> (the application root as defined in the <samp class="ph codeph">index.html</samp>), the
folder name <samp class="ph codeph">i18n</samp> and finally the file name <samp class="ph codeph">i18n</samp> without extension. The <span class="ph"><span class="ph pname">OpenUI5</span></span> runtime calculates the correct path to the resource; in this case
the path to our <samp class="ph codeph">i18n.properties</samp> file. Next, the model instance is set on the view as a named model with the key
<samp class="ph codeph">i18n</samp>. You use named models when you need to have several models available in parallel.</p>
<p class="p">In the <samp class="ph codeph">onShowHello</samp> event handler function we access the <samp class="ph codeph">i18n</samp>
model to get the text from the message bundle file and replace the placeholder
<samp class="ph codeph">{0}</samp> with the recipient from our data model. The
<samp class="ph codeph">getProperty</samp> method can be called in any model and takes the
data path as an argument. In addition, the resource bundle has a specific
<samp class="ph codeph">getText</samp> method that takes an array of strings as second
argument. </p>
<p class="p">The resource bundle can be accessed with the <samp class="ph codeph">getResourceBundle</samp> method of a
<samp class="ph codeph">ResourceModel</samp>. Rather than concatenating translatable texts
manually, we can use the second parameter of <samp class="ph codeph">getText</samp> to replace
parts of the text with non-static data. During runtime, <span class="ph"><span class="ph pname">OpenUI5</span></span> tries to load
the correct<samp class="ph codeph"> i18n_*.properties</samp> file based on your browser settings
and your locale. In our case we have only created one
<samp class="ph codeph">i18n.properties</samp> file to make it simple. However, you can see in
the network traffic of your browser&#x2019;s developer tools that <span class="ph"><span class="ph pname">OpenUI5</span></span> tries to load
one or more <samp class="ph codeph">i18n_*.properties</samp> files before falling back to the
default <samp class="ph codeph">i18n.properties</samp> file.</p>
</section></div>
<div class="section"><section class="section" type="webapp/view/App.view.xml"><h2 class="section_title" style="font-size: 1.15em;">webapp/view/App.view.xml</h2>

<pre class="pre codeblock prettyprint lang-xml">&lt;mvc:View
   controllerName=&quot;sap.ui.demo.walkthrough.controller.App&quot;
   xmlns=&quot;sap.m&quot;
   xmlns:mvc=&quot;sap.ui.core.mvc&quot;&gt;
   &lt;Button
      text<span class="ph emphasis emphasis">=&quot;{i18n&gt;showHelloButtonText}&quot;</span>
      press=&quot;.onShowHello&quot;/&gt;
   &lt;Input
      value=&quot;{/recipient/name}&quot;
      description=&quot;Hello {/recipient/name}&quot;
      valueLiveUpdate=&quot;true&quot;
      width=&quot;60%&quot;/&gt;
&lt;/mvc:View&gt;
</pre>
<p class="p"> In the XML view, we use data binding to connect the button text to the
<samp class="ph codeph">showHelloButtonText</samp> property in the <samp class="ph codeph">i18n</samp>
model. A resource bundle is a flat structure, therefore the preceding slash (/) can
be omitted for the path.</p>
<aside class="note" aria-labelledby="note_0_title"><div class="title" id="note_0_title"><strong>Note</strong></div>
<p class="p">The description text is not completely localized in this example for illustration purposes.
To be on the safe side, we would have to use a similar mechanism as in the
controller to use a string from the resource bundle and replace parts of it.
This can be done with the <samp class="ph codeph">jQuery.sap.formatMessage</samp>
formatter.</p><p class="p">Furthermore, <samp class="ph codeph">i18n</samp> files only impact client-side application texts. Texts
that are loaded from back-end systems can appear in all languages that are
supported by the back-end system.</p></aside>
</section></div>
<div class="section"><section class="section" type="Conventions"><h2 class="section_title" style="font-size: 1.15em;"> Conventions</h2>

<ul class="ul" id="loiodf86bfbeab0645e5b764ffa488ed57dc__ul_nh5_ybb_nr">
<li class="li">
<p class="p">The resource model for internationalization is called the
<samp class="ph codeph">i18n</samp> model.</p>
</li>
<li class="li">
<p class="p">The default filename is <samp class="ph codeph">i18n.properties</samp>.</p>
</li>
<li class="li">
<p class="p">Resource bundle keys are written in (lower) camelCase.</p>
</li>
<li class="li">
<p class="p">Resource bundle values can contain parameters like <samp class="ph codeph">{0}</samp>,
<samp class="ph codeph">{1}</samp>, <samp class="ph codeph">{2}</samp>, &#x2026;</p>
</li>
<li class="li">
<p class="p">Never concatenate strings that are translated, always use placeholders.</p>
</li>
<li class="li">
<p class="p">Use Unicode escape sequences for special characters.</p>
</li>
</ul>
</section></div>
</div><div class="related-links"> <div class="familylinks"><div class="parentlink"><br><strong>Parent topic: </strong><a class="link" href="../../#/topic/3da5f4be63264db99f2e5b04c5e853db.html" title="In this tutorial we will introduce you to all major development paradigms of OpenUI5." target="_top">Walkthrough</a><br></div><div class="previouslink"><br><strong>Previous: </strong><a class="link" href="../../#/topic/70ef981d350a495b940640801701c409.html" title="Now that we have set up the view and controller, it&#x2019;s about time to think about the M in MVC." target="_top">Step 7: JSON Model</a><br></div><div class="nextlink"><br><strong>Next: </strong><a class="link" href="../../#/topic/4cfa60872dca462cb87148ccd0d948ee.html" title="After we have introduced all three parts of the Model-View-Controller (MVC) concept, we now come to another important structural aspect of OpenUI5." target="_top">Step 9: Component Configuration</a><br></div></div><div class="relinfo"><div class="relinfotitle ">Related Information</div><div><a class="link" href="../../#/topic/91f122a36f4d1014b6dd926db0e91070.html#loio91f122a36f4d1014b6dd926db0e91070" title="The resource model is used as a wrapper for resource bundles. In data binding you use the resource model instance, for example, to bind texts of a control to language-dependent resource bundle properties." target="_top">Resource Model</a></div><div><a class="link" href="../../#/api/jQuery.sap.util.ResourceBundle" target="_top" alt="#/api/jQuery.sap.util.ResourceBundle" title="#/api/jQuery.sap.util.ResourceBundle">API Reference: <samp class="ph codeph">jQuery.sap.util.ResourceBundle</samp></a></div><div><a class="link" href="../../#/api/sap.ui.model.resource.ResourceModel" target="_top" alt="#/api/sap.ui.model.resource.ResourceModel" title="#/api/sap.ui.model.resource.ResourceModel">API Reference: <samp class="ph codeph">sap.ui.model.resource.ResourceModel</samp></a></div><div><a class="link" href="../../#/entity/sap.ui.model.resource.ResourceModel" target="_top" alt="#/entity/sap.ui.model.resource.ResourceModel" title="#/entity/sap.ui.model.resource.ResourceModel">Samples: <samp class="ph codeph">sap.ui.model.resource.ResourceModel</samp>
</a></div></div></div></div></section><div class="clear"></div>
</div><div class="clearfix"></div></div></div><div class="clearfix"></div><div id="footer-container" class="grid_12"><footer>
	<div id="custom-footerSpacer"></div>
	
</footer>
</div></body></html>