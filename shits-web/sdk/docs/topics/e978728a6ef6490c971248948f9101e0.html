<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-us" dir="ltr"><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Currency Formatting</title><link rel="icon" href="themes/sap-default/img/favicon.ico" type="image/x-icon"><link rel="shortcut icon" href="themes/sap-default/img/favicon.ico"><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="abstract" content><meta name="description" content><meta name="content category" content="development"><script type="text/javascript">var d4p = {"relativePath":'',"dev":false,"debug":false,"draft":false,"nextTopicHref":"e1b625940c104b558e52f47afe5ddb4f.html","previousTopicHref":"8e618a8d93cb4f92adc911b96047eb8d.html"}</script><link rel="stylesheet" type="text/css" media="screen, projection" href="themes/sap-default/css/style.css"><script type="text/javascript">
      
        d4p.cssGridPath = d4p.dev ? 'html5-themes/modules/960-Responsive-Grid/css/' : 'themes/dita-d4p-classic/css/';
        var ADAPT_CONFIG = {
          // Where is your CSS?
          path: d4p.relativePath + d4p.cssGridPath,

          // false = Only run once, when page first loads.
          // true = Change on window resize and page tilt.
          dynamic: true,

          // Optional callback... myCallback(i, width)
          callback: doc_resize,

          // First range entry is the minimum.
          // Last range entry is the maximum.
          // Separate ranges by "to" keyword.
          range: [
             // small (size-0)
            '0px    to 760px  =',
             // medium (size-1, size-2)
            '760px  to 980px  = ',
            '980px  to 1270px = ',
             // large (size-3, size-5)
            '1270px to 1600px = ',
            '1600px to 1940px = ',
             // extra large (size-6)
            '1940px to 2540px = ',
            '2540px           = '
          ]
        };

        function doc_resize(i, width)
        {
          d4p.setBodyClassfunction(i, width);
        }


        
      </script><script type="text/javascript" src="toc-info.js"></script><script type="text/javascript" src="themes/sap-default/js/script.js"></script>
		<!--[if lt IE 9]>
			<script>
			  var e = ("abbr,article,aside,audio,canvas,datalist,details," +
			    "figure,footer,header,hgroup,mark,menu,meter,nav,output," +
			    "progress,section,time,video").split(',');
			  for (var i = 0; i < e.length; i++) {
			    document.createElement(e[i]);
			  }
			</script>
		<![endif]-->
        
    <script>
      function addLoadEvent(func) {
        var oldonload = window.onload;
        if (typeof window.onload != 'function') {
          window.onload = func;
        } else {
          window.onload = function() {
            if (oldonload) {
              oldonload();
        }
        func();
       }
     }
     }
      
    addLoadEvent(function() { prettyPrint();
if ($('#local-navigation').length) {
        $('#local-navigation').navigation();
    }


});
      
    </script>
     <script type="text/javascript" src="js/prettify.js"> </script><script id="search-processing" type="text/javascript" src="js/search-processing.js"> </script><script>function handleAreaClick(oArea) {window.parent.location.href = oArea.href;}</script><link type="text/css" rel="stylesheet" href="css/overrides.css"></head><body class="en-us sap-default centered navigation-default toc-injection enumeration-disabled" style="font-family: &apos;72&apos;, Arial, Helvetica, sans-serif;"><div id="d4h5-main-container" class="container_12" role="application"><ul id="page-links" class="hidden"><li><a id="skip-to-content" href="#d4h5-main-content">Skip to content</a></li><li><a id="skip-to-localnav" href="#local-navigation">Skip to navigation</a></li><li><a id="skip-to-footer" href="#footer-container">Skip to footer</a></li></ul><div id="d4h5-section-container" class="grid_12" style="padding-top: 0;"><div id="d4h5-main-content" class="grid_8 alpha omega" style="margin: 0 0.5em;"><section><div id="content-toolbar" class="toolbar hide-for-small"></div><div class="page concept  - topic-topic concept-concept " id="loioe978728a6ef6490c971248948f9101e0"><h1 class="title topictitle1" hidden>Currency Formatting</h1><div class="body conbody"><p class="shortdesc" hidden></p>
<p class="p">Data formatting is one of the key features in <span class="ph"><span class="ph pname">OpenUI5</span></span> and enables
applications to display data according to the user locale. For this, <span class="ph"><span class="ph pname">OpenUI5</span></span> uses the Common
Locale Data Repository (CLDR), a third-party library that provides locale-specific
patterns. <span class="ph"><span class="ph pname">OpenUI5</span></span> uses these
patterns to adapt to the conventions of different languages.</p>
<p class="p">One use case for data formatting is the ability to format and parse numbers including currency
information. For this specific use case, the CLDR provides patterns with preconfigured
currency information such as the number of decimals for a set of different currencies.
It is also possible to define custom currencies by adding new custom currencies or
reconfiguring existing currencies.</p>
<div class="section" id="loioe978728a6ef6490c971248948f9101e0__section_uzt_q33_vgb"><section class="section" type="Available Functions for Currency Formatting"><h2 class="section_title" style="font-size: 1.15em;">Available Functions for Currency Formatting</h2><p class="p">Use the
<samp class="ph codeph">NumberFormat.getCurrencyInstance()</samp> factory function for creating a currency format instance. On this instance,
you can call the <samp class="ph codeph">format</samp> and <samp class="ph codeph">parse</samp> functions.</p><div class="sectiondiv subsection">
<p class="p subsectiontitle">Creating a Currency Format Instance</p>
<p class="p">The <samp class="ph codeph">sap.ui.core.format.NumberFormat.getCurrencyInstance()</samp> function accepts two arguments: </p>
<ul class="ul" id="loioe978728a6ef6490c971248948f9101e0__ul_q2b_pk3_vgb">
<li class="li">
<p class="p">The first argument, <samp class="ph codeph">oFormatOptions</samp>, is a set of format options that determines the output formatting. The
format option <samp class="ph codeph">&apos;decimals&apos;</samp>, for example, defines the number of decimal digits of the formatted value.</p>
<p class="p">For a full list of format options, see <span class="ph"><a class="xref" href="../../#/api/sap.ui.core.format.NumberFormat" target="_top" alt="#/api/sap.ui.core.format.NumberFormat" title="#/api/sap.ui.core.format.NumberFormat"><samp class="ph codeph">NumberFormat</samp></a>.</span></p>
</li>
<li class="li">
<p class="p">The second argument, <samp class="ph codeph">oLocale</samp>, defines the locale.</p>
</li>
</ul>
<p class="p">The following example shows how you create a simple currency formatter instance:</p>
<pre class="pre codeblock prettyprint lang-js">// create a simple currency formatting instance, without any additional options
sap.ui.require([&quot;sap/ui/core/format/NumberFormat&quot;], function(NumberFormat) {
   var oCurrencyFormat = NumberFormat.getCurrencyInstance();
});</pre>
<aside class="note" aria-labelledby="note_0_title"><div class="title" id="note_0_title"><strong>Note</strong></div>
<p>All code examples are based on locale English. If no locale is defined explicitly on the currency formatter instance, the locale
setting of the configuration is used.</p></aside>
<p class="p">For more information, see <span class="ph"><a class="xref" href="../../#/api/sap.ui.core.format.NumberFormat/methods/sap.ui.core.format.NumberFormat.getCurrencyInstance" target="_top" alt="#/api/sap.ui.core.format.NumberFormat/methods/sap.ui.core.format.NumberFormat.getCurrencyInstance" title="#/api/sap.ui.core.format.NumberFormat/methods/sap.ui.core.format.NumberFormat.getCurrencyInstance">getCurrencyInstance</a>.</span></p>
</div><div class="sectiondiv subsection">
<p class="p subsectiontitle"><samp class="ph codeph">format</samp> Function</p>
<p class="p">The currency formatter instance allows you to combine a number value with a localized currency string.</p>
<pre class="pre codeblock prettyprint lang-js">// &quot;NumberFormat&quot; required from module &quot;sap/ui/core/format/NumberFormat&quot;
var oCurrencyFormat = NumberFormat.getCurrencyInstance();

oCurrencyFormat.format(12345.678, &quot;EUR&quot;); // output: EUR 12,345.68</pre>
<p class="p">For more information, see <span class="ph"><a class="xref" href="../../#/api/sap.ui.core.format.NumberFormat/methods/format" target="_top" alt="#/api/sap.ui.core.format.NumberFormat/methods/format" title="#/api/sap.ui.core.format.NumberFormat/methods/format">format</a></span></p>
</div><div class="sectiondiv subsection">
<p class="p subsectiontitle"><samp class="ph codeph">parse</samp> Function</p>
<p class="p">The <samp class="ph codeph">&apos;parse&apos;</samp> function turns a string containing a number and a currency code (EUR, USD) or symbol (&#x20AC;, $) back into
its raw parts: the number value and the currency code. The results are returned in an array.</p>
<pre class="pre codeblock prettyprint lang-js">// &quot;NumberFormat&quot; required from module &quot;sap/ui/core/format/NumberFormat&quot;
var oCurrencyFormat = NumberFormat.getCurrencyInstance();

oCurrencyFormat.parse(&quot;EUR 12,345.678&quot;); // output: [12345.678, &quot;EUR&quot;]
</pre>
<p class="p">For more information, see <span class="ph"><a class="xref" href="../../#/api/sap.ui.core.format.NumberFormat/methods/parse" target="_top" alt="#/api/sap.ui.core.format.NumberFormat/methods/parse" title="#/api/sap.ui.core.format.NumberFormat/methods/parse">parse</a></span></p>
</div><div class="sectiondiv subsection">
<p class="p subsectiontitle">Formatting Options for Currency Formatting</p>
<p class="p">The following formatting options for currency formatting are available:</p>
<ul class="ul" id="loioe978728a6ef6490c971248948f9101e0__ul_n5x_k1h_vgb">
<li class="li">
<p class="p"><samp class="ph codeph">currencyCode</samp> defines whether the code or the symbol is used when <samp class="ph codeph">showMeasure</samp> is set to
true.</p>
</li>
<li class="li">
<p class="p"><samp class="ph codeph">trailingCurrencyCode</samp> defines whether the currency codes are always shown after the amount, independent of
the locale.</p>
</li>
<li class="li">
<p class="p"><samp class="ph codeph">currencyContext</samp> defines the pattern that is used for formatting a currency number. It can be set to
standard (default) or accounting.</p>
</li>
</ul>
<p class="p">Let&apos;s try out these format options and create a currency formatter that is able to format currency values with symbols:</p>
<pre class="pre codeblock prettyprint lang-js">// &quot;NumberFormat&quot; required from module &quot;sap/ui/core/format/NumberFormat&quot;
var oCurrencyFormat = NumberFormat.getCurrencyInstance({
    currencyCode: false
});

oCurrencyFormat.format(1234.567, &quot;USD&quot;); // returns $1,234.57
oCurrencyFormat.format(1234.567, &quot;JPY&quot;); // returns &#xA5;1,235

oCurrencyFormat.parse(&quot;$1,234.57&quot;); // returns [1234.57, &quot;USD&quot;]
oCurrencyFormat.parse(&quot;&#xA5;1,235&quot;); // returns [1235, &quot;JPY&quot;]</pre>
</div></section></div>
<div class="section" id="loioe978728a6ef6490c971248948f9101e0__section_u15_k33_vgb"><section class="section" type="Custom Currencies"><h2 class="section_title" style="font-size: 1.15em;">Custom Currencies</h2><p class="p">As mentioned above, the
Common Locale Data Repository (CLDR) provides patterns with preconfigured currency
information according to the locale. It is possible, however, to add new custom
currencies, or to reconfigure existing currencies. These custom currencies can be
configured on currency format instances, or globally in the core configuration.</p><div class="sectiondiv subsection">
<p class="p subsectiontitle">Custom Currencies Configuration on Currency Format
Instances</p>
<p class="p">The currency <samp class="ph codeph">NumberFormat</samp> instance allows you to specify custom currencies which can be used for formatting and parsing. All
you have to do is to add your custom currencies as an additional format option in the
<samp class="ph codeph">sap.ui.core.format.NumberFormat.getCurrencyInstance()</samp> factory.</p>
<p class="p">The following example shows how this is done for a specific instance:</p>
<pre class="pre codeblock prettyprint lang-js">// &quot;NumberFormat&quot; required from module &quot;sap/ui/core/format/NumberFormat&quot;
var oCurrencyFormat = NumberFormat.getCurrencyInstance({
    customCurrencies: {
        &quot;Bitcoin&quot;: {
            decimals: 5
         }
     }
});

oCurrencyFormat.format(10.1234567, &quot;Bitcoin&quot;); // 10,12346 Bitcoin
oCurrencyFormat.parse(&quot;12 Bitcoin&quot;); // [12, &quot;Bitcoin&quot;];</pre>
<p class="p">If you want to define a custom currency that falls back on the currency symbol of
an already existing currency, you can configure a respective currency code (also
called ISO code):</p>
<pre class="pre codeblock prettyprint lang-js">// &quot;NumberFormat&quot; required from module &quot;sap/ui/core/format/NumberFormat&quot;
var oCurrencyFormat = NumberFormat.getCurrencyInstance({
    currencyCode: false,
    customCurrencies: {
        &quot;MyEuro&quot;: {
            decimals: 5,
            isoCode: &quot;EUR&quot;
        }
    }
});

oCurrencyFormat.format(10.1234567, &quot;MyEuro&quot;); // &#x20AC;10.12346</pre>
<p class="p">The custom currencies defined on the <samp class="ph codeph">NumberFormat</samp> instance are
exclusive to this instance, meaning that no other instances are affected. In
addition, once you define custom currencies for an instance, only those
currencies are formatted and parsed by that instance.</p>
<p class="p">This also means that custom currencies defined via the configuration are not
taken into account for this specific instance. This is done to circumvent
ambiguities and conflicts with the CLDR currencies. So, in the above example,
only Bitcoin can be formatted, but not EUR.</p>
<p class="p">In the following example, the currency instance from above is used. Formatting
and parsing the currency &apos;Bitcoin&apos; works fine, but the instance does not know
about the currency &apos;EUR&apos; because of the exclusivity of the custom
currencies:</p>
<pre class="pre codeblock prettyprint lang-js">// formatting/parsing Bitcoin is fine
oCurrencyFormat.format(9001.987654, &quot;Bitcoin&quot;);  // 9.001,98765 Bitcoin
oCurrencyFormat.parse(&quot;12 Bitcoin&quot;); // [12, &quot;Bitcoin&quot;];

// formatting/parsing EUR does not work
oCurrencyFormat.format(1.21, &quot;EUR&quot;); // &quot;&quot;: results in an empty string, as the currency is unknown</pre>
<p class="p">If you need both, CLDR predefined currencies and custom currencies, you create
two separate number format instances, or use the second approach to define
custom currencies as described in the next section.</p>
</div><div class="sectiondiv subsection">
<p class="p subsectiontitle">Global Custom Currencies Configuration in Core
Configuration</p>
<p class="p">You can also add custom currencies via the formatting settings in the core
configuration. Contrary to the custom currencies defined exclusively on a single
currency-formatter instance, these custom currencies are available in all
currency formatter instances for the current locale, except for if they also
define a set of custom currencies as described in the previous section.</p>
<p class="p">Adding a currency with a key which is already available in the CLDR will
overwrite the CLDR currency. By this, you can overdefine single currencies, in
case the CLDR provided formatting is not sufficient.</p>
<pre class="pre codeblock prettyprint lang-js">// &quot;NumberFormat&quot; required from module &quot;sap/ui/core/format/NumberFormat&quot;
sap.ui.getCore().getConfiguration().getFormatSettings().addCustomCurrencies({
	     &quot;MyCoin&quot;: {
            &quot;symbol&quot;: &quot;MC&quot;
        },
        &quot;Bitcoin&quot;: {
            &quot;digits&quot;: 3
        },
        &quot;USD&quot;: { // overwrite of an existing CLDR currency
            &quot;digits&quot;: 5
        }
});


var oCurrencyFormat = NumberFormat.getCurrencyInstance();

// formatting a custom currency
oCurrencyFormat.format(12, &quot;MyCoin&quot;); // 12,00 MyCoin


// formatting an existing CLDR currency
oCurrencyFormat.format(5, &quot;EUR&quot;); // 5,00 EUR


// formatting an existing CLDR currency
oCurrencyFormat.format(12, &quot;USD&quot;); // 12,00000 USD // Default decimal setting would have been two</pre>
</div></section></div>
</div></div></section><div class="clear"></div>
</div><div class="clearfix"></div></div></div><div class="clearfix"></div><div id="footer-container" class="grid_12"><footer>
	<div id="custom-footerSpacer"></div>
	
</footer>
</div></body></html>