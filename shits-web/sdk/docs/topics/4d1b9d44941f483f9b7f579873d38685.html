<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-us" dir="ltr"><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Currencies and Units</title><link rel="icon" href="themes/sap-default/img/favicon.ico" type="image/x-icon"><link rel="shortcut icon" href="themes/sap-default/img/favicon.ico"><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="abstract" content><meta name="description" content><meta name="content category" content="development"><script type="text/javascript">var d4p = {"relativePath":'',"dev":false,"debug":false,"draft":false,"nextTopicHref":"96804e3315ff440aa0a50fd290805116.html","previousTopicHref":"fbe1cb5613cf4a40a841750bf813238e.html"}</script><link rel="stylesheet" type="text/css" media="screen, projection" href="themes/sap-default/css/style.css"><script type="text/javascript">
      
        d4p.cssGridPath = d4p.dev ? 'html5-themes/modules/960-Responsive-Grid/css/' : 'themes/dita-d4p-classic/css/';
        var ADAPT_CONFIG = {
          // Where is your CSS?
          path: d4p.relativePath + d4p.cssGridPath,

          // false = Only run once, when page first loads.
          // true = Change on window resize and page tilt.
          dynamic: true,

          // Optional callback... myCallback(i, width)
          callback: doc_resize,

          // First range entry is the minimum.
          // Last range entry is the maximum.
          // Separate ranges by "to" keyword.
          range: [
             // small (size-0)
            '0px    to 760px  =',
             // medium (size-1, size-2)
            '760px  to 980px  = ',
            '980px  to 1270px = ',
             // large (size-3, size-5)
            '1270px to 1600px = ',
            '1600px to 1940px = ',
             // extra large (size-6)
            '1940px to 2540px = ',
            '2540px           = '
          ]
        };

        function doc_resize(i, width)
        {
          d4p.setBodyClassfunction(i, width);
        }


        
      </script><script type="text/javascript" src="toc-info.js"></script><script type="text/javascript" src="themes/sap-default/js/script.js"></script>
		<!--[if lt IE 9]>
			<script>
			  var e = ("abbr,article,aside,audio,canvas,datalist,details," +
			    "figure,footer,header,hgroup,mark,menu,meter,nav,output," +
			    "progress,section,time,video").split(',');
			  for (var i = 0; i < e.length; i++) {
			    document.createElement(e[i]);
			  }
			</script>
		<![endif]-->
        
    <script>
      function addLoadEvent(func) {
        var oldonload = window.onload;
        if (typeof window.onload != 'function') {
          window.onload = func;
        } else {
          window.onload = function() {
            if (oldonload) {
              oldonload();
        }
        func();
       }
     }
     }
      
    addLoadEvent(function() { prettyPrint();
if ($('#local-navigation').length) {
        $('#local-navigation').navigation();
    }


});
      
    </script>
     <script type="text/javascript" src="js/prettify.js"> </script><script id="search-processing" type="text/javascript" src="js/search-processing.js"> </script><script>function handleAreaClick(oArea) {window.parent.location.href = oArea.href;}</script><link type="text/css" rel="stylesheet" href="css/overrides.css"></head><body class="en-us sap-default centered navigation-default toc-injection enumeration-disabled" style="font-family: &apos;72&apos;, Arial, Helvetica, sans-serif;"><div id="d4h5-main-container" class="container_12" role="application"><ul id="page-links" class="hidden"><li><a id="skip-to-content" href="#d4h5-main-content">Skip to content</a></li><li><a id="skip-to-localnav" href="#local-navigation">Skip to navigation</a></li><li><a id="skip-to-footer" href="#footer-container">Skip to footer</a></li></ul><div id="d4h5-section-container" class="grid_12" style="padding-top: 0;"><div id="d4h5-main-content" class="grid_8 alpha omega" style="margin: 0 0.5em;"><section><div id="content-toolbar" class="toolbar hide-for-small"></div><div class="page concept  - topic-topic concept-concept " id="loio4d1b9d44941f483f9b7f579873d38685"><h1 class="title topictitle1" hidden>Currencies and Units</h1><div class="body conbody"><p class="shortdesc" hidden></p>
<aside class="note caution" aria-labelledby="note_0_title"><div class="title" id="note_0_title"><strong>Caution</strong></div>
<p>This feature is experimental. For more information, see <a class="xref" href="../../#/topic/91f087396f4d1014b6dd926db0e91070.html" title="The following sections describe what SAP can change in major, minor, and patch releases. Always consider these rules when developing apps, features, or controls with or for OpenUI5." target="_top">Compatibility Rules</a>.</p></aside>
<p class="p">For amounts or measures, you may sometimes need different currencies or units than
defined in the CLDR. The data types <samp class="ph codeph">sap.ui.model.odata.type.Currency</samp>
and <samp class="ph codeph">sap.ui.model.odata.type.Unit</samp> enable you to use code lists with
customizing for currency codes and units. For code lists with customizing, you need to
define the following annotations:</p>
<ul class="ul" id="loio4d1b9d44941f483f9b7f579873d38685__ul_rcd_scn_5gb">
<li class="li">
<p class="p">Currencies: <samp class="ph codeph">com.sap.vocabularies.CodeList.v1.CurrencyCodes</samp></p>
</li>
<li class="li">
<p class="p">Measures: <samp class="ph codeph">com.sap.vocabularies.CodeList.v1.UnitsOfMeasure</samp></p>
</li>
</ul>
<div class="p"><span class="ph emphasis emphasis">Code list annotations for currency codes and measures in
&quot;metadata.xml&quot;</span><pre class="pre codeblock prettyprint lang-xml">&lt;EntityType Name=&quot;Product&quot;&gt;
    ...
   &lt;Property Name=&quot;WeightMeasure&quot; Type=&quot;Edm.Decimal&quot; Nullable=&quot;false&quot; Precision=&quot;13&quot; Scale=&quot;variable&quot; /&gt;
   &lt;Property Name=&quot;WeightUnit&quot; Type=&quot;Edm.String&quot; Nullable=&quot;false&quot; MaxLength=&quot;3&quot; /&gt;
   &lt;Property Name=&quot;CurrencyCode&quot; Type=&quot;Edm.String&quot; Nullable=&quot;false&quot; MaxLength=&quot;5&quot; /&gt;
   &lt;Property Name=&quot;Price&quot; Type=&quot;Edm.Decimal&quot; Nullable=&quot;false&quot; Precision=&quot;15&quot; Scale=&quot;variable&quot; /&gt;
    ...
&lt;/EntityType&gt;
...
&lt;Annotations Target=&quot;SAP__self.Container&quot;&gt;
   &lt;Annotation Term=&quot;com.sap.vocabularies.CodeList.v1.CurrencyCodes&quot;&gt;
      &lt;Record&gt;
         &lt;PropertyValue Property=&quot;Url&quot; String=&quot;../../../../default/iwbep/common/0001/$metadata&quot; /&gt;
         &lt;PropertyValue Property=&quot;CollectionPath&quot; String=&quot;Currencies&quot; /&gt;
      &lt;/Record&gt;
   &lt;/Annotation&gt;
&lt;/Annotations&gt;
&lt;Annotations Target=&quot;SAP__self.Container&quot;&gt;
   &lt;Annotation Term=&quot;com.sap.vocabularies.CodeList.v1.UnitsOfMeasure&quot;&gt;
      &lt;Record&gt;
         &lt;PropertyValue Property=&quot;Url&quot; String=&quot;../../../../default/iwbep/common/0001/$metadata&quot; /&gt;
         &lt;PropertyValue Property=&quot;CollectionPath&quot; String=&quot;UnitsOfMeasure&quot; /&gt;
      &lt;/Record&gt;
   &lt;/Annotation&gt;
&lt;/Annotations&gt;
 
...
&lt;Annotations Target=&quot;SAP__self.Product/Price&quot;&gt;
    ...
   &lt;Annotation Term=&quot;Org.OData.Measures.V1.ISOCurrency&quot; Path=&quot;CurrencyCode&quot; /&gt;
    ...
&lt;/Annotations&gt;
...
&lt;Annotations Target=&quot;SAP__self.Product/WeightMeasure&quot;&gt;
    ...
   &lt;Annotation Term=&quot;Org.OData.Measures.V1.Unit&quot; Path=&quot;WeightUnit&quot; /&gt;
    ...
&lt;/Annotations&gt;</pre></div>
<p class="p">Code lists that are referenced by the
<samp class="ph codeph">com.sap.vocabularies.CodeList.v1.CurrencyCodes</samp> or
<samp class="ph codeph">com.sap.vocabularies.CodeList.v1.UnitsOfMeasure</samp> annotations need
the following:</p>
<ul class="ul" id="loio4d1b9d44941f483f9b7f579873d38685__ul_gxb_zcn_5gb">
<li class="li">
<p class="p">The internal code as its only key property</p>
</li>
<li class="li">
<p class="p">A language-dependent description</p>
</li>
<li class="li">
<p class="p">A numeric property with the unit-specific number of significant fractional
digits</p>
</li>
<li class="li">
<p class="p">Optional: An external code that should be visualized instead of the internal
code</p>
</li>
<li class="li">
<p class="p">Optional: A standard code</p>
</li>
</ul>
<p class="p">The key property is annotated with:</p>
<ul class="ul" id="loio4d1b9d44941f483f9b7f579873d38685__ul_skr_1dn_5gb">
<li class="li">
<p class="p"><samp class="ph codeph">com.sap.vocabularies.Common.v1.Text</samp> pointing to the description
property</p>
</li>
<li class="li">
<p class="p"><samp class="ph codeph">com.sap.vocabularies.Common.v1.UnitSpecificScale</samp> pointing to the
numeric property</p>
</li>
<li class="li">
<p class="p">Optional: <samp class="ph codeph">com.sap.vocabularies.CodeList.v1.StandardCode</samp> pointing
to the standard code property</p>
</li>
</ul>
<p class="p">The entity type is optionally annotated with
<samp class="ph codeph">Org.OData.Core.V1.AlternateKeys</samp> pointing to another property that
should be used for visualization.</p>
<p class="p">If the alternate key is available, the type uses the alternate key as the key of the
currency or unit. In this case, the data of the actual service have to contain the
alternate key representation in the currency or unit property. The key is used and
expected in the data if no alternate key is annotated. Note that there must be a maximum
of one alternate key, and that key and alternate key must have exactly one property.</p>
<p class="p">The property annotated as <samp class="ph codeph">com.sap.vocabularies.CodeList.v1.StandardCode</samp>
is interpreted as the ISO code by <samp class="ph codeph">sap.ui.model.odata.type.Currency</samp> and
used to find currency symbols. The currency symbols may be used for entering data.</p>
<div class="p"><span class="ph emphasis emphasis">Example for the metadata of a code list
service</span><pre class="pre codeblock prettyprint lang-xml">...
  &lt;EntityType Name=&quot;Currency&quot;&gt;
    &lt;Key&gt;
      &lt;PropertyRef Name=&quot;CurrencyCode&quot; /&gt;
    &lt;/Key&gt;
    &lt;Property Name=&quot;CurrencyCode&quot; Type=&quot;Edm.String&quot; MaxLength=&quot;5&quot; /&gt;
    &lt;Property Name=&quot;ISOCode&quot; Type=&quot;Edm.String&quot; MaxLength=&quot;3&quot; /&gt;
    &lt;Property Name=&quot;Text&quot; Type=&quot;Edm.String&quot; MaxLength=&quot;15&quot; /&gt;
    &lt;Property Name=&quot;DecimalPlaces&quot; Type=&quot;Edm.SByte&quot; /&gt;
  &lt;/EntityType&gt;
  
  &lt;EntityType Name=&quot;UnitOfMeasure&quot;&gt;
    &lt;Key&gt;
      &lt;PropertyRef Name=&quot;UnitCode&quot; /&gt;
    &lt;/Key&gt;
    &lt;Property Name=&quot;UnitCode&quot; Type=&quot;Edm.String&quot; MaxLength=&quot;3&quot; /&gt;
    &lt;Property Name=&quot;ISOCode&quot; Type=&quot;Edm.String&quot; MaxLength=&quot;3&quot; /&gt;
    &lt;Property Name=&quot;ExternalCode&quot; Type=&quot;Edm.String&quot; MaxLength=&quot;3&quot; /&gt;
    &lt;Property Name=&quot;Text&quot; Type=&quot;Edm.String&quot; MaxLength=&quot;30&quot; /&gt;
    &lt;Property Name=&quot;DecimalPlaces&quot; Type=&quot;Edm.Int16&quot; /&gt;
  &lt;/EntityType&gt;
  
  &lt;Annotations Target=&quot;SAP__self.Currency/CurrencyCode&quot;&gt;
    &lt;Annotation Term=&quot;Common.Text&quot; Path=&quot;Text&quot; /&gt;
    &lt;Annotation Term=&quot;Common.UnitSpecificScale&quot; Path=&quot;DecimalPlaces&quot; /&gt;
    &lt;Annotation Term=&quot;CodeList.StandardCode&quot; Path=&quot;ISOCode&quot; /&gt;
  &lt;/Annotations&gt;
  
  &lt;Annotations Target=&quot;SAP__self.UnitOfMeasure&quot;&gt;
    &lt;Annotation Term=&quot;Core.AlternateKeys&quot;&gt;
      &lt;Collection&gt;
        &lt;Record&gt;
          &lt;PropertyValue Property=&quot;Key&quot;&gt;
            &lt;Collection&gt;
              &lt;Record&gt;
                &lt;PropertyValue Property=&quot;Name&quot; PropertyPath=&quot;ExternalCode&quot; /&gt;
                &lt;PropertyValue Property=&quot;Alias&quot; String=&quot;ExternalCode&quot; /&gt;
              &lt;Record&gt;
            &lt;/Collection&gt;
          &lt;/PropertyValue&gt;
        &lt;Record&gt;
      &lt;/Collection&gt;
    &lt;/Annotation&gt;
  &lt;/Annotations&gt;
  
  &lt;Annotations Target=&quot;SAP__self.UnitOfMeasure/UnitCode&quot;&gt;
    &lt;Annotation Term=&quot;Common.Text&quot; Path=&quot;Text&quot; /&gt;
    &lt;Annotation Term=&quot;Common.UnitSpecificScale&quot; Path=&quot;DecimalPlaces&quot; /&gt;
    &lt;Annotation Term=&quot;CodeList.StandardCode&quot; PropertyPath=&quot;ISOCode&quot; /&gt;
    &lt;Annotation Term=&quot;CodeList.ExternalCode&quot; PropertyPath=&quot;ExternalCode&quot; /&gt;
  &lt;/Annotations&gt;
...</pre></div>
<p class="p">With the metadata above, you can use the data types
<samp class="ph codeph">sap.ui.model.odata.type.Currency</samp> and the
<samp class="ph codeph">sap.ui.model.odata.type.Unit</samp> in an input field as shown in the
following example. The data types use a complex binding with the amount or measure as
first part, the currency code or unit as second part, and the information about the code
list customizing that has to be used as third part.</p>
<div class="p"><span class="ph emphasis emphasis">Example how to use currency and unit types in a freestyle
application</span><pre class="pre codeblock prettyprint lang-js">...
&lt;Input value=&quot;{mode:&apos;TwoWay&apos;, parts:[&apos;WeightMeasure&apos;, &apos;WeightUnit&apos;, {mode:&apos;OneTime&apos;, path:&apos;/##@@requestUnitsOfMeasure&apos;, targetType:&apos;any&apos;}], type:&apos;sap.ui.model.odata.type.Unit&apos;}&quot;/&gt;
...
&lt;Input value=&quot;{mode:&apos;TwoWay&apos;, parts:[&apos;Price&apos;, &apos;CurrencyCode&apos;, {mode:&apos;OneTime&apos;, path:&apos;/##@@requestCurrencyCodes&apos;, targetType:&apos;any&apos;}], type:&apos;sap.ui.model.odata.type.Currency&apos;}&quot;/&gt;
...</pre></div>
<p class="p">The code lists are automatically requested only once per browser session and code list
URL.</p>
<p class="p">If you use XML templating, you can use
<samp class="ph codeph">sap.ui.model.odata.v4.AnnotationHelper.format</samp> to generate the composite
binding for an amount or measure property. To recognize a property as an amount or measure,
the property needs to be annotated either with the
<samp class="ph codeph">Org.OData.Measures.V1.ISOCurrency</samp>, or with the
<samp class="ph codeph">Org.OData.Measures.V1.Unit</samp> annotation. For more informatio about XML
templating, see <a class="xref" href="../../#/topic/5ee619fc1370463ea674ee04b65ed83b.html" title="The XML templating concept enables you to use an XML view as a template. This template is transformed by an XML preprocessor on the source level, the XML DOM, at runtime just before an OpenUI5 control tree is created from the XML source." target="_top">XML Templating</a>.</p>
<div class="p"><span class="ph emphasis emphasis">Additional annotations when using XML
templating</span><pre class="pre codeblock prettyprint lang-xml">&lt;!-- used in view template --&gt;
&lt;Annotations Target=&quot;SAP__self.Product&quot;&gt;
   &lt;Annotation Term=&quot;com.sap.vocabularies.UI.v1.LineItem&quot;&gt;
      &lt;Collection&gt;
         ...
         &lt;Record Type=&quot;com.sap.vocabularies.UI.v1.DataField&quot;&gt;
            &lt;PropertyValue Property=&quot;Label&quot; String=&quot;Weight&quot; /&gt;
            &lt;PropertyValue Property=&quot;Value&quot; Path=&quot;WeightMeasure&quot; /&gt;
         &lt;/Record&gt;
         &lt;Record Type=&quot;com.sap.vocabularies.UI.v1.DataField&quot;&gt;
            &lt;PropertyValue Property=&quot;Label&quot; String=&quot;Price&quot; /&gt;
            &lt;PropertyValue Property=&quot;Value&quot; Path=&quot;Price&quot; /&gt;
         &lt;/Record&gt;
         ...
      &lt;/Collection&gt;
   &lt;/Annotation&gt;
&lt;/Annotations&gt;</pre></div>
<p class="p">You can now use <samp class="ph codeph">sap.ui.model.odata.v4.AnnotationHelper.format</samp> in the XML
template view to generate the composite binding for
<samp class="ph codeph">sap.ui.model.odata.type.Currency</samp> and <samp class="ph codeph">sap.ui.model.odata.type.Unit
types</samp>.</p>
<div class="p"><span class="ph emphasis emphasis">How to use <samp class="ph codeph">AnnotationHelper.format</samp> with currencies or
units</span><pre class="pre codeblock prettyprint lang-xml">&lt;template:alias name=&quot;format&quot; value=&quot;sap.ui.model.odata.v4.AnnotationHelper.format&quot;&gt;
&lt;template:alias name=&quot;label&quot; value=&quot;sap.ui.model.odata.v4.AnnotationHelper.label&quot;&gt;
&lt;VBox&gt;
   &lt;template:with path=&quot;meta&gt;/ProductList/@com.sap.vocabularies.UI.v1.LineItem&quot; var=&quot;lineItem&quot;&gt;
      &lt;Table items=&quot;{/ProductList}&quot;&gt;
         &lt;columns&gt;
            &lt;template:repeat list=&quot;{lineItem&gt;}&quot; var=&quot;field&quot;&gt;
               &lt;Column&gt;
                  &lt;Label text=&quot;{field&gt;@@label}&quot;/&gt;
               &lt;/Column&gt;
            &lt;/template:repeat&gt;
         &lt;/columns&gt;
         &lt;ColumnListItem&gt;
            &lt;template:repeat list=&quot;{lineItem&gt;}&quot; var=&quot;field&quot;&gt;
               &lt;Input value=&quot;{field&gt;Value/@@format}&quot;/&gt;
            &lt;/template:repeat&gt;
         &lt;/ColumnListItem&gt;
      &lt;/Table&gt;
   &lt;/template:with&gt;
&lt;/VBox&gt;
&lt;/template:alias&gt;
&lt;/template:alias&gt;</pre></div>
<div class="p"><span class="ph emphasis emphasis">Example: Templating output
</span><pre class="pre codeblock prettyprint lang-xml">&lt;VBox&gt;
    &lt;Table items=&quot;{/ProductList}&quot;&gt;
      &lt;columns&gt;
          ...
          &lt;Column&gt;
            &lt;Label text=&quot;Weight&quot;/&gt;
          &lt;/Column&gt;
          &lt;Column&gt;
            &lt;Label text=&quot;Price&quot;/&gt;
          &lt;/Column&gt;
          ...
      &lt;/columns&gt;
      &lt;ColumnListItem&gt;
              ...
              &lt;Input value=&quot;{mode:&apos;TwoWay&apos;, parts:[{path:&apos;WeightMeasure&apos;, type:&apos;sap.ui.model.odata.type.Decimal&apos;, constraints:{&apos;precision&apos;:13, &apos;scale&apos;:&apos;variable&apos;, &apos;nullable&apos;:false}}, {path:&apos;WeightUnit&apos;, type:&apos;sap.ui.model.odata.type.String&apos;, constraints:{&apos;maxLength&apos;:3, &apos;nullable&apos;:false}}, {mode:&apos;OneTime&apos;, path:&apos;/##@@requestUnitsOfMeasure&apos;, targetType:&apos;any&apos;}], type:&apos;sap.ui.model.odata.type.Unit&apos;}&quot;/&gt;
              &lt;Input value=&quot;{mode:&apos;TwoWay&apos;, parts:[{path:&apos;Price&apos;, type:&apos;sap.ui.model.odata.type.Decimal&apos;, constraints:{&apos;precision&apos;:15, &apos;scale&apos;:&apos;variable&apos;, &apos;nullable&apos;:false}}, {path:&apos;CurrencyCode&apos;, type:&apos;sap.ui.model.odata.type.String&apos;, constraints:{&apos;maxLength&apos;:5, &apos;nullable&apos;:false}}, {mode:&apos;OneTime&apos;, path:&apos;/##@@requestCurrencyCodes&apos;, targetType:&apos;any&apos;}], type:&apos;sap.ui.model.odata.type.Currency&apos;}&quot;/&gt;
              ...
      &lt;/ColumnListItem&gt;
    &lt;/Table&gt;
&lt;/VBox&gt;</pre></div>
</div></div></section><div class="clear"></div>
</div><div class="clearfix"></div></div></div><div class="clearfix"></div><div id="footer-container" class="grid_12"><footer>
	<div id="custom-footerSpacer"></div>
	
</footer>
</div></body></html>