<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-us" dir="ltr"><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Create a Ruleset for a Library</title><link rel="icon" href="themes/sap-default/img/favicon.ico" type="image/x-icon"><link rel="shortcut icon" href="themes/sap-default/img/favicon.ico"><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="abstract" content="The Support Assistant allows you to create your own ruleset."><meta name="description" content="The Support Assistant allows you to create your own ruleset."><meta name="content category" content="development"><script type="text/javascript">var d4p = {"relativePath":'',"dev":false,"debug":false,"draft":false,"nextTopicHref":"c24569de859446819798c5dc53ac604d.html","previousTopicHref":"cd356daf2c444ace9edfc532f5833e11.html"}</script><link rel="stylesheet" type="text/css" media="screen, projection" href="themes/sap-default/css/style.css"><script type="text/javascript">
      
        d4p.cssGridPath = d4p.dev ? 'html5-themes/modules/960-Responsive-Grid/css/' : 'themes/dita-d4p-classic/css/';
        var ADAPT_CONFIG = {
          // Where is your CSS?
          path: d4p.relativePath + d4p.cssGridPath,

          // false = Only run once, when page first loads.
          // true = Change on window resize and page tilt.
          dynamic: true,

          // Optional callback... myCallback(i, width)
          callback: doc_resize,

          // First range entry is the minimum.
          // Last range entry is the maximum.
          // Separate ranges by "to" keyword.
          range: [
             // small (size-0)
            '0px    to 760px  =',
             // medium (size-1, size-2)
            '760px  to 980px  = ',
            '980px  to 1270px = ',
             // large (size-3, size-5)
            '1270px to 1600px = ',
            '1600px to 1940px = ',
             // extra large (size-6)
            '1940px to 2540px = ',
            '2540px           = '
          ]
        };

        function doc_resize(i, width)
        {
          d4p.setBodyClassfunction(i, width);
        }


        
      </script><script type="text/javascript" src="toc-info.js"></script><script type="text/javascript" src="themes/sap-default/js/script.js"></script>
		<!--[if lt IE 9]>
			<script>
			  var e = ("abbr,article,aside,audio,canvas,datalist,details," +
			    "figure,footer,header,hgroup,mark,menu,meter,nav,output," +
			    "progress,section,time,video").split(',');
			  for (var i = 0; i < e.length; i++) {
			    document.createElement(e[i]);
			  }
			</script>
		<![endif]-->
        
    <script>
      function addLoadEvent(func) {
        var oldonload = window.onload;
        if (typeof window.onload != 'function') {
          window.onload = func;
        } else {
          window.onload = function() {
            if (oldonload) {
              oldonload();
        }
        func();
       }
     }
     }
      
    addLoadEvent(function() { prettyPrint();
if ($('#local-navigation').length) {
        $('#local-navigation').navigation();
    }


});
      
    </script>
     <script type="text/javascript" src="js/prettify.js"> </script><script id="search-processing" type="text/javascript" src="js/search-processing.js"> </script><script>function handleAreaClick(oArea) {window.parent.location.href = oArea.href;}</script><link type="text/css" rel="stylesheet" href="css/overrides.css"></head><body class="en-us sap-default centered navigation-default toc-injection enumeration-disabled" style="font-family: &apos;72&apos;, Arial, Helvetica, sans-serif;"><div id="d4h5-main-container" class="container_12" role="application"><ul id="page-links" class="hidden"><li><a id="skip-to-content" href="#d4h5-main-content">Skip to content</a></li><li><a id="skip-to-localnav" href="#local-navigation">Skip to navigation</a></li><li><a id="skip-to-footer" href="#footer-container">Skip to footer</a></li></ul><div id="d4h5-section-container" class="grid_12" style="padding-top: 0;"><div id="d4h5-main-content" class="grid_8 alpha omega" style="margin: 0 0.5em;"><section><div id="content-toolbar" class="toolbar hide-for-small"></div><div class="page concept  - topic-topic concept-concept " id="loiob5a51358b3574aea9143fa50ae4e0e2a"><h1 class="title topictitle1" hidden>Create a Ruleset for a Library</h1><div class="body conbody"><p class="shortdesc" hidden>The Support Assistant allows you to create your own ruleset.</p>
<div class="section" id="loiob5a51358b3574aea9143fa50ae4e0e2a__section_lqs_mmh_vbb"><section class="section" type="Choose Your Ruleset Location"><h2 class="section_title" style="font-size: 1.15em;">Choose Your Ruleset Location</h2>

<p class="p">A ruleset is a <samp class="ph codeph">library.support.js</samp> file that defines an object
<samp class="ph codeph">name</samp> and <samp class="ph codeph">niceName</samp> and returns a set of rules.
Before you create a rule, you need to create a ruleset at a specific location. You
can follow these steps as an example:</p>
<ol class="ol" id="loiob5a51358b3574aea9143fa50ae4e0e2a__ol_zy4_5fc_wbb">
<li class="li">
<p class="p">Open the respective library project. Let&apos;s say that your library is part of
<span class="ph pname">OpenUI5</span>, open the project in
<span class="ph filepath">openui5([openui5.git]/src/sap.ui.support/src/sap/m)</span>.</p>
</li>
<li class="li">
<p class="p">Create a JavaScript file with name <samp class="ph codeph">library.support.js</samp> in the
root folder where <samp class="ph codeph">library.js</samp> is placed.</p>
</li>
<li class="li">
<p class="p">Add an extensions property in the <samp class="ph codeph">initLibrary()</samp> function of
the <samp class="ph codeph">library.js</samp> file and there add
<samp class="ph codeph">sap.ui.support</samp> extension. </p>
<div class="p">If your library contains public
rules it will look like
this:<pre class="pre codeblock prettyprint">&#x2026;
extensions: {
    //Configuration used for rule loading of Support Assistant
    &quot;sap.ui.support&quot;: {
      publicRules: true
    }
&#x2026;

</pre></div>
</li>
<li class="li">
<p class="p">Create a folder to hold the rules. For example, if the library name is
<samp class="ph codeph">sap.m</samp>, the folder structure, if there isn&#x2019;t one already
created, should be <span class="ph filepath">src/sap/m/rules</span>.</p>
</li>
</ol>
<p class="p">Here is an example of folder structure depending on the location of your ruleset:</p>
<div class="table-wrapper tablenoborder"><table summary id="loiob5a51358b3574aea9143fa50ae4e0e2a__table_xgs_xmd_wbb" class="table" frame="border" border="1" rules="all"><caption><span class="tablecap"><span class="tablecap">Ruleset Folder Structure</span></span></caption><colgroup><col width="50%"><col width="50%"></colgroup><thead class="thead" style="text-align:left;">
<tr class="row">
<th class="entry" style="vertical-align:top;" id="d251310e109">
<p class="p">Location</p>
</th>
<th class="entry" style="vertical-align:top;" id="d251310e115">
<p class="p">Folder Structure</p>
</th>
</tr>
</thead><tbody class="tbody">
<tr class="row">
<td class="entry" style="vertical-align:top;" headers="d251310e109 ">
<p class="p"><span class="ph pname">OpenUI5</span></p>
</td>
<td class="entry" style="vertical-align:top;" headers="d251310e115 ">
<p class="p">[openui5.git]/src/sap.m/src/sap/m/</p>
</td>
</tr>
<tr class="row">
<td class="entry" style="vertical-align:top;" headers="d251310e109 ">
<p class="p">Reuse library</p>
</td>
<td class="entry" style="vertical-align:top;" headers="d251310e115 ">
<p class="p">[project]/src/[library path]</p>
</td>
</tr>
</tbody></table></div>
</section></div>
<div class="section" id="loiob5a51358b3574aea9143fa50ae4e0e2a__section_oq3_fbp_vcb"><section class="section" type="Add .supportrc file"><h2 class="section_title" style="font-size: 1.15em;">Add <samp class="ph codeph">.supportrc</samp> file</h2>

<p class="p">Each library should have a <samp class="ph codeph">.supportrc</samp> file placed at its root folder. It is a
simple JSON file specifying availability of public and internal rules per library.
The <samp class="ph codeph">.supportrc</samp> file defines whether to load ruleset files of the
respective library. This reduces the number of redundant requests to load the
respective ruleset library files.</p>
<div class="p">Here is an example of <samp class="ph codeph">.supportrc
file</samp>:<pre class="pre codeblock prettyprint">{
  &quot;publicRules&quot;: true,
  &quot;internalRules&quot;: true
}
</pre></div>
<aside class="note" aria-labelledby="note_0_title"><div class="title" id="note_0_title"><strong>Note</strong></div>
<p class="p">If a <samp class="ph codeph">.supportrc</samp> file doesn&apos;t exist, a library is considered not to have any
rulesets. Therefore, all ruleset developers should add a
<samp class="ph codeph">.supportrc</samp> file to their libraries root folders. Have in
mind that if a ruleset property is missing, its value is considered to be
false.</p></aside>
</section></div>
<div class="section" id="loiob5a51358b3574aea9143fa50ae4e0e2a__section_ugb_whc_wbb"><section class="section" type="Add SupportLib"><h2 class="section_title" style="font-size: 1.15em;">Add <samp class="ph codeph">SupportLib</samp></h2>

<p class="p">Once you choose the correct location for the <samp class="ph codeph">library.support.js</samp>, the
next step is to add the <samp class="ph codeph">SupportLib</samp>. It provides a set of constants
and enumerations you can use to define the rules inside the
<samp class="ph codeph">library.support.js</samp>. After creating your rules, return an object
holding all of them and a <samp class="ph codeph">name/niceName</samp> to specify their
library.</p>
<div class="p">Here is an example of how to add and use the
<samp class="ph codeph">SupportLib</samp>:<pre class="pre codeblock prettyprint lang-js">sap.ui.define([&quot;jquery.sap.global&quot;, &quot;sap/ui/support/library&quot;],
  function(jQuery, SupportLib) {
    &quot;use strict&quot;;
    var rule1 = {
      ...
      audiences: [SupportLib.Audiences.Control]
      categories: [SupportLib.Categories.Usability]
        ...
      check: function(oIssueManager, ...) {
        ...
        oIssueManager.addIssue({
          severity: SupportLib.Severity.Medium,
          ...
        });
      }
    };

    var rule2 = {&#x2026;};

    return {
      name: &quot;sap.ui.core&quot;,
      niceName: &quot;UI5 Core Library&quot;,
      ruleset: [
        rule1,
        rule2
      ]
    };
  }, true);</pre></div>
</section></div>
<div class="section" id="loiob5a51358b3574aea9143fa50ae4e0e2a__section_knl_d3c_wbb"><section class="section" type="Create Helper Functions (Optional)"><h2 class="section_title" style="font-size: 1.15em;">Create Helper Functions (Optional)</h2>

<div class="p">When creating a more complex ruleset, you may need to create helper functions. It is
recommended that those helper functions are separated into a different file that
ends in <samp class="ph codeph">.support.js</samp> and is located in the same folder as the
ruleset. <aside class="note" aria-labelledby="note_1_title"><div class="title" id="note_1_title"><strong>Note</strong></div>
<p class="p">Helper files must be required by a relative path such as
<span class="ph filepath">./CoreHelper.js</span> so that when the Support Assistant
is loaded from a different origin, the file will be required from the
correct place.</p></aside></div>
</section></div>
<div class="section" id="loiob5a51358b3574aea9143fa50ae4e0e2a__section_fxb_g3c_wbb"><section class="section" type="Split library.support.js (Optional)"><h2 class="section_title" style="font-size: 1.15em;">Split <samp class="ph codeph">library.support.js</samp> (Optional)</h2>

<p class="p">You can also split a <samp class="ph codeph">library.support.js</samp> into multiple files.</p>
<p class="p">When creating a ruleset for a bigger library, there may be too many rules and the
ruleset will become very big. To avoid this, the rule definitions can be split into
multiple files. For example, we might want to split the ruleset of the
<samp class="ph codeph">sap.m</samp> library by creating a file with rules for each
control.</p>
<p class="p">If the <samp class="ph codeph">library.support.js</samp> contains rules for
<samp class="ph codeph">sap.m.Button</samp> and <samp class="ph codeph">sap.m.Label</samp>, you can create
<samp class="ph codeph">Button.support.js</samp> and <samp class="ph codeph">Label.support.js</samp> files.
After that, the <samp class="ph codeph">library.support.js</samp> can require all the rules from
those files and create a ruleset.</p>
<p class="p">This is an example of a <samp class="ph codeph">library.support.js</samp> before the split:</p>
</section></div>
<section class="example"><h2 class="insertiontitle exampletitle">Example</h2><pre class="pre codeblock prettyprint lang-js">sap.ui.define([&quot;jquery.sap.global&quot;, &quot;sap/ui/support/library&quot;],
  function(jQuery, SupportLib) {
    &quot;use strict&quot;;
    var buttonRule = {&#x2026;};

    var labelRule1 = {&#x2026;};

    Var labelRule2 = {&#x2026;};

    return {
      name: &quot;sap.ui.core&quot;,
      niceName: &quot;UI5 Core Library&quot;,
      ruleset: [
        buttonRule,
        labelRule1,
        labelRule2
      ]
    };
  }, true);</pre>In
this example there are three rules - one for button and two for label. Splitting these
rules to different files is done in the following way:<ol class="ol" id="loiob5a51358b3574aea9143fa50ae4e0e2a__ol_hcx_phh_h1b">
<li class="li">
<p class="p">Create a <samp class="ph codeph">Button.support.js</samp> and
<samp class="ph codeph">Label.support.js</samp> files.</p>
<div class="p"><samp class="ph codeph">Button.support.js</samp>:<pre class="pre codeblock prettyprint lang-js">sap.ui.define([&quot;jquery.sap.global&quot;, &quot;sap/ui/support/library&quot;],
  function(jQuery, SupportLib) {
    &quot;use strict&quot;;
    var buttonRule = {&#x2026;};

    return buttonRule;
  }, true);
</pre></div>
<div class="p"><samp class="ph codeph">Label.support.js:</samp><pre class="pre codeblock prettyprint lang-js">sap.ui.define([&quot;jquery.sap.global&quot;, &quot;sap/ui/support/library&quot;],
  function(jQuery, SupportLib) {
    &quot;use strict&quot;;
    var labelRule1 = {&#x2026;};

    var labelRule2 = {&#x2026;};

    return [labelRule1, labelRule2];
  }, true);
</pre></div>
<aside class="note" aria-labelledby="note_2_title"><div class="title" id="note_2_title"><strong>Note</strong></div>
<p class="p">You can return a single rule or an array of rules, as shown in the second
example.</p></aside>
</li>
<li class="li">
<p class="p">Require the newly created files in <samp class="ph codeph">library.support.js</samp>:</p>
<pre class="pre codeblock prettyprint lang-js">sap.ui.define([&quot;jquery.sap.global&quot;, &quot;sap/ui/support/library&quot;,
    &quot;./Button.support&quot;, &quot;./Label.support&quot;
  ],
  function(jQuery, SupportLib, ButtonSupport,
    LabelSupport) {
    &quot;use strict&quot;;

    return {
      name: &quot;sap.ui.core&quot;,
      niceName: &quot;UI5 Core Library&quot;,
      ruleset: [
        ButtonSupport,
        LabelSupport
      ]
    };
  }, true);</pre>
<aside class="note" aria-labelledby="note_3_title"><div class="title" id="note_3_title"><strong>Note</strong></div>
<p class="p">The ruleset property is an array which can contain both rule objects and
arrays of rules. In the example, <samp class="ph codeph">LabelSupport</samp> returns
an array of two rules.</p></aside>
</li>
</ol></section>
</div><div class="related-links"> <div class="relinfo"><div class="relinfotitle ">Related Information</div><div><a class="link" href="../../#/topic/c24569de859446819798c5dc53ac604d.html" title="A rule consists of properties that test and advise on how possible issues can be resolved and a check function that tests the application for a specific issue. To create a rule, you need to set the properties and add a check function." target="_top">Create a Rule</a></div></div></div></div></section><div class="clear"></div>
</div><div class="clearfix"></div></div></div><div class="clearfix"></div><div id="footer-container" class="grid_12"><footer>
	<div id="custom-footerSpacer"></div>
	
</footer>
</div></body></html>