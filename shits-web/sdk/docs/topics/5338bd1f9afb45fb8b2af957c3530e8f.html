<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-us" dir="ltr"><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Filtering</title><link rel="icon" href="themes/sap-default/img/favicon.ico" type="image/x-icon"><link rel="shortcut icon" href="themes/sap-default/img/favicon.ico"><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="abstract" content="The OData V4 Model supports server side filtering on lists."><meta name="description" content="The OData V4 Model supports server side filtering on lists."><meta name="content category" content="development"><script type="text/javascript">var d4p = {"relativePath":'',"dev":false,"debug":false,"draft":false,"nextTopicHref":"d2ce3f51e5e34198b0c1a7f6ddd98def.html","previousTopicHref":"1a010d3b92c34226a96f202ec27e9217.html"}</script><link rel="stylesheet" type="text/css" media="screen, projection" href="themes/sap-default/css/style.css"><script type="text/javascript">
      
        d4p.cssGridPath = d4p.dev ? 'html5-themes/modules/960-Responsive-Grid/css/' : 'themes/dita-d4p-classic/css/';
        var ADAPT_CONFIG = {
          // Where is your CSS?
          path: d4p.relativePath + d4p.cssGridPath,

          // false = Only run once, when page first loads.
          // true = Change on window resize and page tilt.
          dynamic: true,

          // Optional callback... myCallback(i, width)
          callback: doc_resize,

          // First range entry is the minimum.
          // Last range entry is the maximum.
          // Separate ranges by "to" keyword.
          range: [
             // small (size-0)
            '0px    to 760px  =',
             // medium (size-1, size-2)
            '760px  to 980px  = ',
            '980px  to 1270px = ',
             // large (size-3, size-5)
            '1270px to 1600px = ',
            '1600px to 1940px = ',
             // extra large (size-6)
            '1940px to 2540px = ',
            '2540px           = '
          ]
        };

        function doc_resize(i, width)
        {
          d4p.setBodyClassfunction(i, width);
        }


        
      </script><script type="text/javascript" src="toc-info.js"></script><script type="text/javascript" src="themes/sap-default/js/script.js"></script>
		<!--[if lt IE 9]>
			<script>
			  var e = ("abbr,article,aside,audio,canvas,datalist,details," +
			    "figure,footer,header,hgroup,mark,menu,meter,nav,output," +
			    "progress,section,time,video").split(',');
			  for (var i = 0; i < e.length; i++) {
			    document.createElement(e[i]);
			  }
			</script>
		<![endif]-->
        
    <script>
      function addLoadEvent(func) {
        var oldonload = window.onload;
        if (typeof window.onload != 'function') {
          window.onload = func;
        } else {
          window.onload = function() {
            if (oldonload) {
              oldonload();
        }
        func();
       }
     }
     }
      
    addLoadEvent(function() { prettyPrint();
if ($('#local-navigation').length) {
        $('#local-navigation').navigation();
    }


});
      
    </script>
     <script type="text/javascript" src="js/prettify.js"> </script><script id="search-processing" type="text/javascript" src="js/search-processing.js"> </script><script>function handleAreaClick(oArea) {window.parent.location.href = oArea.href;}</script><link type="text/css" rel="stylesheet" href="css/overrides.css"></head><body class="en-us sap-default centered navigation-default toc-injection enumeration-disabled" style="font-family: &apos;72&apos;, Arial, Helvetica, sans-serif;"><div id="d4h5-main-container" class="container_12" role="application"><ul id="page-links" class="hidden"><li><a id="skip-to-content" href="#d4h5-main-content">Skip to content</a></li><li><a id="skip-to-localnav" href="#local-navigation">Skip to navigation</a></li><li><a id="skip-to-footer" href="#footer-container">Skip to footer</a></li></ul><div id="d4h5-section-container" class="grid_12" style="padding-top: 0;"><div id="d4h5-main-content" class="grid_8 alpha omega" style="margin: 0 0.5em;"><section><div id="content-toolbar" class="toolbar hide-for-small"></div><div class="page concept  - topic-topic concept-concept " id="loio5338bd1f9afb45fb8b2af957c3530e8f"><h1 class="title topictitle1" hidden>Filtering</h1><div class="body conbody"><p class="shortdesc" hidden>The OData V4 Model supports server side filtering on lists.</p>
<p class="p">To use server side filtering, set the operation mode to <span class="ph"><a class="xref" href="../../#/api/sap.ui.model.odata.OperationMode/properties" target="_top" alt="#/api/sap.ui.model.odata.OperationMode/properties" title="#/api/sap.ui.model.odata.OperationMode/properties">sap.ui.model.odata.OperationMode.Server</a></span><span class="ph"></span>. This can be done as
follows:</p>
<ul class="ul" id="loio5338bd1f9afb45fb8b2af957c3530e8f__ul_rvr_25c_sw">
<li class="li">
<p class="p">For a single <samp class="ph codeph">ODataListBinding</samp> instance, set the binding
parameter <samp class="ph codeph">$$operationMode</samp></p>
</li>
<li class="li">
<p class="p">For all list bindings of the model, set the model parameter
<samp class="ph codeph">operationMode</samp>.</p>
</li>
</ul>
<div class="p">
<span class="ph emphasis emphasis">Example: Operation mode set in <samp class="ph codeph">manifest.json</samp> for the
model</span>
<pre class="pre codeblock prettyprint lang-js">
&quot;models&quot; : {
    &quot;&quot; : {
        &quot;dataSource&quot; : &quot;default&quot;,
        &quot;settings&quot; : {
            &quot;operationMode&quot; : &quot;Server&quot;,
            &quot;synchronizationMode&quot; : &quot;None&quot;
        }
    }
}</pre></div>
<p class="p"><span class="ph emphasis emphasis">Example: Operation mode set as binding parameter for a specific list
binding</span></p>
<pre class="pre codeblock prettyprint lang-js">
&lt;Table growing=&quot;true&quot; growingThreshold=&quot;5&quot; id=&quot;Equipments&quot;
    items=&quot;{
            path : &apos;/Equipments&apos;,
            parameters : {
                $$operationMode : &apos;Server&apos;,
                $filter : &apos;Category eq \&apos;Electronics\&apos;&apos;,
                $select : &apos;Category,EmployeeId,ID,Name&apos;
            }
        }&quot;&gt;</pre>
<p class="p">The <samp class="ph codeph">ODataListBinding</samp> allows to set static and dynamic filters:</p>
<ul class="ul" id="loio5338bd1f9afb45fb8b2af957c3530e8f__ul_pmh_s1d_sw">
<li class="li">
<p class="p">To set a static filter, use the <samp class="ph codeph">$filter</samp> system query option in
the binding parameters. The static filter value is sent with every data service
request for the binding; you may specify any filter value allowed in OData V4.
The static filter cannot be overwritten for an existing binding.</p>
</li>
<li class="li">
<p class="p">The dynamic filter is an instance of <span class="ph"><a class="xref" href="../../#/api/sap.ui.model.Filter" target="_top" alt="#/api/sap.ui.model.Filter" title="#/api/sap.ui.model.Filter">sap.ui.model.Filter</a></span>
, or an array thereof. For an
array, the filters are combined with a logical AND. You can set the initial
value for the dynamic filter in <span class="ph"><a class="xref" href="../../#/api/ODataModel.bindList" target="_top" alt="#/api/ODataModel.bindList" title="#/api/ODataModel.bindList">ODataModel.bindList</a></span>
or declaratively in an XML
view with the <samp class="ph codeph">filters</samp> property in an aggregation&apos;s binding
information. To set the dynamic filter, use the <span class="ph"><a class="xref" href="../../#/api/ODataListBinding.filter" target="_top" alt="#/api/ODataListBinding.filter" title="#/api/ODataListBinding.filter">ODataListBinding.filter</a></span>
method. This filter
overwrites the initial value specified on binding construction.</p>
</li>
</ul>
<p class="p">The <samp class="ph codeph">ODataListBinding</samp> combines the dynamic filter and static filter with
a logical AND.</p>
<p class="p"><span class="ph emphasis emphasis">Examle: Dynamic and static filters</span></p>
<pre class="pre codeblock prettyprint lang-js">
&lt;Table growing=&quot;true&quot; growingThreshold=&quot;5&quot; id=&quot;Equipments&quot;
    items=&quot;{
            path : &apos;/Equipments&apos;,
            parameters : {
                $$operationMode : &apos;Server&apos;,
                $filter : &apos;Category eq \&apos;Electronics\&apos;&apos;,                             &lt;-- static filter
                $select : &apos;Category,EmployeeId,ID,Name&apos;
            },
            filters : {                                      &lt;-- dynamic filter initial value
                path : &apos;EmployeeId&apos;,
                operator : &apos;GE&apos;,
                value1 : &apos;0000&apos;
            }
        }&quot;&gt;</pre>
<p class="p">The example above filters the <samp class="ph codeph">Equipments</samp> entity set by
<samp class="ph codeph">Category</samp> (static filter) and <samp class="ph codeph">EmployeeId</samp> (dynamic
filter, initial value).</p>
<div class="section" id="loio5338bd1f9afb45fb8b2af957c3530e8f__section_mqn_jkk_b1b"><section class="section" type="Filtering with Any and All"><h2 class="section_title" style="font-size: 1.15em;">Filtering with Any and All</h2><p class="p">The OData V4
model also supports the Lambda Operators <samp class="ph codeph">any</samp> and
<samp class="ph codeph">all</samp> as defined in section 5.1.1.10 of the <a class="extlink" href="http://help.sap.com/disclaimer?site=http://docs.oasis-open.org/odata/odata/v4.0/errata03/os/complete/part2-url-conventions/odata-v4.0-errata03-os-part2-url-conventions-complete.html#_Toc453752358" target="_blank" alt="http://docs.oasis-open.org/odata/odata/v4.0/errata03/os/complete/part2-url-conventions/odata-v4.0-errata03-os-part2-url-conventions-complete.html#_Toc453752358" title="http://docs.oasis-open.org/odata/odata/v4.0/errata03/os/complete/part2-url-conventions/odata-v4.0-errata03-os-part2-url-conventions-complete.html#_Toc453752358">OData Version 4.0. Part 2: URL Conventions<img src="themes/sap-default/img/3rd_link.png" class="link-external" alt="Information published on non-SAP site" title="Information published on non-SAP site" border="0"></a>
specification. They are represented by <span class="ph"><a class="xref" href="../../#/api/sap.ui.model.Filter" target="_top" alt="#/api/sap.ui.model.Filter" title="#/api/sap.ui.model.Filter">sap.ui.model.Filter</a></span> objects with
filter operators <span class="ph"><a class="xref" href="../../#/api/sap.ui.model.FilterOperator/properties" target="_top" alt="#/api/sap.ui.model.FilterOperator/properties" title="#/api/sap.ui.model.FilterOperator/properties">sap.ui.model.FilterOperator.Any</a></span>
and <span class="ph"><a class="xref" href="../../#/api/sap.ui.model.FilterOperator/properties" target="_top" alt="#/api/sap.ui.model.FilterOperator/properties" title="#/api/sap.ui.model.FilterOperator/properties">sap.ui.model.FilterOperator.All</a></span>.</p><p class="p">Example:</p><pre class="pre codeblock prettyprint">sap.ui.model.Filter({
        // the path of the collection for which the condition needs to be evaluated
        path : &quot;TEAM_2_EMPLOYEES&quot;,
        // either sap.ui.model.FilterOperator.Any or sap.ui.model.FilterOperator.All
        operator : sap.ui.model.FilterOperator.Any,    
        // any OData identifier which is a variable for the current element of the collection referenced by path
        variable : &quot;employee&quot;,
        // the filter condition; the path of the nested filter contains the variable as prefix to reference current element of the collection
        condition : new sap.ui.model.Filter(&quot;employee/AGE&quot;, sap.ui.model.FilterOperator.GT, 42)  
    })</pre><p class="p">The
path of the filter object is the path of the collection for which the boolean
condition needs to be evaluated. The variable can be any OData identifier and it
needs to be part of the path of a nested filter condition.</p><div class="sectiondiv subsection">
<p class="p subsectiontitle">Filter Operator any</p>
<p class="p">The filter operator Any applies the <samp class="ph codeph">boolean</samp> filter condition to
each member of the collection referenced by <samp class="ph codeph">path</samp>. If the
condition is true for <span class="ph emphasis emphasis">at least one</span> member of the
collection, the any-filter matches. The filter with the Any operator without a
filter condition matches only if the collection referenced by path is not
empty.</p>
<p class="p">Example 1: Get all teams that have at least one employee who is older than 42</p>
<pre class="pre codeblock prettyprint">
oTeamsBinding.filter(
    new sap.ui.model.Filter({
        path : &quot;TEAM_2_EMPLOYEES&quot;,
        operator : sap.ui.model.FilterOperator.Any,
        variable : &quot;employee&quot;,
        condition : new sap.ui.model.Filter(&quot;employee/AGE&quot;, sap.ui.model.FilterOperator.GT, 42)
    });
);</pre>
<p class="p">The resulting request would be:
<span class="ph emphasis emphasis"><span class="ph filepath">http://host/service/TEAMS?$filter=TEAM_2_EMPLOYEES/any(employee:employee/AGE
gt 42)</span></span></p>
<p class="p">Example 2: Get all teams that have at least one employee assigned</p>
<pre class="pre codeblock prettyprint">oTeamsBinding.filter(
    new sap.ui.model.Filter({
        path : &quot;TEAM_2_EMPLOYEES&quot;,
        operator : sap.ui.model.FilterOperator.Any
    });
);</pre>
<p class="p">The resulting request would be:
<span class="ph emphasis emphasis"><span class="ph filepath">http://host/service/TEAMS?$filter=TEAM_2_EMPLOYEES/any()</span></span></p>
</div><div class="sectiondiv subsection">
<p class="p subsectiontitle">Filter Operator all</p>
<p class="p">The filter operator All applies the <samp class="ph codeph">boolean</samp> filter condition to
each member of the collection referenced by <samp class="ph codeph">path</samp>. If the
condition is true for <span class="ph emphasis emphasis">all</span> members of the collection, the
all-filter matches.</p>
<p class="p">Example: Get all teams for which all employees are older than 42.</p>
<pre class="pre codeblock prettyprint">
oOrdersListBinding.filter(
    new sap.ui.model.Filter({
        path : &quot;TEAM_2_EMPLOYEES&quot;,
        operator : sap.ui.model.FilterOperator.All,
        variable : &quot;employee&quot;,
        condition : new sap.ui.model.Filter(&quot;employee/AGE&quot;, sap.ui.model.FilterOperator.GT, 42)
    });
);</pre>
<p class="p">The resulting request would be:
<span class="ph emphasis emphasis"><span class="ph filepath">http://host/service/TEAMS?$filter=TEAM_2_EMPLOYEES/all(employee:employee/AGE
gt 42)</span></span></p>
</div></section></div>
</div><div class="related-links"> <div class="relinfo"><div class="relinfotitle ">Related Information</div><div><a class="link" href="../../#/api/sap.ui.model.odata.OperationMode%23.Server" target="_top" alt="#/api/sap.ui.model.odata.OperationMode%23.Server" title="#/api/sap.ui.model.odata.OperationMode%23.Server">sap.ui.model.odata.OperationMode.Server</a></div></div></div></div></section><div class="clear"></div>
</div><div class="clearfix"></div></div></div><div class="clearfix"></div><div id="footer-container" class="grid_12"><footer>
	<div id="custom-footerSpacer"></div>
	
</footer>
</div></body></html>