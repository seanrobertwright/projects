<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-us" dir="ltr"><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Step 37: Content Density</title><link rel="icon" href="themes/sap-default/img/favicon.ico" type="image/x-icon"><link rel="shortcut icon" href="themes/sap-default/img/favicon.ico"><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="abstract" content="In this step of our Walkthrough tutorial, we adjust the content density based on the user&#x2019;s device. OpenUI5 contains different content densities allowing you to display larger controls for touch-enabled devices and a smaller, more compact design for devices that are operated by mouse. In our app, we will detect the device and adjust the density accordingly."><meta name="description" content="In this step of our Walkthrough tutorial, we adjust the content density based on the user&#x2019;s device. OpenUI5 contains different content densities allowing you to display larger controls for touch-enabled devices and a smaller, more compact design for devices that are operated by mouse. In our app, we will detect the device and adjust the density accordingly."><meta name="content category" content="development"><script type="text/javascript">var d4p = {"relativePath":'',"dev":false,"debug":false,"draft":false,"nextTopicHref":"ff7cab1f271a4181a86e5aa5c2f8d421.html","previousTopicHref":"d63a15e5eebb45cdada317bae5f45bc2.html"}</script><link rel="stylesheet" type="text/css" media="screen, projection" href="themes/sap-default/css/style.css"><script type="text/javascript">
      
        d4p.cssGridPath = d4p.dev ? 'html5-themes/modules/960-Responsive-Grid/css/' : 'themes/dita-d4p-classic/css/';
        var ADAPT_CONFIG = {
          // Where is your CSS?
          path: d4p.relativePath + d4p.cssGridPath,

          // false = Only run once, when page first loads.
          // true = Change on window resize and page tilt.
          dynamic: true,

          // Optional callback... myCallback(i, width)
          callback: doc_resize,

          // First range entry is the minimum.
          // Last range entry is the maximum.
          // Separate ranges by "to" keyword.
          range: [
             // small (size-0)
            '0px    to 760px  =',
             // medium (size-1, size-2)
            '760px  to 980px  = ',
            '980px  to 1270px = ',
             // large (size-3, size-5)
            '1270px to 1600px = ',
            '1600px to 1940px = ',
             // extra large (size-6)
            '1940px to 2540px = ',
            '2540px           = '
          ]
        };

        function doc_resize(i, width)
        {
          d4p.setBodyClassfunction(i, width);
        }


        
      </script><script type="text/javascript" src="toc-info.js"></script><script type="text/javascript" src="themes/sap-default/js/script.js"></script>
		<!--[if lt IE 9]>
			<script>
			  var e = ("abbr,article,aside,audio,canvas,datalist,details," +
			    "figure,footer,header,hgroup,mark,menu,meter,nav,output," +
			    "progress,section,time,video").split(',');
			  for (var i = 0; i < e.length; i++) {
			    document.createElement(e[i]);
			  }
			</script>
		<![endif]-->
        
    <script>
      function addLoadEvent(func) {
        var oldonload = window.onload;
        if (typeof window.onload != 'function') {
          window.onload = func;
        } else {
          window.onload = function() {
            if (oldonload) {
              oldonload();
        }
        func();
       }
     }
     }
      
    addLoadEvent(function() { prettyPrint();
if ($('#local-navigation').length) {
        $('#local-navigation').navigation();
    }


});
      
    </script>
     <script type="text/javascript" src="js/prettify.js"> </script><script id="search-processing" type="text/javascript" src="js/search-processing.js"> </script><script>function handleAreaClick(oArea) {window.parent.location.href = oArea.href;}</script><link type="text/css" rel="stylesheet" href="css/overrides.css"></head><body class="en-us sap-default centered navigation-default toc-injection enumeration-disabled" style="font-family: &apos;72&apos;, Arial, Helvetica, sans-serif;"><div id="d4h5-main-container" class="container_12" role="application"><ul id="page-links" class="hidden"><li><a id="skip-to-content" href="#d4h5-main-content">Skip to content</a></li><li><a id="skip-to-localnav" href="#local-navigation">Skip to navigation</a></li><li><a id="skip-to-footer" href="#footer-container">Skip to footer</a></li></ul><div id="d4h5-section-container" class="grid_12" style="padding-top: 0;"><div id="d4h5-main-content" class="grid_8 alpha omega" style="margin: 0 0.5em;"><section><div id="content-toolbar" class="toolbar hide-for-small"><div class="familylinks"><div class="parentlink"><br><strong>Parent topic: </strong><a class="link" href="../../#/topic/3da5f4be63264db99f2e5b04c5e853db.html" title="In this tutorial we will introduce you to all major development paradigms of OpenUI5." target="_top">Walkthrough</a><br></div><div class="previouslink"><br><strong>Previous: </strong><a class="link" href="../../#/topic/d63a15e5eebb45cdada317bae5f45bc2.html" title="We now configure the visibility and properties of controls based on the device that we run the application on. By making use of the sap.ui.Device API and defining a device model we will make the app look great on many devices." target="_top">Step 36: Device Adaptation</a><br></div><div class="nextlink"><br><strong>Next: </strong><a class="link" href="../../#/topic/ff7cab1f271a4181a86e5aa5c2f8d421.html" title="As the last step in this tutorial, we are going to improve the accessibility of our app." target="_top">Step 38: Accessibility</a><br></div></div></div><div class="page concept  - topic-topic concept-concept " id="loiod935dbf196d34997bf1ac42ac3e81579"><h1 class="title topictitle1" hidden>Step 37: Content Density</h1><div class="body conbody"><p class="shortdesc" hidden>In this step of our Walkthrough tutorial, we adjust the content density based on the user&#x2019;s device. <span class="ph"><span class="ph pname">OpenUI5</span></span> contains different content densities allowing you to display larger
controls for touch-enabled devices and a smaller, more compact design for devices that are operated by mouse. In our app, we will detect the
device and adjust the density accordingly.</p>
<div class="section"><section class="section" type="Preview"><h2 class="section_title" style="font-size: 1.15em;">Preview</h2>

<div class="fig fignone" id="loiod935dbf196d34997bf1ac42ac3e81579__fig_r1j_pst_mr"><div class="figbody">

<img class="inline" id="loiod935dbf196d34997bf1ac42ac3e81579__image_jpm_yqp_lt" src="loio04b6669bbc8a4524be5a998ad78544ac_HiRes.png">
</div><span class="figcap">The content density is compact on desktop devices and cozy on touch-enabled
devices</span></div>
</section></div>
<div class="section"><section class="section" type="Coding"><h2 class="section_title" style="font-size: 1.15em;">Coding</h2>

<p class="p">You can view and download all files <span class="ph">at <a class="xref" href="../../#/sample/sap.m.tutorial.walkthrough.37/preview" target="_top" alt="#/sample/sap.m.tutorial.walkthrough.37/preview" title="#/sample/sap.m.tutorial.walkthrough.37/preview">Walkthrough - Step 37</a></span>.</p>
</section></div>
<div class="section"><section class="section" type="webapp/Component.js"><h2 class="section_title" style="font-size: 1.15em;">webapp/Component.js</h2>

<pre class="pre codeblock prettyprint lang-js">...
		init: function () {
...		}<span class="ph emphasis emphasis">,</span>
...
<span class="ph emphasis emphasis">		getContentDensityClass : function () {
			if (!this._sContentDensityClass) {
				if (!Device.support.touch) {
					this._sContentDensityClass = &quot;sapUiSizeCompact&quot;;
				} else {
					this._sContentDensityClass = &quot;sapUiSizeCozy&quot;;
				}
			}
			return this._sContentDensityClass;
		}
</span>
	});
});</pre>
<p class="p">To prepare the content density feature we will also add a helper method
<samp class="ph codeph">getContentDensityClass</samp>. <span class="ph"><span class="ph pname">OpenUI5</span></span> controls can be
displayed in multiple sizes, for example in a <samp class="ph codeph">compact</samp> size that is
optimized for desktop and non-touch devices, and in a <samp class="ph codeph">cozy</samp> mode
that is optimized for touch interaction. The controls look for a specific CSS class
in the HTML structure of the application to adjust their size.</p>
<p class="p">This helper method queries the <span class="keyword apiname">Device</span> API directly for touch support of the client and returns the CSS class
<samp class="ph codeph">sapUiSizeCompact</samp> if touch interaction is not supported and <samp class="ph codeph">sapUiSizeCozy</samp> for all other cases. We
will use it throughout the application coding to set the proper content density CSS class.</p>
</section></div>
<div class="section"><section class="section" type="webapp/controller/App.controller.js"><h2 class="section_title" style="font-size: 1.15em;">webapp/controller/App.controller.js</h2><pre class="pre codeblock prettyprint lang-js">sap.ui.define([
	&quot;sap/ui/core/mvc/Controller&quot;
], function (Controller) {
	&quot;use strict&quot;;

	return Controller.extend(&quot;sap.ui.demo.walkthrough.controller.App&quot;, {

<span class="ph emphasis emphasis">		onInit: function () {
			this.getView().addStyleClass(this.getOwnerComponent().getContentDensityClass());
		}</span>,
		onOpenDialog: function () {
			this.getOwnerComponent().openHelloDialog();
		}
	});
});</pre>We
add a method <samp class="ph codeph">onInit</samp> on the app controller that is called when the app view is instantiated. There we query the helper
function that we defined on the app component to set the corresponding style class on the app view, All controls inside the app view will
now automatically adjust either to the compact or cozy size as defined by the style.</section></div>
<div class="section"><section class="section" type="webapp/controller/HelloDialog.js"><h2 class="section_title" style="font-size: 1.15em;">webapp/controller/HelloDialog.js</h2><pre class="pre codeblock prettyprint lang-js">sap.ui.define([
	&quot;sap/ui/base/ManagedObject&quot;,
	&quot;sap/ui/core/Fragment&quot;,
<span class="ph emphasis emphasis">	&quot;sap/ui/core/syncStyleClass&quot;</span>
], function (ManagedObject, Fragment<span class="ph emphasis emphasis">, syncStyleClass</span>) {
	&quot;use strict&quot;;

	return ManagedObject.extend(&quot;sap.ui.demo.walkthrough.controller.HelloDialog&quot;, {

		constructor : function (oView) {
			this._oView = oView;
		},

		exit : function () {
			delete this._oView;
		},

		open : function () {
			var oView = this._oView;

			// create dialog lazily
			if (!oView.byId(&quot;helloDialog&quot;)) {
				var oFragmentController = {
					onCloseDialog : function () {
						oView.byId(&quot;helloDialog&quot;).close();
					}
				};
				// load asynchronous XML fragment
				Fragment.load({
					id: oView.getId(),
					name: &quot;sap.ui.demo.walkthrough.view.HelloDialog&quot;,
					controller: oFragmentController
				}).then(function (oDialog){
					// connect dialog to the root view of this component (models, lifecycle)
					oView.addDependent(oDialog);
	<span class="ph emphasis emphasis">				// forward compact/cozy style into dialog
					syncStyleClass(oView.getController().getOwnerComponent().getContentDensityClass(), oView, oDialog);</span>
					oDialog.open();
				});
			} else {
				oView.byId(&quot;helloDialog&quot;).open();
			}
		}

	});

});
</pre>The
&quot;Hello World&quot; dialog is not part of the <samp class="ph codeph">app</samp> view but opened in a special part of the DOM called &quot;static area&quot;. The
content density class defined on the <samp class="ph codeph">app</samp> view is not known to the dialog so we sync the style class of the app with the
dialog manually.</section></div>
<div class="section"><section class="section" type="webapp/manifest.json"><h2 class="section_title" style="font-size: 1.15em;">webapp/manifest.json</h2>

<pre class="pre codeblock prettyprint lang-json">...
  &quot;sap.ui5&quot;: {
    ...     
    &quot;dependencies&quot;: {
      ...
    }<span class="ph emphasis emphasis">,
    &quot;contentDensities&quot;: {
      &quot;compact&quot;: true,
      &quot;cozy&quot;: true
    }
</span>
  }</pre>
<p class="p">In the <samp class="ph codeph">contentDensities</samp> section of the <samp class="ph codeph">sap.ui5</samp>
namespace, we specify the modes that the application supports. Containers like the
<span class="ph pname">SAP Fiori launchpad</span> allow
switching the content density based on these settings.</p>
<p class="p">As we have just enabled the app to run in both modes depending on the devices
capabilities, we can set both to <samp class="ph codeph">true</samp> in the application
descriptor. </p>
</section></div>
<div class="section" id="loiod935dbf196d34997bf1ac42ac3e81579__section_kpq_zct_qbb"><section class="section" type="Summary"><h2 class="section_title" style="font-size: 1.15em;">Summary</h2>

<p class="p">You should now be familiar with the major development paradigms and concepts of <span class="ph"><span class="ph pname">OpenUI5</span></span> and have created
a very simple first app. You are now ready to build a proper app based on what
you&apos;ve learned.</p>
<p class="p">If you want to dive deeper into specific topics, you can use the other tutorials that
show some of the aspects of this Walkthrough and advanced topics in more detail.
</p>
</section></div>
</div><div class="related-links"> <div class="familylinks"><div class="parentlink"><br><strong>Parent topic: </strong><a class="link" href="../../#/topic/3da5f4be63264db99f2e5b04c5e853db.html" title="In this tutorial we will introduce you to all major development paradigms of OpenUI5." target="_top">Walkthrough</a><br></div><div class="previouslink"><br><strong>Previous: </strong><a class="link" href="../../#/topic/d63a15e5eebb45cdada317bae5f45bc2.html" title="We now configure the visibility and properties of controls based on the device that we run the application on. By making use of the sap.ui.Device API and defining a device model we will make the app look great on many devices." target="_top">Step 36: Device Adaptation</a><br></div><div class="nextlink"><br><strong>Next: </strong><a class="link" href="../../#/topic/ff7cab1f271a4181a86e5aa5c2f8d421.html" title="As the last step in this tutorial, we are going to improve the accessibility of our app." target="_top">Step 38: Accessibility</a><br></div></div><div class="relinfo"><div class="relinfotitle ">Related Information</div><div><a class="link" href="../../#/topic/e54f729da8e3405fae5e4fe8ae7784c1.html" title="The devices used to run apps that are developed with OpenUI5 run on various different operating systems and have very different screen sizes. OpenUI5 contains different content densities for certain controls that allow your app to adapt to the device in question, allowing you to display larger controls for touch-enabled devices and a smaller, more compact design for devices that are operated by mouse." target="_top">Content Densities</a></div><div><a class="link" href="../../#/api/sap.ui.Device.media.RANGESETS" target="_top" alt="#/api/sap.ui.Device.media.RANGESETS" title="#/api/sap.ui.Device.media.RANGESETS">API Reference: <samp class="ph codeph">sap.ui.Device.media.RANGESETS</samp></a></div><div><a class="link" href="../../#/api/sap.ui.Device" target="_top" alt="#/api/sap.ui.Device" title="#/api/sap.ui.Device">API Reference: <samp class="ph codeph">sap.ui.Device</samp></a></div><div><a class="link" href="../../#/api/jQuery.sap/methods/jQuery.sap.syncStyleClass" target="_top" alt="#/api/jQuery.sap/methods/jQuery.sap.syncStyleClass" title="#/api/jQuery.sap/methods/jQuery.sap.syncStyleClass">API Reference: <samp class="ph codeph">jQuery.sap.syncStyleClass</samp></a></div></div></div></div></section><div class="clear"></div>
</div><div class="clearfix"></div></div></div><div class="clearfix"></div><div id="footer-container" class="grid_12"><footer>
	<div id="custom-footerSpacer"></div>
	
</footer>
</div></body></html>