<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-us" dir="ltr"><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Step 20: Aggregation Binding</title><link rel="icon" href="themes/sap-default/img/favicon.ico" type="image/x-icon"><link rel="shortcut icon" href="themes/sap-default/img/favicon.ico"><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="abstract" content="Now that we have established a good structure for our app, it&apos;s time to add some more functionality. We start exploring more features of data binding by adding some invoice data in JSON format that we display in a list below the panel."><meta name="description" content="Now that we have established a good structure for our app, it&apos;s time to add some more functionality. We start exploring more features of data binding by adding some invoice data in JSON format that we display in a list below the panel."><meta name="content category" content="development"><script type="text/javascript">var d4p = {"relativePath":'',"dev":false,"debug":false,"draft":false,"nextTopicHref":"dfe04650afc046e0802abb1a1a90d2d9.html","previousTopicHref":"19453962b8074b7399372c65cbe05370.html"}</script><link rel="stylesheet" type="text/css" media="screen, projection" href="themes/sap-default/css/style.css"><script type="text/javascript">
      
        d4p.cssGridPath = d4p.dev ? 'html5-themes/modules/960-Responsive-Grid/css/' : 'themes/dita-d4p-classic/css/';
        var ADAPT_CONFIG = {
          // Where is your CSS?
          path: d4p.relativePath + d4p.cssGridPath,

          // false = Only run once, when page first loads.
          // true = Change on window resize and page tilt.
          dynamic: true,

          // Optional callback... myCallback(i, width)
          callback: doc_resize,

          // First range entry is the minimum.
          // Last range entry is the maximum.
          // Separate ranges by "to" keyword.
          range: [
             // small (size-0)
            '0px    to 760px  =',
             // medium (size-1, size-2)
            '760px  to 980px  = ',
            '980px  to 1270px = ',
             // large (size-3, size-5)
            '1270px to 1600px = ',
            '1600px to 1940px = ',
             // extra large (size-6)
            '1940px to 2540px = ',
            '2540px           = '
          ]
        };

        function doc_resize(i, width)
        {
          d4p.setBodyClassfunction(i, width);
        }


        
      </script><script type="text/javascript" src="toc-info.js"></script><script type="text/javascript" src="themes/sap-default/js/script.js"></script>
		<!--[if lt IE 9]>
			<script>
			  var e = ("abbr,article,aside,audio,canvas,datalist,details," +
			    "figure,footer,header,hgroup,mark,menu,meter,nav,output," +
			    "progress,section,time,video").split(',');
			  for (var i = 0; i < e.length; i++) {
			    document.createElement(e[i]);
			  }
			</script>
		<![endif]-->
        
    <script>
      function addLoadEvent(func) {
        var oldonload = window.onload;
        if (typeof window.onload != 'function') {
          window.onload = func;
        } else {
          window.onload = function() {
            if (oldonload) {
              oldonload();
        }
        func();
       }
     }
     }
      
    addLoadEvent(function() { prettyPrint();
if ($('#local-navigation').length) {
        $('#local-navigation').navigation();
    }


});
      
    </script>
     <script type="text/javascript" src="js/prettify.js"> </script><script id="search-processing" type="text/javascript" src="js/search-processing.js"> </script><script>function handleAreaClick(oArea) {window.parent.location.href = oArea.href;}</script><link type="text/css" rel="stylesheet" href="css/overrides.css"></head><body class="en-us sap-default centered navigation-default toc-injection enumeration-disabled" style="font-family: &apos;72&apos;, Arial, Helvetica, sans-serif;"><div id="d4h5-main-container" class="container_12" role="application"><ul id="page-links" class="hidden"><li><a id="skip-to-content" href="#d4h5-main-content">Skip to content</a></li><li><a id="skip-to-localnav" href="#local-navigation">Skip to navigation</a></li><li><a id="skip-to-footer" href="#footer-container">Skip to footer</a></li></ul><div id="d4h5-section-container" class="grid_12" style="padding-top: 0;"><div id="d4h5-main-content" class="grid_8 alpha omega" style="margin: 0 0.5em;"><section><div id="content-toolbar" class="toolbar hide-for-small"><div class="familylinks"><div class="parentlink"><br><strong>Parent topic: </strong><a class="link" href="../../#/topic/3da5f4be63264db99f2e5b04c5e853db.html" title="In this tutorial we will introduce you to all major development paradigms of OpenUI5." target="_top">Walkthrough</a><br></div><div class="previouslink"><br><strong>Previous: </strong><a class="link" href="../../#/topic/19453962b8074b7399372c65cbe05370.html" title="In this step, we expand our reuse concept and invoke the dialog at component level." target="_top">Step 19: Reuse Dialogs</a><br></div><div class="nextlink"><br><strong>Next: </strong><a class="link" href="../../#/topic/dfe04650afc046e0802abb1a1a90d2d9.html" title="The list of invoices is already looking nice, but what is an invoice without a price assigned? Typically prices are stored in a technical format and with a &apos;.&apos; delimiter in the data model. For example, our invoice for pineapples has the calculated price 87.2 without a currency. We are going to use the OpenUI5 data types to format the price properly, with a locale-dependent decimal separator and two digits after the separator." target="_top">Step 21: Data Types</a><br></div></div></div><div class="page concept  - topic-topic concept-concept " id="loiobf71375454654b44af01379a3c3a6273"><h1 class="title topictitle1" hidden>Step 20: Aggregation Binding</h1><div class="body conbody"><p class="shortdesc" hidden>Now that we have established a good structure for our app, it&apos;s time to add some more
functionality. We start exploring more features of data binding by adding some invoice data
in JSON format that we display in a list below the panel.</p>
<div class="section"><section class="section" type="Preview"><h2 class="section_title" style="font-size: 1.15em;">Preview</h2>

<div class="fig fignone" id="loiobf71375454654b44af01379a3c3a6273__fig_r1j_pst_mr"><div class="figbody">

<img class="inline" id="loiobf71375454654b44af01379a3c3a6273__image_jcp_csy_xr" src="loioc694be7496f2477da923104e6a29e725_HiRes.png">
</div><span class="figcap">A list of invoices is displayed below the panel</span></div>
</section></div>
<div class="section">
<div class="section_title">Coding</div>
<p class="p">You can view and download all files <span class="ph">at <a class="xref" href="../../#/sample/sap.m.tutorial.walkthrough.20/preview" target="_top" alt="#/sample/sap.m.tutorial.walkthrough.20/preview" title="#/sample/sap.m.tutorial.walkthrough.20/preview">Walkthrough - Step 20</a></span>.</p>
<div class="section_title">webapp/Invoices.json (New)</div>
<pre class="pre codeblock prettyprint lang-js"><span class="ph emphasis emphasis">{
  &quot;Invoices&quot;: [
	{
	  &quot;ProductName&quot;: &quot;Pineapple&quot;,
	  &quot;Quantity&quot;: 21,
	  &quot;ExtendedPrice&quot;: 87.2000,
	  &quot;ShipperName&quot;: &quot;Fun Inc.&quot;,
	  &quot;ShippedDate&quot;: &quot;2015-04-01T00:00:00&quot;,
	  &quot;Status&quot;: &quot;A&quot;
	},
	{
	  &quot;ProductName&quot;: &quot;Milk&quot;,
	  &quot;Quantity&quot;: 4,
	  &quot;ExtendedPrice&quot;: 9.99999,
	  &quot;ShipperName&quot;: &quot;ACME&quot;,
	  &quot;ShippedDate&quot;: &quot;2015-02-18T00:00:00&quot;,
	  &quot;Status&quot;: &quot;B&quot;
	},
	{
	  &quot;ProductName&quot;: &quot;Canned Beans&quot;,
	  &quot;Quantity&quot;: 3,
	  &quot;ExtendedPrice&quot;: 6.85000,
	  &quot;ShipperName&quot;: &quot;ACME&quot;,
	  &quot;ShippedDate&quot;: &quot;2015-03-02T00:00:00&quot;,
	  &quot;Status&quot;: &quot;B&quot;
	},
	{
	  &quot;ProductName&quot;: &quot;Salad&quot;,
	  &quot;Quantity&quot;: 2,
	  &quot;ExtendedPrice&quot;: 8.8000,
	  &quot;ShipperName&quot;: &quot;ACME&quot;,
	  &quot;ShippedDate&quot;: &quot;2015-04-12T00:00:00&quot;,
	  &quot;Status&quot;: &quot;C&quot;
	},
	{
	  &quot;ProductName&quot;: &quot;Bread&quot;,
	  &quot;Quantity&quot;: 1,
	  &quot;ExtendedPrice&quot;: 2.71212,
	  &quot;ShipperName&quot;: &quot;Fun Inc.&quot;,
	  &quot;ShippedDate&quot;: &quot;2015-01-27T00:00:00&quot;,
	  &quot;Status&quot;: &quot;A&quot;
	}
  ]
}</span></pre>
<p class="p">The <samp class="ph codeph">invoices</samp> file simply contains five invoices in a JSON format that we can use to bind controls against them in the app. JSON
is a very lightweight format for storing data and can be directly used as a data source for <span class="ph"><span class="ph pname">OpenUI5</span></span> applications.</p>
</div>
<div class="section"><section class="section" type="webapp/manifest.json"><h2 class="section_title" style="font-size: 1.15em;">webapp/manifest.json</h2>

<pre class="pre codeblock prettyprint lang-js">{
&#x2026;
  &quot;sap.ui5&quot;: {
	&quot;rootView&quot;: &quot;sap.ui.demo.walkthrough.view.App&quot;,
[&#x2026;]
	&quot;models&quot;: {
	  &quot;i18n&quot;: {
		&quot;type&quot;: &quot;sap.ui.model.resource.ResourceModel&quot;,
		&quot;settings&quot;: {
		  &quot;bundleName&quot;: &quot;sap.ui.demo.walkthrough.i18n.i18n&quot;
		}
	  }<span class="ph emphasis emphasis">,
	  &quot;invoice&quot;: {
		&quot;type&quot;: &quot;sap.ui.model.json.JSONModel&quot;,
		&quot;uri&quot;: &quot;Invoices.json&quot;
	  }</span>
	}
  }
}</pre>
<p class="p">We add a new model <samp class="ph codeph">invoice</samp> to the <samp class="ph codeph">sap.ui5</samp> section
of the descriptor. This time we want a JSONModel, so we set the type to
<samp class="ph codeph">sap.ui.model.json.JSONModel</samp>. The <samp class="ph codeph">uri</samp> key is
the path to our test data relative to the component. With this little configuration
our component will automatically instantiate a new <samp class="ph codeph">JSONModel</samp> which
loads the invoice data from the <span class="ph filepath">Invoices.json</span> file. Finally,
the instantiated <samp class="ph codeph">JSONModel</samp> is put onto the component as a named
model invoice. The named model is then visible throughout our app.</p>
<aside class="note" aria-labelledby="note_0_title"><div class="title" id="note_0_title"><strong>Note</strong></div>
<p class="p">Automatic model instantiation is only available as of <span class="ph"><span class="ph pname">OpenUI5</span></span> version
1.30. If you are using an older version, you can manually instantiate the
resource bundle and other models of the app in the <samp class="ph codeph">onInit</samp>
method of the <span class="ph filepath">Component.js</span> file as we did for the resource
bundle in <a class="xref" href="../../#/topic/4cfa60872dca462cb87148ccd0d948ee.html" title="After we have introduced all three parts of the Model-View-Controller (MVC) concept, we now come to another important structural aspect of OpenUI5." target="_top">Step 9: Component Configuration</a>.</p></aside>
</section></div>
<div class="section"><section class="section" type="webapp/view/App.view.xml"><h2 class="section_title" style="font-size: 1.15em;">webapp/view/App.view.xml</h2>

<pre class="pre codeblock prettyprint lang-xml">&lt;mvc:View
	controllerName=&quot;sap.ui.demo.walkthrough.controller.App&quot;
	xmlns=&quot;sap.m&quot;
	xmlns:mvc=&quot;sap.ui.core.mvc&quot;
	displayBlock=&quot;true&quot;&gt;
	&lt;Shell&gt;
		&lt;App class=&quot;myAppDemoWT&quot;&gt;
			&lt;pages&gt;
				&lt;Page title=&quot;{i18n&gt;homePageTitle}&quot;&gt;
					&lt;headerContent&gt;
						&lt;Button
							icon=&quot;sap-icon://hello-world&quot;
							press=&quot;.onOpenDialog&quot;/&gt;
					&lt;/headerContent&gt;
					&lt;content&gt;
						&lt;mvc:XMLView viewName=&quot;sap.ui.demo.walkthrough.view.HelloPanel&quot;/&gt;
<span class="ph emphasis emphasis">						&lt;mvc:XMLView viewName=&quot;sap.ui.demo.walkthrough.view.InvoiceList&quot;/&gt;</span>
					&lt;/content&gt;
				&lt;/Page&gt;
			&lt;/pages&gt;
		&lt;/App&gt;
	&lt;/Shell&gt;
&lt;/mvc:View&gt;
</pre>
<p class="p">In the app view we add a second view to display our invoices below the panel.</p>
</section></div>
<div class="section"><section class="section" type="webapp/view/InvoiceList.view.xml (New)"><h2 class="section_title" style="font-size: 1.15em;">webapp/view/InvoiceList.view.xml (New)</h2>

<pre class="pre codeblock prettyprint lang-xml"><span class="ph emphasis emphasis">&lt;mvc:View
   xmlns=&quot;sap.m&quot;
   xmlns:mvc=&quot;sap.ui.core.mvc&quot;&gt;
   &lt;List
      headerText=&quot;{i18n&gt;invoiceListTitle}&quot;
      class=&quot;sapUiResponsiveMargin&quot;
      width=&quot;auto&quot;
      items=&quot;{invoice&gt;/Invoices}&quot; &gt;
      &lt;items&gt;
         &lt;ObjectListItem
            title=&quot;{invoice&gt;Quantity} x {invoice&gt;ProductName}&quot;/&gt;
      &lt;/items&gt;
   &lt;/List&gt;
&lt;/mvc:View&gt;</span></pre>
<p class="p">The new view is displaying a list control with a custom header text. The item aggregation of
the list is bound to the root path <samp class="ph codeph">Invoices</samp> of the JSON data. And
since we defined a named model, we have to prefix each binding definition with the
identifier <samp class="ph codeph">invoice&gt;</samp>. </p>
<p class="p">In the <samp class="ph codeph">items</samp> aggregation, we define the template for the list that will be automatically repeated for each invoice of our test
data. More precisely, we use an <samp class="ph codeph">ObjectListItem</samp> to create a control for each aggregated child of the
<samp class="ph codeph">items</samp> aggregation. The <samp class="ph codeph">title</samp> property of the list item is bound to properties of a single
invoice. This is achieved by defining a relative path (without <samp class="ph codeph">/</samp> in the beginning). This works because we have bound
the <samp class="ph codeph">items</samp> aggregation via <samp class="ph codeph">items={invoice&gt;/Invoices}</samp> to the invoices.</p>
</section></div>
<div class="section"><section class="section" type="webapp/i18n/i18n.properties"><h2 class="section_title" style="font-size: 1.15em;">webapp/i18n/i18n.properties</h2>

<pre class="pre codeblock prettyprint lang-prefs"># App Descriptor
appTitle=Hello World
appDescription=A simple walkthrough app that explains the most important concepts of <span class="ph"><span class="ph pname">OpenUI5</span></span>

# Hello Panel
showHelloButtonText=Say Hello
helloMsg=Hello {0}
homePageTitle=Walkthrough
helloPanelTitle=Hello World
openDialogButtonText=Say Hello With Dialog
dialogCloseButtonText=Ok

<span class="ph emphasis emphasis"># Invoice List
invoiceListTitle=Invoices</span></pre>
<p class="p">In the text bundle the title of the list is added.</p>
</section></div>
</div><div class="related-links"> <div class="familylinks"><div class="parentlink"><br><strong>Parent topic: </strong><a class="link" href="../../#/topic/3da5f4be63264db99f2e5b04c5e853db.html" title="In this tutorial we will introduce you to all major development paradigms of OpenUI5." target="_top">Walkthrough</a><br></div><div class="previouslink"><br><strong>Previous: </strong><a class="link" href="../../#/topic/19453962b8074b7399372c65cbe05370.html" title="In this step, we expand our reuse concept and invoke the dialog at component level." target="_top">Step 19: Reuse Dialogs</a><br></div><div class="nextlink"><br><strong>Next: </strong><a class="link" href="../../#/topic/dfe04650afc046e0802abb1a1a90d2d9.html" title="The list of invoices is already looking nice, but what is an invoice without a price assigned? Typically prices are stored in a technical format and with a &apos;.&apos; delimiter in the data model. For example, our invoice for pineapples has the calculated price 87.2 without a currency. We are going to use the OpenUI5 data types to format the price properly, with a locale-dependent decimal separator and two digits after the separator." target="_top">Step 21: Data Types</a><br></div></div><div class="relinfo"><div class="relinfotitle ">Related Information</div><div><a class="link" href="../../#/topic/1da158152f644ba1ad408a3e982fd3df.html" title="Lists have properties and events and they contain list items that inherit from sap.m.ListItemBase, which provides navigation, selection and event features. The list item type determines the way the list item interacts by providing additional features." target="_top">Lists</a></div><div><a class="link" href="../../#/api/sap.m.List" target="_top" alt="#/api/sap.m.List" title="#/api/sap.m.List">API Reference: <samp class="ph codeph">sap.m.List</samp></a></div><div><a class="link" href="../../#/entity/sap.m.List" target="_top" alt="#/entity/sap.m.List" title="#/entity/sap.m.List">Samples: <samp class="ph codeph">sap.m.List</samp>
</a></div><div><a class="link" href="../../#/topic/91f057786f4d1014b6dd926db0e91070.html" title="List binding (or aggregation binding) is used to automatically create child controls according to model data." target="_top">List Binding (Aggregation Binding)</a></div></div></div></div></section><div class="clear"></div>
</div><div class="clearfix"></div></div></div><div class="clearfix"></div><div id="footer-container" class="grid_12"><footer>
	<div id="custom-footerSpacer"></div>
	
</footer>
</div></body></html>