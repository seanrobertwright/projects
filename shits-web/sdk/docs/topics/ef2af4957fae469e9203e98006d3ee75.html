<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-us" dir="ltr"><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Step 5: Batch Groups</title><link rel="icon" href="themes/sap-default/img/favicon.ico" type="image/x-icon"><link rel="shortcut icon" href="themes/sap-default/img/favicon.ico"><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="abstract" content="In this step, we have a closer look at batch groups. Batch groups are used to group multiple requests into one server request to improve the overall performance."><meta name="description" content="In this step, we have a closer look at batch groups. Batch groups are used to group multiple requests into one server request to improve the overall performance."><meta name="content category" content="development"><script type="text/javascript">var d4p = {"relativePath":'',"dev":false,"debug":false,"draft":false,"nextTopicHref":"b4f12660538147f8839b05cb03f1d478.html","previousTopicHref":"426ff318051a465191c861b51a74f00e.html"}</script><link rel="stylesheet" type="text/css" media="screen, projection" href="themes/sap-default/css/style.css"><script type="text/javascript">
      
        d4p.cssGridPath = d4p.dev ? 'html5-themes/modules/960-Responsive-Grid/css/' : 'themes/dita-d4p-classic/css/';
        var ADAPT_CONFIG = {
          // Where is your CSS?
          path: d4p.relativePath + d4p.cssGridPath,

          // false = Only run once, when page first loads.
          // true = Change on window resize and page tilt.
          dynamic: true,

          // Optional callback... myCallback(i, width)
          callback: doc_resize,

          // First range entry is the minimum.
          // Last range entry is the maximum.
          // Separate ranges by "to" keyword.
          range: [
             // small (size-0)
            '0px    to 760px  =',
             // medium (size-1, size-2)
            '760px  to 980px  = ',
            '980px  to 1270px = ',
             // large (size-3, size-5)
            '1270px to 1600px = ',
            '1600px to 1940px = ',
             // extra large (size-6)
            '1940px to 2540px = ',
            '2540px           = '
          ]
        };

        function doc_resize(i, width)
        {
          d4p.setBodyClassfunction(i, width);
        }


        
      </script><script type="text/javascript" src="toc-info.js"></script><script type="text/javascript" src="themes/sap-default/js/script.js"></script>
		<!--[if lt IE 9]>
			<script>
			  var e = ("abbr,article,aside,audio,canvas,datalist,details," +
			    "figure,footer,header,hgroup,mark,menu,meter,nav,output," +
			    "progress,section,time,video").split(',');
			  for (var i = 0; i < e.length; i++) {
			    document.createElement(e[i]);
			  }
			</script>
		<![endif]-->
        
    <script>
      function addLoadEvent(func) {
        var oldonload = window.onload;
        if (typeof window.onload != 'function') {
          window.onload = func;
        } else {
          window.onload = function() {
            if (oldonload) {
              oldonload();
        }
        func();
       }
     }
     }
      
    addLoadEvent(function() { prettyPrint();
if ($('#local-navigation').length) {
        $('#local-navigation').navigation();
    }


});
      
    </script>
     <script type="text/javascript" src="js/prettify.js"> </script><script id="search-processing" type="text/javascript" src="js/search-processing.js"> </script><script>function handleAreaClick(oArea) {window.parent.location.href = oArea.href;}</script><link type="text/css" rel="stylesheet" href="css/overrides.css"></head><body class="en-us sap-default centered navigation-default toc-injection enumeration-disabled" style="font-family: &apos;72&apos;, Arial, Helvetica, sans-serif;"><div id="d4h5-main-container" class="container_12" role="application"><ul id="page-links" class="hidden"><li><a id="skip-to-content" href="#d4h5-main-content">Skip to content</a></li><li><a id="skip-to-localnav" href="#local-navigation">Skip to navigation</a></li><li><a id="skip-to-footer" href="#footer-container">Skip to footer</a></li></ul><div id="d4h5-section-container" class="grid_12" style="padding-top: 0;"><div id="d4h5-main-content" class="grid_8 alpha omega" style="margin: 0 0.5em;"><section><div id="content-toolbar" class="toolbar hide-for-small"><div class="familylinks"><div class="parentlink"><br><strong>Parent topic: </strong><a class="link" href="../../#/topic/bcdbde6911bd4fc68fd435cf8e306ed0.html" title="In this tutorial, we explore how features of OData V4 can be used in OpenUI5. We write a small app that consumes data from an OData V4 service to understand how to access, modify, aggregate, and filter data in an OData V4 model." target="_top">OData V4</a><br></div><div class="previouslink"><br><strong>Previous: </strong><a class="link" href="../../#/topic/426ff318051a465191c861b51a74f00e.html" title="In this step, we add features to filter, sort, and count the user data by using the OData V4 model API to apply OData system query options $filter, $orderby, and $count." target="_top">Step 4: Filtering, Sorting, and Counting</a><br></div><div class="nextlink"><br><strong>Next: </strong><a class="link" href="../../#/topic/b4f12660538147f8839b05cb03f1d478.html" title="In this step, we will make it possible to create and edit (update) user data from the user interface and send the data to the back end." target="_top">Step 6: Create and Edit</a><br></div></div></div><div class="page concept  - topic-topic concept-concept " id="loioef2af4957fae469e9203e98006d3ee75"><h1 class="title topictitle1" hidden>Step 5: Batch Groups</h1><div class="body conbody"><p class="shortdesc" hidden>In this step, we have a closer look at batch groups. Batch groups are used to group
multiple requests into one server request to improve the overall performance. </p>
<div class="section" id="loioef2af4957fae469e9203e98006d3ee75__section_bt4_fxc_z1b"><section class="section" type="Preview"><h2 class="section_title" style="font-size: 1.15em;">Preview</h2>
<div class="fig fignone" id="loioef2af4957fae469e9203e98006d3ee75__fig_klh_5kw_4cb"><div class="figbody">

<img class="inline" id="loioef2af4957fae469e9203e98006d3ee75__image_dq3_spg_mcb" src="loio3ac4fcc0ea714c7c9157b22cbca4db79_LowRes.png">
</div><span class="figcap">No visual change compared to the last step</span></div></section></div>
<div class="section" id="loioef2af4957fae469e9203e98006d3ee75__section_tsr_gxc_z1b"><section class="section" type="Coding"><h2 class="section_title" style="font-size: 1.15em;">Coding</h2><p class="p">You can view and download all files <span class="ph">at <a class="xref" href="../../#/sample/sap.ui.core.tutorial.odatav4.05/preview" target="_top" alt="#/sample/sap.ui.core.tutorial.odatav4.05/preview" title="#/sample/sap.ui.core.tutorial.odatav4.05/preview">OData V4 - Step 5</a></span>.</p></section></div>
<div class="section" id="loioef2af4957fae469e9203e98006d3ee75__section_pp2_mxc_z1b"><section class="section" type="webapp/manifest.json"><h2 class="section_title" style="font-size: 1.15em;">webapp/manifest.json</h2>

<pre class="pre codeblock prettyprint lang-json">...
				&quot;&quot;: {
				&quot;dataSource&quot;: &quot;default&quot;,
				&quot;settings&quot;: {
					&quot;autoExpandSelect&quot;: true,
					&quot;operationMode&quot;: &quot;Server&quot;,
					<span class="ph emphasis emphasis">&quot;groupId&quot;: &quot;$auto&quot;</span>,
					&quot;synchronizationMode&quot;: &quot;None&quot;
				}
...</pre>
<p class="p">In the previous steps, batch processing was turned off, so that we could monitor the network
traffic between our app and the service more easily. Now we turn on batch processing
by changing the <samp class="ph codeph">groupID</samp> to <samp class="ph codeph">$auto</samp>. You can also
just remove the line from the code as this is the default.</p>
<p class="p">We now run the app and open the browser developer tools. On the
<span class="ph uicontrol">Console</span> tab, we clear all messages and choose the
<span class="ph uicontrol">Refresh</span> button.</p>
<aside class="note tip" aria-labelledby="note_0_title"><div class="title" id="note_0_title"><strong>Tip</strong></div>
<p class="p">Change the settings of the <span class="ph uicontrol">Console</span> so that it only displays
information messages, not warnings and errors, to make it easier to find the
messages we&apos;re looking for.</p></aside>
<p class="p">We see that the request is now bundled: To read the user data, the app now sends a
<samp class="ph codeph">POST</samp> request instead of a <samp class="ph codeph">GET</samp> request to the
server. The URL of the <samp class="ph codeph">POST</samp> request does not include the
<samp class="ph codeph">path</samp> to the data we want. Instead it ends with
<samp class="ph codeph">$batch</samp> that indicates that this is a batch request.</p>
<div class="p">A <samp class="ph codeph">$batch</samp> request uses multipart MIME to put several requests into one. This
makes it harder to analyze when looking at the request in the browser developer
tools. To overcome this issue, you can:<ul class="ul" id="loioef2af4957fae469e9203e98006d3ee75__ul_lxy_jkm_scb">
<li class="li">
<p class="p">Switch the group ID to <samp class="ph codeph">$direct</samp> temporarily by changing
the source code or changing the default value in the debugger.</p>
</li>
<li class="li">
<p class="p">Copy the relevant part of the request or response from the developer
tools to an editor and auto-format it as JSON to analyze it.</p>
</li>
</ul></div>
</section></div>
</div><div class="related-links"> <div class="familylinks"><div class="parentlink"><br><strong>Parent topic: </strong><a class="link" href="../../#/topic/bcdbde6911bd4fc68fd435cf8e306ed0.html" title="In this tutorial, we explore how features of OData V4 can be used in OpenUI5. We write a small app that consumes data from an OData V4 service to understand how to access, modify, aggregate, and filter data in an OData V4 model." target="_top">OData V4</a><br></div><div class="previouslink"><br><strong>Previous: </strong><a class="link" href="../../#/topic/426ff318051a465191c861b51a74f00e.html" title="In this step, we add features to filter, sort, and count the user data by using the OData V4 model API to apply OData system query options $filter, $orderby, and $count." target="_top">Step 4: Filtering, Sorting, and Counting</a><br></div><div class="nextlink"><br><strong>Next: </strong><a class="link" href="../../#/topic/b4f12660538147f8839b05cb03f1d478.html" title="In this step, we will make it possible to create and edit (update) user data from the user interface and send the data to the back end." target="_top">Step 6: Create and Edit</a><br></div></div><div class="relinfo"><div class="relinfotitle ">Related Information</div><div><a class="link" href="../../#/topic/74142a38e3d4467c8d6a70b28764048f.html" title="OData V4 allows you to group multiple operations into a single HTTP request payload, as described in the official OData V4 specification Part 1, Batch Requests (see the link under Related Information for more details)." target="_top">Batch Control</a></div><div><a class="link" href="../../#/topic/5a0d286c5606424b8e0d663c87445733.html" title="The OData V4 model offers the features described below which influence performance." target="_top">Performance Aspects</a></div></div></div></div></section><div class="clear"></div>
</div><div class="clearfix"></div></div></div><div class="clearfix"></div><div id="footer-container" class="grid_12"><footer>
	<div id="custom-footerSpacer"></div>
	
</footer>
</div></body></html>