<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-us" dir="ltr"><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Step 16: Adding the Date Formatter</title><link rel="icon" href="themes/sap-default/img/favicon.ico" type="image/x-icon"><link rel="shortcut icon" href="themes/sap-default/img/favicon.ico"><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="abstract" content="Our formatter does its job, but it is not yet used. In this step we will use it."><meta name="description" content="Our formatter does its job, but it is not yet used. In this step we will use it."><meta name="content category" content="development"><script type="text/javascript">var d4p = {"relativePath":'',"dev":false,"debug":false,"draft":false,"nextTopicHref":"3a9728ec31f94ca18a7d543ce419d85d.html","previousTopicHref":"bc4114a88e4d4ac1a0f53b2a7a92b226.html"}</script><link rel="stylesheet" type="text/css" media="screen, projection" href="themes/sap-default/css/style.css"><script type="text/javascript">
      
        d4p.cssGridPath = d4p.dev ? 'html5-themes/modules/960-Responsive-Grid/css/' : 'themes/dita-d4p-classic/css/';
        var ADAPT_CONFIG = {
          // Where is your CSS?
          path: d4p.relativePath + d4p.cssGridPath,

          // false = Only run once, when page first loads.
          // true = Change on window resize and page tilt.
          dynamic: true,

          // Optional callback... myCallback(i, width)
          callback: doc_resize,

          // First range entry is the minimum.
          // Last range entry is the maximum.
          // Separate ranges by "to" keyword.
          range: [
             // small (size-0)
            '0px    to 760px  =',
             // medium (size-1, size-2)
            '760px  to 980px  = ',
            '980px  to 1270px = ',
             // large (size-3, size-5)
            '1270px to 1600px = ',
            '1600px to 1940px = ',
             // extra large (size-6)
            '1940px to 2540px = ',
            '2540px           = '
          ]
        };

        function doc_resize(i, width)
        {
          d4p.setBodyClassfunction(i, width);
        }


        
      </script><script type="text/javascript" src="toc-info.js"></script><script type="text/javascript" src="themes/sap-default/js/script.js"></script>
		<!--[if lt IE 9]>
			<script>
			  var e = ("abbr,article,aside,audio,canvas,datalist,details," +
			    "figure,footer,header,hgroup,mark,menu,meter,nav,output," +
			    "progress,section,time,video").split(',');
			  for (var i = 0; i < e.length; i++) {
			    document.createElement(e[i]);
			  }
			</script>
		<![endif]-->
        
    <script>
      function addLoadEvent(func) {
        var oldonload = window.onload;
        if (typeof window.onload != 'function') {
          window.onload = func;
        } else {
          window.onload = function() {
            if (oldonload) {
              oldonload();
        }
        func();
       }
     }
     }
      
    addLoadEvent(function() { prettyPrint();
if ($('#local-navigation').length) {
        $('#local-navigation').navigation();
    }


});
      
    </script>
     <script type="text/javascript" src="js/prettify.js"> </script><script id="search-processing" type="text/javascript" src="js/search-processing.js"> </script><script>function handleAreaClick(oArea) {window.parent.location.href = oArea.href;}</script><link type="text/css" rel="stylesheet" href="css/overrides.css"></head><body class="en-us sap-default centered navigation-default toc-injection enumeration-disabled" style="font-family: &apos;72&apos;, Arial, Helvetica, sans-serif;"><div id="d4h5-main-container" class="container_12" role="application"><ul id="page-links" class="hidden"><li><a id="skip-to-content" href="#d4h5-main-content">Skip to content</a></li><li><a id="skip-to-localnav" href="#local-navigation">Skip to navigation</a></li><li><a id="skip-to-footer" href="#footer-container">Skip to footer</a></li></ul><div id="d4h5-section-container" class="grid_12" style="padding-top: 0;"><div id="d4h5-main-content" class="grid_8 alpha omega" style="margin: 0 0.5em;"><section><div id="content-toolbar" class="toolbar hide-for-small"><div class="familylinks"><div class="parentlink"><br><strong>Parent topic: </strong><a class="link" href="../../#/topic/291c9121e6044ab381e0b51716f97f52.html" title="In this tutorial we will test application functionality with the testing tools that are delivered with OpenUI5. At different steps of this tutorial you will write tests using QUnit, OPA5, and the mock server. Additionally, you will learn about testing strategies, Test Driven Development (TDD), and much more." target="_top">Testing</a><br></div><div class="previouslink"><br><strong>Previous: </strong><a class="link" href="../../#/topic/bc4114a88e4d4ac1a0f53b2a7a92b226.html" title="It&apos;s now time to improve the content of the Info tab. We want to see the Posted At date in a formatted way. Based on the age of the post, we either display the time, a textural representation of the day, or the date only." target="_top">Step 15: Writing a Short Date Formatter Using TDD</a><br></div></div></div><div class="page concept  - topic-topic concept-concept " id="loio2ca583d6b9c24e4d8f189eada7c4b668"><h1 class="title topictitle1" hidden>Step 16: Adding the Date Formatter</h1><div class="body conbody"><p class="shortdesc" hidden>Our formatter does its job, but it is not yet used. In this step we will use
it.</p>
<div class="section"><section class="section" type="Preview"><h2 class="section_title" style="font-size: 1.15em;">Preview</h2>

<div class="fig fignone" id="loio2ca583d6b9c24e4d8f189eada7c4b668__fig_r1j_pst_mr"><div class="figbody">

<img class="inline" id="loio2ca583d6b9c24e4d8f189eada7c4b668__image_esx_4md_jt" src="loio9aa15b0691014bd287a5a5d874f6f064_LowRes.png">
</div><span class="figcap">Date formatter in action</span></div>
</section></div>
<div class="section"><section class="section" type="Coding"><h2 class="section_title" style="font-size: 1.15em;">Coding</h2>

<p class="p">You can view and download all files in the <span class="ph uicontrol">Samples</span> in the Demo Kit
<span class="ph">at <a class="xref" href="../../#/sample/sap.m.tutorial.testing.16/preview" target="_top" alt="#/sample/sap.m.tutorial.testing.16/preview" title="#/sample/sap.m.tutorial.testing.16/preview">Testing - Step 16</a></span>.</p>
</section></div>
<div class="section"><section class="section" type="webapp/view/Post.view.xml"><h2 class="section_title" style="font-size: 1.15em;">webapp/view/Post.view.xml</h2>

<pre class="pre codeblock prettyprint lang-xml">&#x2026;
&lt;IconTabBar id=&quot;iconTabBar&quot;
			expanded=&quot;{device&gt;/isNoPhone}&quot;
			class=&quot;sapUiResponsiveContentPadding&quot;&gt;
	&lt;items&gt;
		&lt;IconTabFilter icon=&quot;sap-icon://hint&quot; key=&quot;info&quot;&gt;
			&lt;form:SimpleForm&gt;
				&lt;form:content&gt;
					&lt;Label text=&quot;{i18n&gt;postDateLabel}&quot;/&gt;
					&lt;Text text=&quot;<span class="ph emphasis emphasis">{
						path: &apos;Timestamp&apos;,
						formatter: &apos;.formatter.date&apos;
					}</span>&quot;/&gt;
					&lt;Label text=&quot;{i18n&gt;postDescriptionLabel}&quot;/&gt;
					&lt;Text text=&quot;{Description}&quot;/&gt;
				&lt;/form:content&gt;
			&lt;/form:SimpleForm&gt;
		&lt;/IconTabFilter&gt;
		&#x2026;
	&lt;/items&gt;
&lt;/IconTabBar&gt;
&#x2026;</pre>
<p class="p">On the <span class="ph uicontrol">Info</span> tab we bind the date field to a format method
<samp class="ph codeph">.formatter.date</samp> of the controller of the view. The leading
<samp class="ph codeph">.</samp> indicates that the function is defined on the controller
instance.</p>
</section></div>
<div class="section"><section class="section" type="webapp/model/formatter.js"><h2 class="section_title" style="font-size: 1.15em;">webapp/model/formatter.js</h2>

<pre class="pre codeblock prettyprint lang-js">sap.ui.define([ <span class="ph emphasis emphasis">&quot;sap/ui/demo/bulletinboard/model/DateFormatter&quot;</span> ], function (<span class="ph emphasis emphasis">DateFormatter</span>) {
	...
	return {
		...
		numberUnit: function(sValue) {
			...
		}<span class="ph emphasis emphasis">,
		date: function(date) {
			return new DateFormatter({now: Date.now}).format(date);
		}
</span>
	};
});</pre>
<p class="p">In the <span class="ph filepath">formatter.js file</span>, create an instance of the previously
implemented <samp class="ph codeph">DateFormatter</samp> and provide the necessary
dependencies.</p>
<div class="p">Now run the app again to see that the formatter is applied on the post date of the
detail page.<aside class="note" aria-labelledby="note_0_title"><div class="title" id="note_0_title"><strong>Note</strong></div>
<p class="p">The files that create objects with dependencies should be kept simple. They
do not have multiple code paths caused by if-else statements or loops. To
test these components, just a few simple integration tests, or merely smoke
tests, are sufficient. We already know that the
<samp class="ph codeph">DateFormatter</samp> does the job right for all the different
cases.</p></aside></div>
</section></div>
<div class="section" id="loio2ca583d6b9c24e4d8f189eada7c4b668__section_ovt_b2t_qbb"><section class="section" type="Summary"><h2 class="section_title" style="font-size: 1.15em;">Summary</h2>You should now be familiar with the
major development paradigms and concepts of <span class="ph"><span class="ph pname">OpenUI5</span></span> and have created a
very simple first app. You are now ready to build a proper app based on what you&apos;ve
learned.</section></div>
</div><div class="related-links"> <div class="familylinks"><div class="parentlink"><br><strong>Parent topic: </strong><a class="link" href="../../#/topic/291c9121e6044ab381e0b51716f97f52.html" title="In this tutorial we will test application functionality with the testing tools that are delivered with OpenUI5. At different steps of this tutorial you will write tests using QUnit, OPA5, and the mock server. Additionally, you will learn about testing strategies, Test Driven Development (TDD), and much more." target="_top">Testing</a><br></div><div class="previouslink"><br><strong>Previous: </strong><a class="link" href="../../#/topic/bc4114a88e4d4ac1a0f53b2a7a92b226.html" title="It&apos;s now time to improve the content of the Info tab. We want to see the Posted At date in a formatted way. Based on the age of the post, we either display the time, a textural representation of the day, or the date only." target="_top">Step 15: Writing a Short Date Formatter Using TDD</a><br></div></div></div></div></section><div class="clear"></div>
</div><div class="clearfix"></div></div></div><div class="clearfix"></div><div id="footer-container" class="grid_12"><footer>
	<div id="custom-footerSpacer"></div>
	
</footer>
</div></body></html>